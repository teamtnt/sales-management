import{a as H,o as c,c as u,b as t,d as f,e as y,u as A,r as $,f as p,w as _,g as k,F as T,h as M,i as s,t as v,v as D,j as m,D as E,n as w,Y as x,p as j,k as N,m as B,_ as he,l as ge,q as _e,E as me,s as G,x as fe,y as ve,z as I,A as ye,T as we,B as X,C as Y,G as W,H as xe,I as be,J as ke,S as $e,K,N as Se,L as Ce,$ as Be,M as Te,O as Me,P as je,Q as Ne}from"./vendor-6c7917cc.js";let Ae=document.head.querySelector('meta[name="csrf-token"]').content;H.defaults.headers.common["X-CSRF-TOKEN"]=Ae.textContent;H.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.axios=H;const Le="Dashboard",De="List",Ee="Edit",Ve="Delete",We="Remove",Oe="Name",He="Description",Ie="Count",Re="Speichern",Ue="Stornieren",ze="Vorname",qe="Nachname",Fe="Email",Pe="Zurück",Ge={"Good day":"Guten Tag",Dashboard:Le,"All Lists":"All Lists",List:De,Edit:Ee,Delete:Ve,Remove:We,Name:Oe,Description:He,Count:Ie,Save:Re,Cancel:Ue,"Message Body":"Nachrichtentext",Firstname:ze,Lastname:qe,"Add message placeholders":"Nachrichtenplatzhalter hinzufügen",Email:Fe,Back:Pe};const Xe={class:"bg-light h-100 shadow-lg"},Ye=f('<h5 class="sidebar-heading py-3 px-2"><span class="d-flex align-items-center justify-content-center fw-lighter text-center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-move align-middle me-2"><polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line></svg>You can drag these nodes to the pane</span></h5>',1),Ke={class:"d-flex flex-column gap-2"},Qe={class:"d-flex flex-wrap gap-2 align-items-center my-3 px-4"},Je=f('<span class="action-box px-3 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock align-middle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></span> Start </span>',1),Ze=[Je],et=f('<div class="bg-white shadow-sm px-3 py-2"><h6 class="mb-0"><span class="d-flex align-items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-pull-request align-middle me-2"><circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line></svg> Conditions</span></h6></div>',1),tt={class:"d-flex flex-wrap gap-4 align-items-center my-3 px-4"},st=f('<span class="condition-box pe-2 justify-content-end"><span class="condition-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Stage Changed</span>',1),ot=[st],nt=f('<span class="condition-box pe-2 justify-content-end"><span class="condition-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Message Opened </span>',1),at=[nt],it=f('<div class="bg-white shadow-sm px-3 py-2"><h6 class="mb-0"><span class="d-flex align-items-center"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-repeat align-middle me-2"><polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path></svg> Actions</span></h6></div>',1),lt={class:"d-flex flex-wrap gap-4 align-items-center my-3 px-4"},dt=f('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail align-middle"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></span> Send Message </span>',1),rt=[dt],ct=f('<span class="action-box px-3 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock align-middle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></span> Wait </span>',1),pt=[ct],ut=f('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag align-middle"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg></span> Add Tag </span>',1),ht=[ut],gt=f('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list align-middle"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></span> Move To List </span>',1),_t=[gt],mt=f('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg></span> A/B Split </span>',1),ft=[mt],vt={__name:"Sidebar",setup(e){const o=(n,a,i)=>{n.dataTransfer&&(n.dataTransfer.setData("application/vueflow",a),n.dataTransfer.effectAllowed="move")};return(n,a)=>(c(),u("aside",Xe,[Ye,t("div",Ke,[t("div",Qe,[t("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[0]||(a[0]=i=>o(i,"start"))},Ze,32)]),et,t("div",tt,[t("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[1]||(a[1]=i=>o(i,"stage.changed"))},ot,32),t("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[2]||(a[2]=i=>o(i,"message.opened"))},at,32)]),it,t("div",lt,[t("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[3]||(a[3]=i=>o(i,"message.sent"))},rt,32),t("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[4]||(a[4]=i=>o(i,"wait"))},pt,32),t("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[5]||(a[5]=i=>o(i,"add.tag"))},ht,32),t("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[6]||(a[6]=i=>o(i,"move.to.list"))},_t,32),t("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[7]||(a[7]=i=>o(i,"ab.split"))},ft,32)])])]))}};const C=(e,o)=>{const n=e.__vccOpts||e;for(const[a,i]of o)n[a]=i;return n},Q=e=>(j("data-v-eeb4210d"),e=e(),N(),e),yt={class:"vue-flow__node-input shadow-sm"},wt=["value"],xt=f('<span class="condition-box pe-2 justify-content-end" data-v-eeb4210d><span class="condition-box__icon" data-v-eeb4210d><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle" data-v-eeb4210d><polyline points="23 4 23 10 17 10" data-v-eeb4210d></polyline><polyline points="1 20 1 14 7 14" data-v-eeb4210d></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15" data-v-eeb4210d></path></svg></span> Stage Changed</span>',1),bt=Q(()=>t("span",{class:"circle"},null,-1)),kt=Q(()=>t("span",{class:"circle"},null,-1)),$t={__name:"StageChanged",props:{id:String,label:String,type:String},setup(e){const o=e,n=y(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),a=y(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let i=window.stages;const{findNode:h}=A(),d=$(h(o.id));return(r,g)=>(c(),u("div",yt,[p(s(E),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":e.id,position:s(m).Right},{default:_(()=>[k(t("select",{name:"argument",class:"form-select","onUpdate:modelValue":g[0]||(g[0]=l=>d.value.data=l)},[(c(!0),u(T,null,M(s(i),l=>(c(),u("option",{value:l},v(l.title),9,wt))),256))],512),[[D,d.value.data]])]),_:1},8,["node-id","position"]),xt,p(s(x),{id:`state.stage.changed.target.${e.id}`,type:"target",position:s(m).Top,style:w(s(n)),class:"handle"},{default:_(()=>[bt]),_:1},8,["id","position","style"]),p(s(x),{id:`state.stage.changed.${e.id}`,type:"source",position:s(m).Bottom,style:w(s(a)),class:"handle"},{default:_(()=>[kt]),_:1},8,["id","position","style"])]))}},St=C($t,[["__scopeId","data-v-eeb4210d"]]);const J=e=>(j("data-v-3573514c"),e=e(),N(),e),Ct={class:"vue-flow__node-input shadow-sm"},Bt=["value"],Tt=f('<span class="action-box pe-2 justify-content-end" data-v-3573514c><span class="action-box__icon" data-v-3573514c><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail align-middle" data-v-3573514c><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" data-v-3573514c></path><polyline points="22,6 12,13 2,6" data-v-3573514c></polyline></svg></span> Send Message </span>',1),Mt=J(()=>t("span",{class:"circle"},null,-1)),jt=J(()=>t("span",{class:"circle"},null,-1)),Nt={__name:"SendMessage",props:{id:String,label:String,type:String},setup(e){const o=e,n=y(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),a=y(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let i=window.messages;const{findNode:h}=A(),d=$(h(o.id));return(r,g)=>(c(),u("div",Ct,[p(s(E),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":e.id,position:s(m).Right},{default:_(()=>[k(t("select",{name:"argument",class:"form-select","onUpdate:modelValue":g[0]||(g[0]=l=>d.value.data=l)},[(c(!0),u(T,null,M(s(i),l=>(c(),u("option",{value:l},v(l.title),9,Bt))),256))],512),[[D,d.value.data]])]),_:1},8,["node-id","position"]),Tt,p(s(x),{id:`state.message.sent.${e.id}`,type:"source",position:s(m).Bottom,style:w(s(a)),class:"handle"},{default:_(()=>[Mt]),_:1},8,["id","position","style"]),p(s(x),{id:`state.message.sent.target.${e.id}`,type:"target",position:s(m).Top,style:w(s(n)),class:"handle"},{default:_(()=>[jt]),_:1},8,["id","position","style"])]))}},At=C(Nt,[["__scopeId","data-v-3573514c"]]);const Z=e=>(j("data-v-22cc5686"),e=e(),N(),e),Lt={class:"vue-flow__node-input shadow-sm"},Dt=["value"],Et=f('<span class="action-box pe-2 justify-content-center" data-v-22cc5686><span class="action-box__icon" data-v-22cc5686><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock align-middle" data-v-22cc5686><circle cx="12" cy="12" r="10" data-v-22cc5686></circle><polyline points="12 6 12 12 16 14" data-v-22cc5686></polyline></svg></span> Wait </span>',1),Vt=Z(()=>t("span",{class:"circle"},null,-1)),Wt=Z(()=>t("span",{class:"circle"},null,-1)),Ot={__name:"Wait",props:{id:String,label:String,type:String},setup(e){const o=e,n=y(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),a=y(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let i=window.waitOptions;const{findNode:h}=A(),d=$(h(o.id));return(r,g)=>(c(),u("div",Lt,[p(s(E),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":e.id,position:s(m).Right},{default:_(()=>[k(t("select",{name:"argument",class:"form-select","onUpdate:modelValue":g[0]||(g[0]=l=>d.value.data=l)},[(c(!0),u(T,null,M(s(i),l=>(c(),u("option",{value:l},v(l.title),9,Dt))),256))],512),[[D,d.value.data]])]),_:1},8,["node-id","position"]),Et,p(s(x),{id:`state.wait.target.${e.id}`,type:"target",position:s(m).Top,style:w(s(n)),class:"handle"},{default:_(()=>[Vt]),_:1},8,["id","position","style"]),p(s(x),{id:`state.wait.${e.id}`,type:"source",position:s(m).Bottom,style:w(s(a)),class:"handle"},{default:_(()=>[Wt]),_:1},8,["id","position","style"])]))}},Ht=C(Ot,[["__scopeId","data-v-22cc5686"]]);const It=e=>(j("data-v-3cef441e"),e=e(),N(),e),Rt={class:"vue-flow__node-input shadow-sm"},Ut=f('<span class="action-box pe-2 justify-content-center" data-v-3cef441e><span class="action-box__icon" data-v-3cef441e><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock align-middle" data-v-3cef441e><circle cx="12" cy="12" r="10" data-v-3cef441e></circle><polyline points="12 6 12 12 16 14" data-v-3cef441e></polyline></svg></span> Start </span>',1),zt=It(()=>t("span",{class:"circle"},null,-1)),qt={__name:"Start",props:{id:String,label:String,type:String},setup(e){const o=y(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-6px"}));return(n,a)=>(c(),u("div",Rt,[Ut,p(s(x),{id:"start",type:"source",position:s(m).Bottom,style:w(s(o)),class:"handle"},{default:_(()=>[zt]),_:1},8,["position","style"])]))}},Ft=C(qt,[["__scopeId","data-v-3cef441e"]]);const ee=e=>(j("data-v-7cf443ff"),e=e(),N(),e),Pt={class:"vue-flow__node-input shadow-sm"},Gt=f('<span class="action-box pe-2 justify-content-center" data-v-7cf443ff><span class="action-box__icon" data-v-7cf443ff><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag align-middle" data-v-7cf443ff><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" data-v-7cf443ff></path><line x1="7" y1="7" x2="7.01" y2="7" data-v-7cf443ff></line></svg></span> AddTag </span>',1),Xt=ee(()=>t("span",{class:"circle"},null,-1)),Yt=ee(()=>t("span",{class:"circle"},null,-1)),Kt={__name:"AddTag",props:{id:String,label:String,type:String},setup(e){const o=y(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),n=y(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));return(a,i)=>(c(),u("div",Pt,[Gt,p(s(x),{id:`state.tag.add.${e.id}`,type:"source",position:s(m).Bottom,style:w(s(n)),class:"handle"},{default:_(()=>[Xt]),_:1},8,["id","position","style"]),p(s(x),{id:`state.tag.add.target.${e.id}`,type:"target",position:s(m).Top,style:w(s(o)),class:"handle"},{default:_(()=>[Yt]),_:1},8,["id","position","style"])]))}},Qt=C(Kt,[["__scopeId","data-v-7cf443ff"]]);const R=e=>(j("data-v-b6c9d8c7"),e=e(),N(),e),Jt={class:"vue-flow__node-input shadow-sm"},Zt=["value"],es=f('<span class="condition-box pe-2 justify-content-end" data-v-b6c9d8c7><span class="condition-box__icon" data-v-b6c9d8c7><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle" data-v-b6c9d8c7><polyline points="23 4 23 10 17 10" data-v-b6c9d8c7></polyline><polyline points="1 20 1 14 7 14" data-v-b6c9d8c7></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15" data-v-b6c9d8c7></path></svg></span> Message Opened </span>',1),ts=R(()=>t("span",{class:"circle"},null,-1)),ss=R(()=>t("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1)),os=R(()=>t("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)),ns={__name:"MessageOpened",props:{id:String,label:String,type:String},setup(e){const o=e,n=y(()=>({backgroundColor:"green",left:"48px",width:"14px",height:"14px",right:"auto",bottom:"-7px"})),a=y(()=>({backgroundColor:"red",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"})),i=y(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-6px"}));let h=window.messagesOpened;const{findNode:d}=A(),r=$(d(o.id));return(g,l)=>(c(),u("div",Jt,[p(s(E),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":e.id,position:s(m).Right},{default:_(()=>[k(t("select",{name:"argument",class:"form-select","onUpdate:modelValue":l[0]||(l[0]=S=>r.value.data=S)},[(c(!0),u(T,null,M(s(h),S=>(c(),u("option",{value:S},v(S.title),9,Zt))),256))],512),[[D,r.value.data]])]),_:1},8,["node-id","position"]),es,p(s(x),{id:`state.message.opened.target.${e.id}`,type:"target",position:s(m).Top,style:w(s(i)),class:"handle"},{default:_(()=>[ts]),_:1},8,["id","position","style"]),p(s(x),{id:`state.message.opened.${e.id}`,type:"source",position:s(m).Bottom,style:w(s(n)),class:"handle"},{default:_(()=>[ss]),_:1},8,["id","position","style"]),p(s(x),{id:`state.message.not_opened.${e.id}`,type:"source",position:s(m).Bottom,style:w(s(a)),class:"handle"},{default:_(()=>[os]),_:1},8,["id","position","style"])]))}},as=C(ns,[["__scopeId","data-v-b6c9d8c7"]]);const te=e=>(j("data-v-f7efa779"),e=e(),N(),e),is={class:"vue-flow__node-input shadow-sm"},ls=["value"],ds=f('<span class="action-box pe-2 justify-content-center" data-v-f7efa779><span class="action-box__icon" data-v-f7efa779><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list align-middle" data-v-f7efa779><line x1="8" y1="6" x2="21" y2="6" data-v-f7efa779></line><line x1="8" y1="12" x2="21" y2="12" data-v-f7efa779></line><line x1="8" y1="18" x2="21" y2="18" data-v-f7efa779></line><line x1="3" y1="6" x2="3.01" y2="6" data-v-f7efa779></line><line x1="3" y1="12" x2="3.01" y2="12" data-v-f7efa779></line><line x1="3" y1="18" x2="3.01" y2="18" data-v-f7efa779></line></svg></span> Move To List </span>',1),rs=te(()=>t("span",{class:"circle"},null,-1)),cs=te(()=>t("span",{class:"circle"},null,-1)),ps={__name:"MoveToList",props:{id:String,label:String,type:String},setup(e){const o=e,n=y(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),a=y(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let i=window.contactLists;const{findNode:h}=A(),d=$(h(o.id));return(r,g)=>(c(),u("div",is,[p(s(E),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":e.id,position:s(m).Right},{default:_(()=>[k(t("select",{name:"argument",class:"form-select","onUpdate:modelValue":g[0]||(g[0]=l=>d.value.data=l)},[(c(!0),u(T,null,M(s(i),l=>(c(),u("option",{value:l},v(l.title),9,ls))),256))],512),[[D,d.value.data]])]),_:1},8,["node-id","position"]),ds,p(s(x),{id:`state.move_to_list.${e.id}`,type:"source",position:s(m).Bottom,style:w(s(a)),class:"handle"},{default:_(()=>[rs]),_:1},8,["id","position","style"]),p(s(x),{id:`state.move_to_list.target.${e.id}`,type:"target",position:s(m).Top,style:w(s(n)),class:"handle"},{default:_(()=>[cs]),_:1},8,["id","position","style"])]))}},us=C(ps,[["__scopeId","data-v-f7efa779"]]);const U=e=>(j("data-v-e0952288"),e=e(),N(),e),hs={class:"vue-flow__node-input shadow-sm"},gs=["value"],_s=f('<span class="action-box ps-2 justify-content-center" data-v-e0952288><span class="action-box__icon" data-v-e0952288><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1" data-v-e0952288><rect x="3" y="3" width="18" height="18" rx="2" ry="2" data-v-e0952288></rect><line x1="8" y1="12" x2="16" y2="12" data-v-e0952288></line><line x1="12" y1="16" x2="12" y2="16" data-v-e0952288></line><line x1="12" y1="8" x2="12" y2="8" data-v-e0952288></line></svg></span> A/B Split </span>',1),ms=U(()=>t("span",{class:"circle"},null,-1)),fs=U(()=>t("span",{class:"circle"},null,-1)),vs=U(()=>t("span",{class:"circle"},null,-1)),ys={__name:"ABSplit",props:{id:String,label:String,type:String},setup(e){const o=e,n=y(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),a=y(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",left:"48px",right:"auto",bottom:"-7px"})),i=y(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"}));let h=window.abSplit;const{findNode:d}=A(),r=$(d(o.id));return(g,l)=>(c(),u("div",hs,[p(s(E),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":e.id,position:s(m).Right},{default:_(()=>[k(t("select",{name:"argument",class:"form-select","onUpdate:modelValue":l[0]||(l[0]=S=>r.value.data=S)},[(c(!0),u(T,null,M(s(h),S=>(c(),u("option",{value:S},v(S.title),9,gs))),256))],512),[[D,r.value.data]])]),_:1},8,["node-id","position"]),_s,p(s(x),{id:`state.abSplit.target.${e.id}`,type:"target",position:s(m).Top,style:w(s(n)),class:"handle"},{default:_(()=>[ms]),_:1},8,["id","position","style"]),p(s(x),{id:`state.abSplit.left.${e.id}`,type:"source",position:s(m).Bottom,style:w(s(a)),class:"handle"},{default:_(()=>[fs]),_:1},8,["id","position","style"]),p(s(x),{id:`state.abSplit.right.${e.id}`,type:"source",position:s(m).Bottom,style:w(s(i)),class:"handle"},{default:_(()=>[vs]),_:1},8,["id","position","style"])]))}},ws=C(ys,[["__scopeId","data-v-e0952288"]]);const xs={class:"col-lg-7 col-xl-8 col-xxl-9 pe-0"},bs={class:"d-flex gap-2"},ks=["href"],$s=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-arrow-left-circle align-middle me-2"},[t("circle",{cx:"12",cy:"12",r:"10"}),t("polyline",{points:"12 8 8 12 12 16"}),t("line",{x1:"16",y1:"12",x2:"8",y2:"12"})],-1),Ss={class:"h3 mb-3 px-4 py-2 bg-white"},Cs={class:"d-flex gap-2"},Bs=["value"],Ts={class:"d-flex align-items-center"},Ms=t("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-save align-middle me-2"},[t("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),t("polyline",{points:"17 21 17 13 7 13 7 21"}),t("polyline",{points:"7 3 7 8 15 8"})],-1),js={class:"col-lg-5 col-xl-4 col-xxl-3 px-0"},Ns={__name:"WorkFlow",props:{panelTitle:{type:String,default:"Workflow"},workflowTitle:{type:String,default:"Untitled"},saveUrl:{type:String,default:"/automation/workflow/save"},elementsData:{type:Array,default:[]},messages:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesOpened:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},stages:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},abSplit:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},contactLists:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},waitOptions:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},backUrl:{type:String,default:"/"}},setup(e){const o=e,n={"stage.changed":B(St),"message.sent":B(At),wait:B(Ht),start:B(Ft),"add.tag":B(Qt),"move.to.list":B(us),"message.opened":B(as),"ab.split":B(ws)},a=$(o.elementsData),i=$(o.workflowTitle);let h=0;const d=()=>Math.floor(Math.random()*1e4+1)+`_${h++}`,{findNode:r,onConnect:g,nodes:l,edges:S,onNodeClick:mo,addEdges:oe,addNodes:ne,viewport:fo,project:ae,vueFlowRef:ie}=A({nodes:[]});window.messages=o.messages,window.messagesOpened=o.messagesOpened,window.contactLists=o.contactLists,window.waitOptions=o.waitOptions,window.abSplit=o.abSplit,window.stages=o.stages;const le=b=>{b.preventDefault(),b.dataTransfer&&(b.dataTransfer.dropEffect="move")};g(b=>oe([b]));const de=b=>{var F;const V=(F=b.dataTransfer)==null?void 0:F.getData("application/vueflow"),{left:O,top:ce}=ie.value.getBoundingClientRect(),pe=ae({x:b.clientX-O,y:b.clientY-ce}),q={id:d(),type:V,position:pe,label:`${V} node`};ne([q]),ge(()=>{const L=r(q.id),ue=_e(()=>L.dimensions,P=>{P.width>0&&P.height>0&&(L.position={x:L.position.x-L.dimensions.width/2,y:L.position.y-L.dimensions.height/2},ue())},{deep:!0,flush:"post"})})},re=function(){axios.post(o.saveUrl,{elements:a.value,title:i.value}).then(function(b){console.log(b),window.notyf.open({type:"success",message:"Workflow successfully saved!",duration:"5000",ripple:!0,dismissible:!0})}).catch(function(b){console.log(b),window.notyf.open({type:"warning",message:"Something went wrong!",duration:"5000",ripple:!0,dismissible:!0})})};return(b,V)=>(c(),u("div",{class:"row w-100 h-100 mx-0",onDrop:de},[t("div",xs,[p(s(he),{onDragover:le,modelValue:a.value,"onUpdate:modelValue":V[0]||(V[0]=O=>a.value=O),"node-types":n},{default:_(()=>[p(s(me)),p(s(G),null,{default:_(()=>[t("div",bs,[t("a",{class:"d-flex align-items-center h4 mb-3 px-4 py-2 text-white bg-info text-decoration-none",href:e.backUrl},[$s,t("span",null,v(b.$t("Back")),1)],8,ks),t("h1",Ss,v(e.panelTitle),1)])]),_:1}),p(s(G),{position:s(fe).BottomRight},{default:_(()=>[t("div",Cs,[t("input",{type:"text",class:"form-control",value:e.workflowTitle,style:{"min-width":"200px"}},null,8,Bs),t("button",{class:"btn btn-success text-uppercase px-4",onClick:re},[t("span",Ts,[Ms,ve(" "+v(b.$t("Save")),1)])])])]),_:1},8,["position"])]),_:1},8,["modelValue"])]),t("div",js,[p(vt)])],32))}};const As={class:"row p-3"},Ls={class:"d-flex justify-content-between"},Ds=["onClick"],Es=t("i",{class:"align-middle fas fa-fw fa-minus-circle"},null,-1),Vs=[Es],Ws=["onClick"],Os=t("i",{class:"align-middle ms-2 fas fa-fw fa-plus-circle"},null,-1),Hs=[Os],Is={class:"col-md-4"},Rs={class:"mb-3"},Us=t("label",{for:"stage_name",class:"form-label"},"Stage name",-1),zs=["name","onUpdate:modelValue"],qs={class:"col-md-5"},Fs={class:"mb-3"},Ps=t("label",{for:"stage_description",class:"form-label"},"Stage description",-1),Gs=["name","onUpdate:modelValue"],Xs={class:"col-md-3"},Ys={class:"d-flex flex-column mb-3"},Ks=t("label",{for:"stage_color",class:"form-label"},"Stage color",-1),Qs={class:"d-flex align-items-center"},Js=["name","onUpdate:modelValue"],Zs={class:"fs-4 ms-3"},eo=["name","value"],to={__name:"PipelineStageRepeater",props:{stages:{type:Array}},setup(e){const o=e,n=$([{name:"Default",description:"This is some description",color:"#366dc7"}]);I(()=>{o.stages.length&&(n.value=o.stages)});const a=()=>{n.value.push({name:"",description:"",color:"#366dc7"})},i=h=>{const d=n.value.indexOf(h);d>-1&&n.value.splice(d,1)};return(h,d)=>(c(),ye(we,{name:"stage-list",appear:""},{default:_(()=>[(c(!0),u(T,null,M(n.value,(r,g)=>(c(),u("div",{class:"d-flex flex-column bg-light mb-3 rounded-3",key:g},[t("div",As,[t("div",Ls,[t("h6",null,"#"+v(g+1)+" - "+v(r.name),1),t("div",null,[k(t("button",{class:"btn text-danger btn-lg border-0 p-0",onClick:Y(l=>i(r),["prevent"]),title:"Remove Stage"},Vs,8,Ds),[[X,g||!g&&n.value.length>1]]),k(t("button",{class:"btn text-info btn-lg border-0 p-0",title:"Add New Stage",onClick:Y(a,["prevent"])},Hs,8,Ws),[[X,g===n.value.length-1]])])]),t("div",Is,[t("div",Rs,[Us,k(t("input",{class:"form-control",name:`pipeline_stages[${g}][name]`,placeholder:"Enter stage name",type:"text",id:"stage_name","onUpdate:modelValue":l=>r.name=l},null,8,zs),[[W,r.name]])])]),t("div",qs,[t("div",Fs,[Ps,k(t("input",{class:"form-control",name:`pipeline_stages[${g}][description]`,placeholder:"Enter stage description",type:"text",id:"stage_description","onUpdate:modelValue":l=>r.description=l},null,8,Gs),[[W,r.description]])])]),t("div",Xs,[t("div",Ys,[Ks,t("div",Qs,[k(t("input",{type:"color",name:`pipeline_stages[${g}][color]`,id:"stage_color","onUpdate:modelValue":l=>r.color=l,style:{height:"30px"}},null,8,Js),[[W,r.color]]),t("span",Zs,v(r.color),1)])])]),t("input",{type:"hidden",name:`pipeline_stages[${g}][id]`,value:r.id},null,8,eo)])]))),128))]),_:1}))}};const so={class:"mb-3 position-relative d-flex flex-column align-items-center"},oo={for:"body",class:"form-label align-self-start"},no=["name"],ao={class:"placeholder-buttons bg-light"},io={class:"d-flex gap-1"},lo={key:0,class:"invalid-feedback"},ro={__name:"TextArea",props:{errorMessage:{type:String,required:!0},messageBody:{type:String},name:{type:String,required:!0}},setup(e){const o=e,n=$(""),a=$(null);I(()=>{n.value=o.messageBody});const i=(h,d)=>{h.preventDefault();const r=a.value,g=r.selectionStart,l=`[[${d}]]`;n.value=`${n.value.substring(0,g)} ${l}${n.value.substring(g)}`,r.focus()};return(h,d)=>(c(),u("div",so,[t("label",oo,v(h.$t("Message Body")),1),k(t("textarea",{ref_key:"textarea",ref:a,"onUpdate:modelValue":d[0]||(d[0]=r=>n.value=r),name:e.name,id:"body",class:xe([{"is-invalid":e.errorMessage},"form-control"]),cols:"10",rows:"10"},`
         `,10,no),[[W,n.value]]),t("div",ao,[t("span",null,v(h.$t("Add message placeholders"))+":",1),t("div",io,[t("button",{onClick:d[1]||(d[1]=r=>i(r,"firstname")),class:"btn btn-sm btn-info"},v(h.$t("Firstname")),1),t("button",{onClick:d[2]||(d[2]=r=>i(r,"lastname")),class:"btn btn-sm btn-info"},v(h.$t("Lastname")),1),t("button",{onClick:d[3]||(d[3]=r=>i(r,"email")),class:"btn btn-sm btn-info"},v(h.$t("Email")),1)])]),e.errorMessage?(c(),u("small",lo,v(e.errorMessage),1)):be("",!0)]))}},co=C(ro,[["__scopeId","data-v-0c41e744"]]);const po=t("label",{class:"typo__label"},"Select assignees",-1),uo=["value"],ho={__name:"AssigneeListMultiselect",props:{assignees:{type:Array},users:{type:Array}},setup(e){const o=e,n=$([]);return I(()=>{o.assignees.length&&(n.value=o.assignees)}),(a,i)=>(c(),u("div",null,[po,p(s(ke),{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=h=>n.value=h),options:e.users,multiple:!0,"close-on-select":!0,placeholder:"Pick some",label:"email","track-by":"email"},null,8,["modelValue","options"]),(c(!0),u(T,null,M(n.value,(h,d)=>(c(),u("input",{type:"hidden",name:"assignees[]",value:h.id},null,8,uo))),256))]))}};document.addEventListener("DOMContentLoaded",()=>{if(document.getElementsByClassName("js-simplebar")[0]){new $e(document.getElementsByClassName("js-simplebar")[0]);const o=document.getElementsByClassName("sidebar")[0];document.getElementsByClassName("sidebar-toggle")[0].addEventListener("click",()=>{o.classList.toggle("collapsed"),o.addEventListener("transitionend",()=>{window.dispatchEvent(new Event("resize"))})})}});document.addEventListener("DOMContentLoaded",()=>{K.replace()});window.feather=K;window.notyf=new Se({duration:5e3,position:{x:"right",y:"top"},types:[{type:"default",backgroundColor:"#3B7DDD",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"info-bsha",backgroundColor:"#495e69",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"success",backgroundColor:"#28a745",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"warning",backgroundColor:"#ffc107",icon:{className:"notyf__icon--error",tagName:"i"}},{type:"danger",backgroundColor:"#dc3545",icon:{className:"notyf__icon--error",tagName:"i"}}]});window.dragula=Ce;window.jQuery=window.$=Be;const go={de:Ge},se=Te({locale:"de",fallbackLocale:"en",messages:go});se.global.locale=document.documentElement.lang.substring(0,2);const _o=Ne(),z=Me({components:{WorkFlow:Ns,PipelineStageRepeater:to,TextArea:co,AssigneeListMultiselect:ho}});z.config.globalProperties.emitter=_o;z.use(se);document.querySelector("#app")!==null&&z.mount("#app");window.DataTable=je;
