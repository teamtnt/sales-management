import{b as Ne,a as te,o as m,c as g,d as e,e as D,f as k,r as v,g as F,u as E,h as _,w as y,T as O,i as B,F as A,j as U,k as o,t as a,v as W,l as $,D as z,n as S,Y as N,m as V,p as L,_ as de,q as Be,s as Te,E as re,x as ee,y as Le,z as R,A as J,B as q,C as Ae,G as ie,H as Y,I,J as De,K as Me,L as je,M as Ve,N as Ue,O as Ee,P as Oe,Q as We,R as ze,S as Pe,U as ce,V as Re,W as Ie,$ as He,X as qe,Z as Ze,a0 as Je,a1 as Xe}from"./vendor-f4c06cec.js";window.bootstrap=Ne;let Ye=document.head.querySelector('meta[name="csrf-token"]').content;te.defaults.headers.common["X-CSRF-TOKEN"]=Ye;te.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.axios=te;const Ge="Dashboard",Ke="List",Qe="Edit",et="Delete",tt="Remove",st="Name",ot="Description",nt="Count",lt="Speichern",at="Stornieren",it="Vorname",dt="Nachname",rt="Email",ct="Zurück",ut="USt-ID",pt="Anmerkungen",ht="Note",mt="Activities",gt="Profil",ft="Adresse",_t="Benutzer",bt="Telefon",vt="Firma",yt="Kontakt",wt="Website",xt="PLZ",kt="Stadt",$t="Land",Ct="Listen",Ft="Wählen",St="Von",Nt="Betreff",Bt="Nachricht",Tt={"Good day":"Guten Tag",Dashboard:Ge,"All Lists":"All Lists",List:Ke,Edit:Qe,Delete:et,Remove:tt,Name:st,Description:ot,Count:nt,Save:lt,Cancel:at,"Message Body":"Nachrichtentext",Firstname:it,Lastname:dt,"Add message placeholders":"Nachrichtenplatzhalter hinzufügen",Email:rt,Back:ct,VAT:ut,Notes:pt,Note:ht,Activities:mt,Profile:gt,"Send E-Mail":"E-Mail senden",Address:ft,User:_t,"User ID":"Bentuzer ID","Job title":"Arbeit",Phone:bt,Company:vt,Contact:yt,Website:wt,ZIP:xt,City:kt,Country:$t,"Contact Tags":"Kontakt Tags",Lists:Ct,"Lead Tags":"Lead Tags",Select:Ft,From:St,Subject:Nt,"Enter subject":"Betreff eingeben",Message:Bt,"Send Message":"Nachricht senden"};const Lt={class:"bg-light h-100 shadow-lg"},At=D('<h5 class="sidebar-heading py-3 px-2"><span class="d-flex align-items-center justify-content-center fw-lighter text-center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-move align-middle me-2"><polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line></svg>You can drag these nodes to the pane</span></h5>',1),Dt={class:"d-flex flex-column gap-2"},Mt={class:"d-flex flex-wrap gap-2 align-items-center my-3 px-4"},jt=D('<span class="start-box px-3 justify-content-center"><span class="start-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-flag"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line></svg></span> Start </span>',1),Vt=[jt],Ut=D('<div class="bg-white shadow-sm px-3 py-2"><h6 class="mb-0"><span class="d-flex align-items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-pull-request align-middle me-2"><circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line></svg> Conditions</span></h6></div>',1),Et={class:"d-flex flex-wrap gap-4 align-items-center my-3 px-4"},Ot=D('<span class="condition-box pe-2 justify-content-center"><span class="condition-box__icon"><span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-play-circle align-middle"><circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon></svg></span></span> On Run</span>',1),Wt=[Ot],zt=D('<span class="condition-box pe-2 justify-content-end"><span class="condition-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Stage Changed</span>',1),Pt=[zt],Rt=e("span",{class:"condition-box pe-2 justify-content-end"},[e("span",{class:"condition-box__icon"},[e("span",null,[e("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"-10 -10 84 84","enable-background":"new -10 -10 84 84","xml:space":"preserve"},[e("g",null,[e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"36",y1:"9",x2:"45",y2:"9"}),e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"19",y1:"17",x2:"45",y2:"17"}),e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"19",y1:"25",x2:"45",y2:"25"}),e("g",null,[e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"1,26 32,45.434 63,26"}),e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"11.334,21.667 1,26 1,63 63,63 63,26 63,26 52.666,21.667"}),e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"11,32 11,1 53,1 53,32"})])])])])]),k(" Message Opened ")],-1),It=[Rt],Ht=e("span",{class:"condition-box pe-2 justify-content-center"},[e("span",{class:"condition-box__icon"},[e("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 52.965 52.965",width:"15",height:"15","xml:space":"preserve"},[e("path",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:`M24.008,13.401L33.2,4.208
                                    c4.278-4.278,11.278-4.278,15.556,0l0,0c4.278,4.278,4.278,11.278,0,15.556L36.735,31.786c-4.278,4.278-11.278,4.278-15.556,0l0,0`}),e("path",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:`M27.543,40.978l-7.778,7.778
                                    c-4.278,4.278-11.278,4.278-15.556,0l0,0c-4.278-4.278-4.278-11.278,0-15.556l11.314-11.314c4.278-4.278,11.278-4.278,15.556,0l0,0`}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"33.965",y1:"45",x2:"33.965",y2:"51"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"37.722",y1:"43",x2:"41.965",y2:"47.243"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"38.965",y1:"39",x2:"44.965",y2:"39"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"15.965",y1:"10",x2:"15.965",y2:"4"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"12.207",y1:"12",x2:"7.965",y2:"7.757"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"10.965",y1:"16",x2:"4.965",y2:"16"})])]),k(" Link Clicked ")],-1),qt=[Ht],Zt=D('<div class="bg-white shadow-sm px-3 py-2"><h6 class="mb-0"><span class="d-flex align-items-center"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-repeat align-middle me-2"><polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path></svg> Actions</span></h6></div>',1),Jt={class:"d-flex flex-wrap gap-4 align-items-center my-3 px-4"},Xt=D('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail align-middle"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></span> Send Message </span>',1),Yt=[Xt],Gt=D('<span class="action-box px-3 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock align-middle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></span> Wait </span>',1),Kt=[Gt],Qt=D('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag align-middle"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg></span> Add Tag </span>',1),es=[Qt],ts=D('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list align-middle"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></span> Move To List </span>',1),ss=[ts],os=D('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg></span> A/B Split </span>',1),ns=[os],ls=D('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Change Stage</span>',1),as=[ls],is={__name:"Sidebar",setup(t){const n=(s,d,p)=>{s.dataTransfer&&(s.dataTransfer.setData("application/vueflow",d),s.dataTransfer.effectAllowed="move")};return(s,d)=>(m(),g("aside",Lt,[At,e("div",Dt,[e("div",Mt,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:d[0]||(d[0]=p=>n(p,"action.start"))},Vt,32)]),Ut,e("div",Et,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:d[1]||(d[1]=p=>n(p,"condition.run"))},Wt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:d[2]||(d[2]=p=>n(p,"condition.stage.changed"))},Pt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:d[3]||(d[3]=p=>n(p,"condition.message.opened"))},It,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:d[4]||(d[4]=p=>n(p,"condition.link.clicked"))},qt,32)]),Zt,e("div",Jt,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:d[5]||(d[5]=p=>n(p,"action.message.sent"))},Yt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:d[6]||(d[6]=p=>n(p,"action.wait"))},Kt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:d[7]||(d[7]=p=>n(p,"action.add.tag"))},es,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:d[8]||(d[8]=p=>n(p,"action.move.to.list"))},ss,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:d[9]||(d[9]=p=>n(p,"action.ab.split"))},ns,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:d[10]||(d[10]=p=>n(p,"action.change.stage"))},as,32)])])]))}},ds={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},rs={class:"bg-white p-3 rounded-3"},cs=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),us={class:"mb-3"},ps=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Stage",-1),hs=["value"],ms={class:"d-flex justify-content-end"},gs=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),fs=[gs],_s={class:"condition-box"},bs=D('<span class="condition-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span>',1),vs=e("span",{class:"circle"},null,-1),ys=e("span",{class:"circle"},null,-1),ue={__name:"StageChanged",props:{id:String,label:String,type:String},setup(t){const n=t,s=v(!1),d=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),p=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let i=window.stages;const{findNode:c,onNodeClick:u,removeNodes:w,onPaneClick:x}=E(),f=v(c(n.id));u(h=>{h.event.target.classList.contains("handle")||h.node.id===f.value.id&&(s.value=!s.value)}),x(()=>{s.value=!1});const b=h=>{w([h],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(h,r)=>(m(),g("div",ds,[_(o(z),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:o($).Right},{default:y(()=>[_(O,{mode:"in-out",appear:""},{default:y(()=>[e("div",rs,[cs,e("div",us,[ps,B(e("select",{name:"argument",class:"form-select form-select-sm","onUpdate:modelValue":r[0]||(r[0]=l=>f.value.data=l),id:"argument"},[(m(!0),g(A,null,U(o(i),l=>(m(),g("option",{value:l},a(l.title),9,hs))),256))],512),[[W,f.value.data]])]),e("div",ms,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:r[1]||(r[1]=l=>b(f.value))},fs)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",_s,[bs,k(" "+a(f.value.data.title??"Stage Changed"),1)]),_(o(N),{id:`state.stage.changed.target.${t.id}`,type:"target",position:o($).Top,style:S(o(d)),class:"handle"},{default:y(()=>[vs]),_:1},8,["id","position","style"]),_(o(N),{id:`state.stage.changed.${t.id}`,type:"source",position:o($).Bottom,style:S(o(p)),class:"handle"},{default:y(()=>[ys]),_:1},8,["id","position","style"])]))}},ws={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},xs={class:"bg-white p-3 rounded-3"},ks=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),$s={class:"mb-3"},Cs=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Message",-1),Fs=["value"],Ss={class:"d-flex justify-content-end"},Ns=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),Bs=[Ns],Ts={class:"action-box ps-1"},Ls=e("span",{class:"action-box__icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-mail align-middle"},[e("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),e("polyline",{points:"22,6 12,13 2,6"})])],-1),As=e("span",{class:"circle"},null,-1),Ds=e("span",{class:"circle"},null,-1),pe={__name:"SendMessage",props:{id:String,label:String,type:String},setup(t){const n=t,s=v(!1),d=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),p=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let i=window.messages;const{findNode:c,onNodeClick:u,removeNodes:w,onPaneClick:x}=E(),f=v(c(n.id));u(h=>{h.event.target.classList.contains("handle")||h.node.id===f.value.id&&(s.value=!s.value)}),x(()=>{s.value=!1});const b=h=>{w([h],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(h,r)=>(m(),g("div",ws,[_(o(z),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:o($).Right},{default:y(()=>[_(O,{mode:"in-out",appear:""},{default:y(()=>[e("div",xs,[ks,e("div",$s,[Cs,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":r[0]||(r[0]=l=>f.value.data=l)},[(m(!0),g(A,null,U(o(i),l=>(m(),g("option",{value:l},a(l.title),9,Fs))),256))],512),[[W,f.value.data]])]),e("div",Ss,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:r[1]||(r[1]=l=>b(f.value))},Bs)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",Ts,[Ls,k(" "+a(f.value.data.title??"Send Message"),1)]),_(o(N),{id:`state.message.sent.${t.id}`,type:"source",position:o($).Bottom,style:S(o(p)),class:"handle"},{default:y(()=>[As]),_:1},8,["id","position","style"]),_(o(N),{id:`state.message.sent.target.${t.id}`,type:"target",position:o($).Top,style:S(o(d)),class:"handle"},{default:y(()=>[Ds]),_:1},8,["id","position","style"])]))}},Ms={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},js={class:"bg-white p-3 rounded-3"},Vs=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),Us={class:"mb-3"},Es=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Wait Time",-1),Os=["value"],Ws={class:"d-flex justify-content-end"},zs=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),Ps=[zs],Rs={class:"action-box ps-1"},Is=e("span",{class:"action-box__icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-clock align-middle"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12 6 12 12 16 14"})])],-1),Hs=e("span",{class:"circle"},null,-1),qs=e("span",{class:"circle"},null,-1),he={__name:"Wait",props:{id:String,label:String,type:String},setup(t){const n=t,s=v(!1),d=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),p=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let i=window.waitOptions;const{findNode:c,onNodeClick:u,removeNodes:w,onPaneClick:x}=E(),f=v(c(n.id));u(h=>{h.event.target.classList.contains("handle")||h.node.id===f.value.id&&(s.value=!s.value)});const b=h=>{w([h],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return x(()=>{s.value=!1}),(h,r)=>(m(),g("div",Ms,[_(o(z),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:o($).Right},{default:y(()=>[_(O,{mode:"in-out",appear:""},{default:y(()=>[e("div",js,[Vs,e("div",Us,[Es,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":r[0]||(r[0]=l=>f.value.data=l)},[(m(!0),g(A,null,U(o(i),l=>(m(),g("option",{value:l},a(l.title),9,Os))),256))],512),[[W,f.value.data]])]),e("div",Ws,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:r[1]||(r[1]=l=>b(f.value))},Ps)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",Rs,[Is,k(" Wait "+a(f.value.data.title??""),1)]),_(o(N),{id:`state.wait.target.${t.id}`,type:"target",position:o($).Top,style:S(o(d)),class:"handle"},{default:y(()=>[Hs]),_:1},8,["id","position","style"]),_(o(N),{id:`state.wait.${t.id}`,type:"source",position:o($).Bottom,style:S(o(p)),class:"handle"},{default:y(()=>[qs]),_:1},8,["id","position","style"])]))}},Zs={class:"bg-white p-3 rounded-3"},Js=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),Xs={class:"d-flex justify-content-end"},Ys=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),Gs=[Ys],Ks=D('<span class="start-box pe-2 justify-content-center"><span class="start-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-flag"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line></svg></span> Start </span>',1),Qs=e("span",{class:"circle"},null,-1),me={__name:"Start",props:{id:String,label:String,type:String},setup(t){const n=t,s=v(!1),d=v(),p=v(),i=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-6px"})),{findNode:c,onNodeClick:u,removeNodes:w,onPaneClick:x}=E(),f=v(c(n.id));u(h=>{h.event.target.classList.contains("handle")||h.node.id===f.value.id&&(s.value=!s.value)}),x(()=>{s.value=!1});const b=h=>{w([h],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(h,r)=>(m(),g("div",{class:"vue-flow__node-input shadow-sm",ref_key:"nodeWrapper",ref:d},[_(o(z),{ref_key:"nodeToolbar",ref:p,style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:o($).Right},{default:y(()=>[_(O,{mode:"in-out",appear:""},{default:y(()=>[e("div",Zs,[Js,e("div",Xs,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:r[0]||(r[0]=l=>b(f.value))},Gs)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),Ks,_(o(N),{id:"start",type:"source",position:o($).Bottom,style:S(o(i)),class:"handle"},{default:y(()=>[Qs]),_:1},8,["position","style"])],512))}},eo={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},to={class:"bg-white p-3 rounded-3"},so=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),oo={class:"mb-3"},no=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Tag",-1),lo=["value"],ao={class:"d-flex justify-content-end"},io=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),ro=[io],co={class:"action-box ps-1"},uo=e("span",{class:"action-box__icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-tag align-middle"},[e("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),e("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})])],-1),po=e("span",{class:"circle"},null,-1),ho=e("span",{class:"circle"},null,-1),ge={__name:"AddTag",props:{id:String,label:String,type:String},setup(t){const n=t,s=v(!1),d=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),p=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let i=window.tags;const{findNode:c,onNodeClick:u,removeNodes:w,onPaneClick:x}=E(),f=v(c(n.id));u(h=>{h.event.target.classList.contains("handle")||h.node.id===f.value.id&&(s.value=!s.value)}),x(()=>{s.value=!1});const b=h=>{w([h],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(h,r)=>(m(),g("div",eo,[_(o(z),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:o($).Right},{default:y(()=>[_(O,{mode:"in-out",appear:""},{default:y(()=>[e("div",to,[so,e("div",oo,[no,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":r[0]||(r[0]=l=>f.value.data=l)},[(m(!0),g(A,null,U(o(i),l=>(m(),g("option",{value:l},a(l.title),9,lo))),256))],512),[[W,f.value.data]])]),e("div",ao,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:r[1]||(r[1]=l=>b(f.value))},ro)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",co,[uo,k(" "+a(f.value.data.title??"Add Tag"),1)]),_(o(N),{id:`state.tag.add.${t.id}`,type:"source",position:o($).Bottom,style:S(o(p)),class:"handle"},{default:y(()=>[po]),_:1},8,["id","position","style"]),_(o(N),{id:`state.tag.add.target.${t.id}`,type:"target",position:o($).Top,style:S(o(d)),class:"handle"},{default:y(()=>[ho]),_:1},8,["id","position","style"])]))}},mo={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},go={class:"bg-white p-3 rounded-3"},fo=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),_o={class:"mb-3"},bo=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Message",-1),vo=["value"],yo={class:"d-flex justify-content-end"},wo=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),xo=[wo],ko={class:"condition-box"},$o=e("span",{class:"condition-box__icon"},[e("span",null,[e("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"-10 -10 84 84","enable-background":"new -10 -10 84 84","xml:space":"preserve"},[e("g",null,[e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"36",y1:"9",x2:"45",y2:"9"}),e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"19",y1:"17",x2:"45",y2:"17"}),e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"19",y1:"25",x2:"45",y2:"25"}),e("g",null,[e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"1,26 32,45.434 63,26"}),e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"11.334,21.667 1,26 1,63 63,63 63,26 63,26 52.666,21.667"}),e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"11,32 11,1 53,1 53,32"})])])])])],-1),Co=e("span",{class:"circle"},null,-1),Fo=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1),So=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),fe={__name:"MessageOpened",props:{id:String,label:String,type:String},setup(t){const n=t,s=v(!1),d=F(()=>({backgroundColor:"green",left:"48px",width:"14px",height:"14px",right:"auto",bottom:"-7px"})),p=F(()=>({backgroundColor:"red",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"})),i=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-6px"}));let c=window.messagesOpened;const{findNode:u,onNodeClick:w,removeNodes:x,onPaneClick:f}=E(),b=v(u(n.id));w(r=>{r.event.target.classList.contains("handle")||r.node.id===b.value.id&&(s.value=!s.value)}),f(()=>{s.value=!1});const h=r=>{x([r],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(r,l)=>(m(),g("div",mo,[_(o(z),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:o($).Right},{default:y(()=>[_(O,{mode:"in-out",appear:""},{default:y(()=>[e("div",go,[fo,e("div",_o,[bo,B(e("select",{name:"argument",class:"form-select form-select-sm","onUpdate:modelValue":l[0]||(l[0]=C=>b.value.data=C),id:"argument"},[(m(!0),g(A,null,U(o(c),C=>(m(),g("option",{value:C},a(C.title),9,vo))),256))],512),[[W,b.value.data]])]),e("div",yo,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:l[1]||(l[1]=C=>h(b.value))},xo)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",ko,[$o,k(" "+a(b.value.data.title??"Message Opened"),1)]),_(o(N),{id:`state.message.opened.target.${t.id}`,type:"target",position:o($).Top,style:S(o(i)),class:"handle"},{default:y(()=>[Co]),_:1},8,["id","position","style"]),_(o(N),{id:`state.message.opened.${t.id}`,type:"source",position:o($).Bottom,style:S(o(d)),class:"handle"},{default:y(()=>[Fo]),_:1},8,["id","position","style"]),_(o(N),{id:`state.message.not_opened.${t.id}`,type:"source",position:o($).Bottom,style:S(o(p)),class:"handle"},{default:y(()=>[So]),_:1},8,["id","position","style"])]))}},No={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Bo={class:"bg-white p-3 rounded-3"},To=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),Lo={class:"mb-3"},Ao=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose List",-1),Do=["value"],Mo={class:"d-flex justify-content-end"},jo=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),Vo=[jo],Uo={class:"action-box ps-1"},Eo=D('<span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list align-middle"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></span>',1),Oo=e("span",{class:"circle"},null,-1),Wo=e("span",{class:"circle"},null,-1),_e={__name:"MoveToList",props:{id:String,label:String,type:String},setup(t){const n=t,s=v(!1),d=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),p=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let i=window.contactLists;const{findNode:c,onNodeClick:u,removeNodes:w,onPaneClick:x}=E(),f=v(c(n.id));u(h=>{h.event.target.classList.contains("handle")||h.node.id===f.value.id&&(s.value=!s.value)}),x(()=>{s.value=!1});const b=h=>{w([h],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(h,r)=>(m(),g("div",No,[_(o(z),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:o($).Right},{default:y(()=>[_(O,{mode:"in-out",appear:""},{default:y(()=>[e("div",Bo,[To,e("div",Lo,[Ao,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":r[0]||(r[0]=l=>f.value.data=l)},[(m(!0),g(A,null,U(o(i),l=>(m(),g("option",{value:l},a(l.title),9,Do))),256))],512),[[W,f.value.data]])]),e("div",Mo,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:r[1]||(r[1]=l=>b(f.value))},Vo)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",Uo,[Eo,k(" "+a(f.value.data.title??"Move To List"),1)]),_(o(N),{id:`state.move_to_list.${t.id}`,type:"source",position:o($).Bottom,style:S(o(p)),class:"handle"},{default:y(()=>[Oo]),_:1},8,["id","position","style"]),_(o(N),{id:`state.move_to_list.target.${t.id}`,type:"target",position:o($).Top,style:S(o(d)),class:"handle"},{default:y(()=>[Wo]),_:1},8,["id","position","style"])]))}},zo={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Po={class:"bg-white p-3 rounded-3"},Ro=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),Io={class:"mb-3"},Ho=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose split",-1),qo=["value"],Zo={class:"d-flex justify-content-end"},Jo=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),Xo=[Jo],Yo={class:"action-box ps-1"},Go=D('<span class="action-box__icon"><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg></span>',1),Ko=e("span",{class:"circle"},null,-1),Qo=e("span",{class:"circle"},null,-1),en=e("span",{class:"circle"},null,-1),be={__name:"ABSplit",props:{id:String,label:String,type:String},setup(t){const n=t,s=v(!1),d=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),p=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",left:"48px",right:"auto",bottom:"-7px"})),i=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"}));let c=window.abSplit;const{findNode:u,onNodeClick:w,removeNodes:x,onPaneClick:f}=E(),b=v(u(n.id));w(r=>{r.event.target.classList.contains("handle")||r.node.id===b.value.id&&(s.value=!s.value)}),f(()=>{s.value=!1});const h=r=>{x([r],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(r,l)=>(m(),g("div",zo,[_(o(z),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:o($).Right},{default:y(()=>[_(O,{mode:"in-out",appear:""},{default:y(()=>[e("div",Po,[Ro,e("div",Io,[Ho,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":l[0]||(l[0]=C=>b.value.data=C)},[(m(!0),g(A,null,U(o(c),C=>(m(),g("option",{value:C},a(C.title),9,qo))),256))],512),[[W,b.value.data]])]),e("div",Zo,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:l[1]||(l[1]=C=>h(b.value))},Xo)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",Yo,[Go,k(" "+a(b.value.data.title??"A/B Split"),1)]),_(o(N),{id:`state.abSplit.target.${t.id}`,type:"target",position:o($).Top,style:S(o(d)),class:"handle"},{default:y(()=>[Ko]),_:1},8,["id","position","style"]),_(o(N),{id:`state.abSplit.left.${t.id}`,type:"source",position:o($).Bottom,style:S(o(p)),class:"handle"},{default:y(()=>[Qo]),_:1},8,["id","position","style"]),_(o(N),{id:`state.abSplit.right.${t.id}`,type:"source",position:o($).Bottom,style:S(o(i)),class:"handle"},{default:y(()=>[en]),_:1},8,["id","position","style"])]))}},tn={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},sn={class:"bg-white p-3 rounded-3"},on=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),nn={class:"d-flex justify-content-end"},ln=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),an=[ln],dn={class:"condition-box"},rn=e("span",{class:"condition-box__icon"},[e("span",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-play-circle align-middle"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polygon",{points:"10 8 16 12 10 16 10 8"})])])],-1),cn=e("span",{class:"circle"},null,-1),un=e("span",{class:"circle"},null,-1),ve={__name:"Run",props:{id:String,label:String,type:String},setup(t){const n=t,s=v(!1),d=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),p=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"})),{findNode:i,onNodeClick:c,removeNodes:u,onPaneClick:w}=E(),x=v(i(n.id));x.value.data={argument:window.workflowId},c(b=>{b.event.target.classList.contains("handle")||b.node.id===x.value.id&&(s.value=!s.value)}),w(()=>{s.value=!1});const f=b=>{u([b],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(b,h)=>(m(),g("div",tn,[_(o(z),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:o($).Right},{default:y(()=>[_(O,{mode:"in-out",appear:""},{default:y(()=>[e("div",sn,[on,e("div",nn,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:h[0]||(h[0]=r=>f(x.value))},an)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",dn,[rn,k(" "+a(x.value.data.title??"On Run"),1)]),_(o(N),{id:`state.run.target.${t.id}`,type:"target",position:o($).Top,style:S(o(d)),class:"handle"},{default:y(()=>[cn]),_:1},8,["id","position","style"]),_(o(N),{id:`state.run.${t.id}`,type:"source",position:o($).Bottom,style:S(o(p)),class:"handle"},{default:y(()=>[un]),_:1},8,["id","position","style"])]))}},pn={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},hn={class:"bg-white p-3 rounded-3"},mn=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),gn={class:"mb-3"},fn=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Stage",-1),_n=["value"],bn={class:"d-flex justify-content-end"},vn=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),yn=[vn],wn={class:"action-box ps-1"},xn=D('<span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span>',1),kn=e("span",{class:"circle"},null,-1),$n=e("span",{class:"circle"},null,-1),ye={__name:"ChangeStage",props:{id:String,label:String,type:String},setup(t){const n=t,s=v(!1),d=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),p=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let i=window.stageActions;const{findNode:c,onNodeClick:u,removeNodes:w,onPaneClick:x}=E(),f=v(c(n.id));u(h=>{h.event.target.classList.contains("handle")||h.node.id===f.value.id&&(s.value=!s.value)}),x(()=>{s.value=!1});const b=h=>{w([h],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(h,r)=>(m(),g("div",pn,[_(o(z),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:o($).Right},{default:y(()=>[_(O,{mode:"in-out",appear:""},{default:y(()=>[e("div",hn,[mn,e("div",gn,[fn,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":r[0]||(r[0]=l=>f.value.data=l)},[(m(!0),g(A,null,U(o(i),l=>(m(),g("option",{value:l},a(l.title),9,_n))),256))],512),[[W,f.value.data]])]),e("div",bn,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:r[1]||(r[1]=l=>b(f.value))},yn)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",wn,[xn,k(" "+a(f.value.data.title??"Change Stage"),1)]),_(o(N),{id:`state.change.stage.target.${t.id}`,type:"target",position:o($).Top,style:S(o(d)),class:"handle"},{default:y(()=>[kn]),_:1},8,["id","position","style"]),_(o(N),{id:`state.change.stage.${t.id}`,type:"source",position:o($).Bottom,style:S(o(p)),class:"handle"},{default:y(()=>[$n]),_:1},8,["id","position","style"])]))}},Cn={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Fn={class:"bg-white p-3 rounded-3"},Sn=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),Nn={class:"mb-3"},Bn=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Message",-1),Tn=["value"],Ln={key:0,class:"mb-3"},An=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Link",-1),Dn=["value"],Mn={class:"d-flex justify-content-end"},jn=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),Vn=[jn],Un=e("span",{class:"condition-box"},[e("span",{class:"condition-box__icon"},[e("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 52.965 52.965",width:"15",height:"15","xml:space":"preserve"},[e("path",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:`M24.008,13.401L33.2,4.208
                        c4.278-4.278,11.278-4.278,15.556,0l0,0c4.278,4.278,4.278,11.278,0,15.556L36.735,31.786c-4.278,4.278-11.278,4.278-15.556,0l0,0`}),e("path",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:`M27.543,40.978l-7.778,7.778
                        c-4.278,4.278-11.278,4.278-15.556,0l0,0c-4.278-4.278-4.278-11.278,0-15.556l11.314-11.314c4.278-4.278,11.278-4.278,15.556,0l0,0`}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"33.965",y1:"45",x2:"33.965",y2:"51"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"37.722",y1:"43",x2:"41.965",y2:"47.243"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"38.965",y1:"39",x2:"44.965",y2:"39"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"15.965",y1:"10",x2:"15.965",y2:"4"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"12.207",y1:"12",x2:"7.965",y2:"7.757"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"10.965",y1:"16",x2:"4.965",y2:"16"})])]),k(" Link Clicked ")],-1),En=e("span",{class:"circle"},null,-1),On=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1),Wn=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),we={__name:"LinkClicked",props:{id:String,label:String,type:String},setup(t){const n=t,s=v(!1),d=F(()=>({backgroundColor:"green",left:"48px",width:"14px",height:"14px",right:"auto",bottom:"-7px"})),p=F(()=>({backgroundColor:"red",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"})),i=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-6px"}));let c=v(window.messagesWithLinks);const{findNode:u,onNodeClick:w,removeNodes:x,onPaneClick:f}=E(),b=v(u(n.id)),h=F(()=>c.value.find(l=>l.argument===b.value.data.message)||{links:[]});b.value.data.argument=F(()=>b.value.data.message&&b.value.data.link?`${b.value.data.message}.${b.value.data.link}`:""),w(l=>{l.event.target.classList.contains("handle")||l.node.id===b.value.id&&(s.value=!s.value)}),f(()=>{s.value=!1});const r=l=>{x([l],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(l,C)=>(m(),g("div",Cn,[_(o(z),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:o($).Right},{default:y(()=>[_(O,{mode:"in-out",appear:""},{default:y(()=>[e("div",Fn,[Sn,e("div",Nn,[Bn,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":C[0]||(C[0]=M=>b.value.data.message=M)},[(m(!0),g(A,null,U(o(c),M=>(m(),g("option",{value:M.argument},a(M.title),9,Tn))),256))],512),[[W,b.value.data.message]])]),_(O,{mode:"in-out",appear:""},{default:y(()=>{var M,T;return[(T=(M=o(h))==null?void 0:M.links)!=null&&T.length?(m(),g("div",Ln,[An,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":C[1]||(C[1]=P=>b.value.data.link=P)},[(m(!0),g(A,null,U(o(h).links,P=>(m(),g("option",{value:P.url},a(P.text),9,Dn))),256))],512),[[W,b.value.data.link]])])):V("",!0)]}),_:1}),e("div",Mn,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:C[2]||(C[2]=M=>r(b.value))},Vn)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),Un,_(o(N),{id:`state.link.clicked.target.${t.id}`,type:"target",position:o($).Top,style:S(o(i)),class:"handle"},{default:y(()=>[En]),_:1},8,["id","position","style"]),_(o(N),{id:`state.link.clicked.${t.id}`,type:"source",position:o($).Bottom,style:S(o(d)),class:"handle"},{default:y(()=>[On]),_:1},8,["id","position","style"]),_(o(N),{id:`state.link.not_clicked.${t.id}`,type:"source",position:o($).Bottom,style:S(o(p)),class:"handle"},{default:y(()=>[Wn]),_:1},8,["id","position","style"])]))}};const zn={class:"col-lg-7 col-xl-8 col-xxl-9 pe-0"},Pn={class:"d-flex gap-2"},Rn=["href"],In=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-arrow-left-circle align-middle me-2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12 8 8 12 12 16"}),e("line",{x1:"16",y1:"12",x2:"8",y2:"12"})],-1),Hn={class:"h3 mb-3 px-4 py-2 bg-white"},qn={class:"d-flex gap-2"},Zn={class:"d-flex align-items-center"},Jn=e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-save align-middle me-2"},[e("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),e("polyline",{points:"17 21 17 13 7 13 7 21"}),e("polyline",{points:"7 3 7 8 15 8"})],-1),Xn={class:"col-lg-5 col-xl-4 col-xxl-3 px-0"},Yn={__name:"WorkFlow",props:{workflowName:{type:String,default:"Untitled"},workflowId:{type:Number,default:null},saveUrl:{type:String,default:"/automation/workflow/save"},elementsData:{type:Array,default:[]},messages:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesOpened:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesWithLinks:{type:Array},stages:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},tags:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},stageActions:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},abSplit:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},contactLists:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},waitOptions:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},backUrl:{type:String,default:"/"}},setup(t){const n=t,s={"condition.stage.changed":L(ue),"condition.message.opened":L(fe),"condition.run":L(ve),"condition.link.clicked":L(we),"action.message.sent":L(pe),"action.wait":L(he),"action.start":L(me),"action.add.tag":L(ge),"action.move.to.list":L(_e),"action.ab.split":L(be),"action.change.stage":L(ye)},d=v(n.elementsData),p=v(n.workflowName);let i=0;const c=()=>Math.floor(Math.random()*1e4+1)+`_${i++}`,{findNode:u,onConnect:w,nodes:x,edges:f,onNodeClick:b,addEdges:h,addNodes:r,viewport:l,project:C,vueFlowRef:M}=E({nodes:[]});window.messages=n.messages,window.messagesOpened=n.messagesOpened,window.contactLists=n.contactLists,window.waitOptions=n.waitOptions,window.abSplit=n.abSplit,window.stages=n.stages,window.tags=n.tags,window.workflowId=n.workflowId,window.stageActions=n.stageActions,window.messagesWithLinks=n.messagesWithLinks;const T=j=>{j.preventDefault(),j.dataTransfer&&(j.dataTransfer.dropEffect="move")};w(j=>h([j]));const P=j=>{var le;const H=(le=j.dataTransfer)==null?void 0:le.getData("application/vueflow"),{left:X,top:Ce}=M.value.getBoundingClientRect(),Fe=C({x:j.clientX-X,y:j.clientY-Ce}),ne={id:c(),type:H,position:Fe,label:`${H} node`};r([ne]),Be(()=>{const Z=u(ne.id),Se=Te(()=>Z.dimensions,ae=>{ae.width>0&&ae.height>0&&(Z.position={x:Z.position.x-Z.dimensions.width/2,y:Z.position.y-Z.dimensions.height/2},Se())},{deep:!0,flush:"post"})})},Q=function(){axios.post(n.saveUrl,{elements:d.value,title:p.value}).then(function(j){window.notyf.open({type:"success",message:"Workflow successfully saved!",duration:"5000",ripple:!0,dismissible:!0})}).catch(function(j){console.log(j),window.notyf.open({type:"warning",message:"Something went wrong!",duration:"5000",ripple:!0,dismissible:!0})})};return(j,H)=>(m(),g("div",{class:"row w-100 h-100 mx-0",onDrop:P},[e("div",zn,[_(o(de),{onDragover:T,modelValue:d.value,"onUpdate:modelValue":H[1]||(H[1]=X=>d.value=X),"node-types":s,"default-edge-options":{type:"smoothstep"}},{default:y(()=>[_(o(re)),_(o(ee),null,{default:y(()=>[e("div",Pn,[e("a",{class:"d-flex align-items-center h4 mb-3 px-4 py-2 text-white bg-info text-decoration-none",href:t.backUrl},[In,e("span",null,a(j.$t("Back")),1)],8,Rn),e("h1",Hn,a(p.value),1)])]),_:1}),_(o(ee),{position:o(Le).BottomRight},{default:y(()=>[e("div",qn,[B(e("input",{type:"text",class:"form-control","onUpdate:modelValue":H[0]||(H[0]=X=>p.value=X),style:{"min-width":"200px"}},null,512),[[R,p.value]]),e("button",{class:"btn btn-success text-uppercase px-4",onClick:Q},[e("span",Zn,[Jn,k(" "+a(j.$t("Save")),1)])])])]),_:1},8,["position"])]),_:1},8,["modelValue"])]),e("div",Xn,[_(is)])],32))}};const Gn={class:"row w-100 h-100 mx-0"},Kn={class:"col-lg-12 col-xl-12 col-xxl-12 pe-0"},Qn={class:"d-flex gap-2"},el=["href"],tl=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-arrow-left-circle align-middle me-2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12 8 8 12 12 16"}),e("line",{x1:"16",y1:"12",x2:"8",y2:"12"})],-1),sl={class:"h3 mb-3 px-4 py-2 bg-white"},ol={__name:"ShowWorkFlow",props:{workflowName:{type:String,default:"Untitled"},workflowId:{type:Number,default:null},elementsData:{type:Array,default:[]},messages:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesOpened:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesWithLinks:{type:Array},stages:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},tags:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},stageActions:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},abSplit:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},contactLists:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},waitOptions:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},backUrl:{type:String,default:"/"}},setup(t){const n=t,s={"condition.stage.changed":L(ue),"condition.message.opened":L(fe),"condition.run":L(ve),"condition.link.clicked":L(we),"action.message.sent":L(pe),"action.wait":L(he),"action.start":L(me),"action.add.tag":L(ge),"action.move.to.list":L(_e),"action.ab.split":L(be),"action.change.stage":L(ye)},d=v(n.elementsData),p=v(n.workflowName);return E({nodes:[]}),window.messages=n.messages,window.messagesOpened=n.messagesOpened,window.contactLists=n.contactLists,window.waitOptions=n.waitOptions,window.abSplit=n.abSplit,window.stages=n.stages,window.tags=n.tags,window.workflowId=n.workflowId,window.stageActions=n.stageActions,window.messagesWithLinks=n.messagesWithLinks,(i,c)=>(m(),g("div",Gn,[e("div",Kn,[_(o(de),{modelValue:d.value,"onUpdate:modelValue":c[0]||(c[0]=u=>d.value=u),"node-types":s},{default:y(()=>[_(o(re)),_(o(ee),null,{default:y(()=>[e("div",Qn,[e("a",{class:"d-flex align-items-center h4 mb-3 px-4 py-2 text-white bg-info text-decoration-none",href:t.backUrl},[tl,e("span",null,a(i.$t("Back")),1)],8,el),e("h1",sl,a(p.value),1)])]),_:1})]),_:1},8,["modelValue"])])]))}};const nl={class:"row p-3"},ll={class:"d-flex justify-content-between"},al=["onClick"],il=e("i",{class:"align-middle fas fa-fw fa-minus-circle"},null,-1),dl=[il],rl=["onClick"],cl=e("i",{class:"align-middle ms-2 fas fa-fw fa-plus-circle"},null,-1),ul=[cl],pl={class:"col-md-4"},hl={class:"mb-3"},ml=e("label",{for:"stage_name",class:"form-label"},"Stage name",-1),gl=["name","onUpdate:modelValue"],fl={class:"col-md-5"},_l={class:"mb-3"},bl=e("label",{for:"stage_description",class:"form-label"},"Stage description",-1),vl=["name","onUpdate:modelValue"],yl={class:"col-md-3"},wl={class:"d-flex flex-column mb-3"},xl=e("label",{for:"stage_color",class:"form-label"},"Stage color",-1),kl={class:"d-flex align-items-center"},$l=["name","onUpdate:modelValue"],Cl={class:"fs-4 ms-3"},Fl=["name","value"],Sl={__name:"PipelineStageRepeater",props:{stages:{type:Array}},setup(t){const n=t,s=v([{name:"Default",description:"This is some description",color:"#366dc7"}]);J(()=>{n.stages.length&&(s.value=n.stages)});const d=()=>{s.value.push({name:"",description:"",color:"#366dc7"})},p=i=>{const c=s.value.indexOf(i);c>-1&&s.value.splice(c,1)};return(i,c)=>(m(),q(Ae,{name:"stage-list",appear:""},{default:y(()=>[(m(!0),g(A,null,U(s.value,(u,w)=>(m(),g("div",{class:"d-flex flex-column bg-light mb-3 rounded-3",key:w},[e("div",nl,[e("div",ll,[e("h6",null,"#"+a(w+1)+" - "+a(u.name),1),e("div",null,[B(e("button",{class:"btn text-danger btn-lg border-0 p-0",onClick:Y(x=>p(u),["prevent"]),title:"Remove Stage"},dl,8,al),[[ie,w||!w&&s.value.length>1]]),B(e("button",{class:"btn text-info btn-lg border-0 p-0",title:"Add New Stage",onClick:Y(d,["prevent"])},ul,8,rl),[[ie,w===s.value.length-1]])])]),e("div",pl,[e("div",hl,[ml,B(e("input",{class:"form-control",name:`pipeline_stages[${w}][name]`,placeholder:"Enter stage name",type:"text",id:"stage_name","onUpdate:modelValue":x=>u.name=x},null,8,gl),[[R,u.name]])])]),e("div",fl,[e("div",_l,[bl,B(e("input",{class:"form-control",name:`pipeline_stages[${w}][description]`,placeholder:"Enter stage description",type:"text",id:"stage_description","onUpdate:modelValue":x=>u.description=x},null,8,vl),[[R,u.description]])])]),e("div",yl,[e("div",wl,[xl,e("div",kl,[B(e("input",{type:"color",name:`pipeline_stages[${w}][color]`,id:"stage_color","onUpdate:modelValue":x=>u.color=x,style:{height:"30px"}},null,8,$l),[[R,u.color]]),e("span",Cl,a(u.color),1)])])]),e("input",{type:"hidden",name:`pipeline_stages[${w}][id]`,value:u.id},null,8,Fl)])]))),128))]),_:1}))}};const se=(t,n)=>{const s=t.__vccOpts||t;for(const[d,p]of n)s[d]=p;return s},Nl={class:"mb-3 position-relative d-flex flex-column align-items-center"},Bl={for:"body",class:"form-label align-self-start"},Tl=["name"],Ll={class:"placeholder-buttons bg-light"},Al={class:"d-flex gap-1"},Dl={key:0,class:"invalid-feedback"},Ml={__name:"TextArea",props:{errorMessage:{type:String,required:!0},messageBody:{type:String},name:{type:String,required:!0}},setup(t){const n=t,s=v(""),d=v(null);J(()=>{s.value=n.messageBody});const p=(i,c)=>{i.preventDefault();const u=d.value,w=u.selectionStart,x=`[[${c}]]`;s.value=`${s.value.substring(0,w)} ${x}${s.value.substring(w)}`,u.focus()};return(i,c)=>(m(),g("div",Nl,[e("label",Bl,a(i.$t("Message Body")),1),B(e("textarea",{ref_key:"textarea",ref:d,"onUpdate:modelValue":c[0]||(c[0]=u=>s.value=u),name:t.name,id:"body",class:I([{"is-invalid":t.errorMessage},"form-control"]),cols:"10",rows:"10"},`
         `,10,Tl),[[R,s.value]]),e("div",Ll,[e("span",null,a(i.$t("Add message placeholders"))+":",1),e("div",Al,[e("button",{onClick:c[1]||(c[1]=u=>p(u,"firstname")),class:"btn btn-sm btn-info"},a(i.$t("Firstname")),1),e("button",{onClick:c[2]||(c[2]=u=>p(u,"lastname")),class:"btn btn-sm btn-info"},a(i.$t("Lastname")),1),e("button",{onClick:c[3]||(c[3]=u=>p(u,"email")),class:"btn btn-sm btn-info"},a(i.$t("Email")),1)])]),t.errorMessage?(m(),g("small",Dl,a(t.errorMessage),1)):V("",!0)]))}},jl=se(Ml,[["__scopeId","data-v-0c41e744"]]);const Vl={class:"mb-3"},Ul={class:"d-block form-label"},El=["name","value"],K={__name:"MultiSelectList",props:{selected:{type:Array},options:{type:Array,required:!0},name:{type:String},label:{type:String},placeholder:{type:String},labelBy:{type:String},trackBy:{type:String},syncTagsUrl:{type:String},modelId:{type:Number||String}},setup(t){const n=t,s=v([]);J(()=>{n.selected.length&&(s.value=n.selected)});function d(p,i){if(n.syncTagsUrl){let c=new FormData;c.append("modelId",n.modelId);for(let u=0;u<s.value.length;u++)c.append("tags[]",s.value[u].id);axios.post(n.syncTagsUrl,c,{headers:{"Content-Type":"application/json"}}).then(u=>{u.status===200&&window.notyf.open({type:"success",message:"Tags synced!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0})}).catch(u=>{console.log(u.message),u.response.status===422&&(errors.value=u.response.data.errors)})}}return(p,i)=>(m(),g("div",Vl,[e("span",Ul,a(t.label),1),_(o(De),{modelValue:s.value,"onUpdate:modelValue":i[0]||(i[0]=c=>s.value=c),options:t.options,multiple:!0,"close-on-select":!1,placeholder:t.placeholder,label:t.labelBy,"track-by":t.trackBy,onRemove:d,onSelect:d},null,8,["modelValue","options","placeholder","label","track-by"]),(m(!0),g(A,null,U(s.value,c=>(m(),g("input",{type:"hidden",name:t.name,value:c.id,key:c.id},null,8,El))),128))]))}};const Ol=["onSubmit"],Wl={for:"note",class:"form-label fw-bold"},zl={class:"d-flex align-items-center"},Pl=e("i",{class:"align-middle me-2 fas fa-fw fa-clipboard-list"},null,-1),Rl=["placeholder"],Il={key:0,class:"invalid-feedback"},Hl=e("option",{value:"Note"},"Note",-1),ql=e("option",{value:"Call Accepted"},"Call Accepted",-1),Zl=e("option",{value:"Call Declined"},"Call Declined",-1),Jl=e("option",{value:"Meeting"},"Meeting",-1),Xl=[Hl,ql,Zl,Jl],Yl=["disabled"],Gl=e("hr",null,null,-1),Kl={class:"notes-container"},Ql={class:"d-flex flex-column"},ea={class:"mb-1"},ta={key:0,style:{"font-size":"11px"}},sa={style:{"font-size":"11px"}},oa={class:"d-flex gap-1"},na=["onClick"],la=e("i",{class:"align-middle me-2 fas fa-fw fa-trash text-danger"},null,-1),aa=[la],xe={__name:"Notes",props:{url:{type:String},deleteUrl:{type:String},fetchUrl:{type:String},leadId:{type:Number}},setup(t){const n=t,s=v([]),d=v(""),p=v("Note"),i=v({}),c=v(!1);J(()=>{u()});function u(){axios.get(n.fetchUrl,{params:{lead_id:n.leadId}}).then(h=>{h.status===200&&(s.value=[...h.data.leadNotes])}).catch(h=>{console.log(h.message)})}const w=()=>{c.value=!0;let h=new FormData;h.append("note",d.value),h.append("note_type",p.value),h.append("lead_id",n.leadId),axios.post(n.url,h,{headers:{"Content-Type":"application/json"}}).then(r=>{r.status===200&&(s.value=[...s.value,r.data.leadNote],d.value="",c.value=!1,i.value={},window.notyf.open({type:"success",message:"Note saved!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}))}).catch(r=>{console.log(r.message),r.response.status===422&&(i.value=r.response.data.errors,c.value=!1)})},x=h=>{axios.delete(n.deleteUrl.replace(":noteId",h)).then(r=>{r.status===200&&(s.value=s.value.filter(l=>l.id!==h),window.notyf.open({type:"success",message:"Note deleted!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}))}).catch(r=>{console.log(r.message),window.notyf.open({type:"danger",message:r.message,duration:"2500",ripple:!0,position:"bottom right",dismissible:!0})})},f=h=>Object.keys(h).length!==0,b=h=>{let r=new Date(h*1e3);return new Intl.DateTimeFormat("default",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}).format(r)};return(h,r)=>(m(),g(A,null,[e("form",{onSubmit:Y(w,["prevent"]),id:"notes-form",ref:"notesForm"},[e("div",null,[e("label",Wl,[e("span",zl,[Pl,k(a(h.$t("Notes")),1)])]),B(e("textarea",{id:"note","onUpdate:modelValue":r[0]||(r[0]=l=>d.value=l),class:I(["form-control mb-2",{"is-invalid":f(i.value)}]),name:"note",placeholder:h.$t("Note")},null,10,Rl),[[R,d.value]]),i.value&&i.value.note?(m(),g("small",Il,a(i.value.note[0]),1)):V("",!0),B(e("select",{name:"note_type","onUpdate:modelValue":r[1]||(r[1]=l=>p.value=l),id:"note_type",class:"form-select mt-2"},Xl,512),[[W,p.value]]),e("button",{type:"submit",class:"btn btn-success mt-2",disabled:c.value},"Add Note",8,Yl)])],40,Ol),Gl,e("div",Kl,[(m(!0),g(A,null,U(s.value,l=>(m(),g("div",{key:l.id,class:"note mb-3"},[e("div",Ql,[e("p",ea,a(l.note),1),e("span",{class:I(l.type=="Call Declined"?"text-danger":"text-success")},a(l.type),3),l.user?(m(),g("span",ta,[e("em",null,[e("strong",null,a(l.user.full_name),1)])])):V("",!0),e("span",sa,[e("strong",null,[e("em",null,a(b(l.created_at)),1)])])]),e("div",oa,[e("span",{class:"delete-icon",onClick:C=>x(l.id)},aa,8,na)])]))),128))])],64))}},ia=["onSubmit"],da={for:"note",class:"form-label fw-bold"},ra={class:"d-flex align-items-center"},ca=e("i",{class:"align-middle me-2 fas fa-fw fa-clipboard-list"},null,-1),ua={class:"form-group mb-3"},pa=e("label",{for:"start_date"},"Typ",-1),ha=e("option",{value:"Call"},"Call",-1),ma=e("option",{value:"Meeting"},"Meeting",-1),ga=e("option",{value:"E-Mail"},"E-Mail",-1),fa=e("option",{value:"Task"},"Task",-1),_a=[ha,ma,ga,fa],ba={class:"form-group mb-3"},va=e("label",{for:"start_date"},"Start Datum",-1),ya={key:0,class:"invalid-feedback"},wa={class:"form-group mb-3"},xa=e("label",{for:"end_date"},"Ende Datum",-1),ka={class:"form-group"},$a=e("label",{for:"start_date"},"Beschreibung",-1),Ca={key:0,class:"invalid-feedback"},Fa=["disabled"],Sa=e("hr",null,null,-1),Na={class:"d-flex flex-column"},Ba={class:"d-flex flex-column"},Ta={class:"mb-1"},La={key:0,style:{"font-size":"11px"}},Aa={style:{"font-size":"11px"}},Da={class:"d-flex gap-1"},Ma=["onClick"],ja=e("i",{class:"align-middle me-2 fas fa-fw fa-trash text-danger"},null,-1),Va=[ja],ke={__name:"Activities",props:{url:{type:String},fetchUrl:{type:String},deleteUrl:{type:String},leadId:{type:Number},leadActivities:{type:Array}},setup(t){const n=t,s=v([]),d=v(""),p=v("Call"),i=v(new Date(new Date().getTime()+24*60*60*1e3).toISOString().slice(0,16).slice(0,11)+"00:00"),c=v(""),u=v({}),w=v(!1);J(()=>{x()});function x(){axios.get(n.fetchUrl,{params:{lead_id:n.leadId}}).then(r=>{r.status===200&&(s.value=[...r.data.leadActivities])}).catch(r=>{console.log(r.message)})}const f=()=>{w.value=!0;let r=new FormData;r.append("description",d.value),r.append("activity_type",p.value),r.append("activity_start_date",i.value),r.append("activity_end_date",c.value),r.append("lead_id",n.leadId),axios.post(n.url,r,{headers:{"Content-Type":"application/json"}}).then(l=>{l.status===200&&(s.value=[...s.value,l.data.leadActivity],d.value="",w.value=!1,u.value={},window.notyf.open({type:"success",message:"Activity saved!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}))}).catch(l=>{l.response.status===422&&(u.value=l.response.data.errors,console.log(l.response.data.errors),w.value=!1)})},b=r=>{axios.delete(n.deleteUrl.replace(":activityId",r)).then(l=>{l.status===200&&(s.value=s.value.filter(C=>C.id!==r),window.notyf.open({type:"success",message:"Activity deleted!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}))}).catch(l=>{console.log(l.message),window.notyf.open({type:"danger",message:l.message,duration:"2500",ripple:!0,position:"bottom right",dismissible:!0})})};function h(r){const l=new Date(r);let C=l.getUTCDate().toString().padStart(2,"0"),M=(l.getUTCMonth()+1).toString().padStart(2,"0"),T=l.getUTCFullYear(),P=l.getUTCHours().toString().padStart(2,"0"),Q=l.getUTCMinutes().toString().padStart(2,"0");return`${C}.${M}.${T} ${P}:${Q}`}return(r,l)=>{var C,M;return m(),g(A,null,[e("form",{onSubmit:Y(f,["prevent"]),id:"activities-form",ref:"activitiesForm"},[e("div",null,[e("label",da,[e("span",ra,[ca,k(a(r.$t("Activities")),1)])]),e("div",ua,[pa,B(e("select",{name:"activity_type","onUpdate:modelValue":l[0]||(l[0]=T=>p.value=T),id:"note_type",class:"form-select mt-2"},_a,512),[[W,p.value]])]),e("div",ba,[va,B(e("input",{type:"datetime-local",class:I(["form-control",{"is-invalid":(C=u.value)==null?void 0:C.activity_start_date}]),id:"activity_start_date","onUpdate:modelValue":l[1]||(l[1]=T=>i.value=T)},null,2),[[R,i.value]]),u.value&&u.value.activity_start_date?(m(),g("small",ya,a(u.value.activity_start_date[0]),1)):V("",!0)]),e("div",wa,[xa,B(e("input",{type:"datetime-local",class:"form-control",id:"activity_end_date","onUpdate:modelValue":l[2]||(l[2]=T=>c.value=T)},null,512),[[R,c.value]])]),e("div",ka,[$a,B(e("textarea",{id:"activity","onUpdate:modelValue":l[3]||(l[3]=T=>d.value=T),class:I(["form-control",{"is-invalid":(M=u.value)==null?void 0:M.description}]),name:"activity"},null,2),[[R,d.value]]),u.value&&u.value.description?(m(),g("small",Ca,a(u.value.description[0]),1)):V("",!0)]),e("button",{type:"submit",class:"btn btn-success mt-2",disabled:w.value},"Add Activity",8,Fa)])],40,ia),Sa,e("div",Na,[(m(!0),g(A,null,U(s.value,T=>(m(),g("div",{key:T.id,class:"note mb-3"},[e("div",Ba,[e("p",Ta,a(T.description),1),e("span",null,a(T.type),1),T.user?(m(),g("span",La,[e("em",null,[e("strong",null,a(T.user.full_name),1)])])):V("",!0),e("span",Aa,[k("Start Datum: "),e("strong",null,[e("em",null,a(h(T.start_date)),1)])])]),e("div",Da,[e("span",{class:"delete-icon",onClick:P=>b(T.id)},Va,8,Ma)])]))),128))])],64)}}},Ua={props:["chartData","chartType"],mounted(){this.createChart()},methods:{createChart(){const t=this.$refs.chart.getContext("2d");new Me(t,{type:this.chartType,data:{labels:this.chartData.labels,datasets:[{label:"Opens",data:this.chartData.opens,fill:this.chartType==="line",backgroundColor:this.chartType==="bar"?"#3B82EC":"transparent",borderColor:"#3B82EC",tension:this.chartType==="line"?.4:0},{label:"Clicks",data:this.chartData.clicks,fill:this.chartType==="line",backgroundColor:this.chartType==="bar"?"#E8EAED":"transparent",borderColor:"#E8EAED",borderDash:this.chartType==="line"?[4,4]:[],tension:this.chartType==="line"?.4:0}]},options:{maintainAspectRatio:!1,plugins:{legend:{display:!0},tooltip:{intersect:!1},filler:{propagate:!1}},interaction:{intersect:!0},scales:{x:{grid:{color:"rgba(0,0,0,0.05)"},ticks:{maxTicksLimit:15}},y:{ticks:{stepSize:500},display:!0,grid:{color:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",tickColor:"#fff"},borderDash:[5,5]}}}})}}},Ea={ref:"chart",width:"749",height:"350"};function Oa(t,n,s,d,p,i){return m(),g("div",null,[e("canvas",Ea,null,512)])}const Wa=se(Ua,[["render",Oa]]),za=["onSubmit"],Pa={class:"mb-3"},Ra={for:"from_email",class:"form-label"},Ia={value:"",selected:""},Ha=["value"],qa={key:0,class:"invalid-feedback"},Za={class:"mb-3"},Ja={for:"subject",class:"form-label"},Xa=["placeholder"],Ya={key:0,class:"invalid-feedback"},Ga={class:"mb-3"},Ka={for:"body",class:"form-label"},Qa={key:0,class:"invalid-feedback"},ei={class:"my-3"},ti=["disabled"],si={class:"d-flex align-items-center justify-content-center"},oi={key:0,class:"spinner spinner-border spinner-border-sm text-light me-2",role:"status"},ni=e("span",{class:"visually-hidden"},"Loading...",-1),li=[ni],ai={__name:"SendEmailForm",setup(t){const n=v(null),s=v({}),d=v(!1),p=je("data"),i=()=>{let c=new FormData(n.value);d.value=!0,axios.post(p.route,c,{headers:{"Content-Type":"application/json"}}).then(u=>{u.status===200&&(d.value=!1,s.value={},window.notyf.open({type:"success",message:u.data.message,duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}),n.value.reset())}).catch(u=>{u.response.status===422&&(s.value=u.response.data.errors,d.value=!1)})};return(c,u)=>{var w,x,f;return m(),g("form",{onSubmit:Y(i,["prevent"]),ref_key:"form",ref:n},[e("div",Pa,[e("label",Ra,a(c.$t("From")),1),e("select",{id:"from_email",name:"from_email",class:I(["form-control",{"is-invalid":(w=s.value)==null?void 0:w.from_email}])},[e("option",Ia,a(c.$t("Select")),1),(m(!0),g(A,null,U(o(p).emails,(b,h)=>(m(),g("option",{value:h,key:h},a(b),9,Ha))),128))],2),s.value&&s.value.from_email?(m(),g("small",qa,a(s.value.from_email[0]),1)):V("",!0)]),e("div",Za,[e("label",Ja,a(c.$t("Subject")),1),e("input",{type:"text",name:"subject",class:I(["form-control",{"is-invalid":(x=s.value)==null?void 0:x.subject}]),id:"subject",placeholder:c.$t("Enter subject")},null,10,Xa),s.value&&s.value.subject?(m(),g("small",Ya,a(s.value.subject[0]),1)):V("",!0)]),e("div",Ga,[e("label",Ka,a(c.$t("Message")),1),e("textarea",{name:"body",id:"body",class:I(["form-control",{"is-invalid":(f=s.value)==null?void 0:f.body}]),rows:"4"},null,2),s.value&&s.value.body?(m(),g("small",Qa,a(s.value.body[0]),1)):V("",!0)]),e("div",ei,[e("button",{type:"submit",class:"btn btn-success me-2 w-100",disabled:d.value},[e("span",si,[d.value?(m(),g("span",oi,li)):V("",!0),k(a(c.$t("Send Message")),1)])],8,ti)])],40,za)}}};const G=t=>(Ee("data-v-32cb55d0"),t=t(),Oe(),t),ii={class:"offcanvas-header bg-light border-bottom"},di={class:"offcanvas-title",id:"offcanvasRightLabel"},ri={class:"d-flex align-items-center"},ci=G(()=>e("svg",{class:"me-2 flex-shrink-0",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),ui={class:"nav nav-tabs",id:"lead-tabs",role:"tablist",style:{"font-size":"12px"}},pi={class:"nav-item",role:"presentation"},hi={class:"nav-link active text-uppercase btn-tab",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile-tab-pane",type:"button",role:"tab","aria-controls":"profile-tab-pane","aria-selected":"true"},mi={class:"nav-item",role:"presentation"},gi={class:"nav-link text-uppercase btn-tab",id:"notes-tab","data-bs-toggle":"tab","data-bs-target":"#notes-tab-pane",type:"button",role:"tab","aria-controls":"notes-tab-pane","aria-selected":"false"},fi={class:"nav-item",role:"presentation"},_i={class:"nav-link text-uppercase btn-tab",id:"activities-tab","data-bs-toggle":"tab","data-bs-target":"#activities-tab-pane",type:"button",role:"tab","aria-controls":"activities-tab-pane","aria-selected":"false"},bi={class:"nav-item",role:"presentation"},vi={class:"nav-link text-uppercase btn-tab",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#message-tab-pane",type:"button",role:"tab","aria-controls":"message-tab-pane","aria-selected":"false"},yi={class:"tab-content",id:"myTabContent",style:{"overflow-y":"auto"}},wi={class:"tab-pane fade show active",id:"profile-tab-pane",role:"tabpanel","aria-labelledby":"profile-tab",tabindex:"0"},xi={class:"offcanvas-body"},ki={class:"row mb-4 data-list"},$i={class:"col-4 col-xxl-3 mb-0"},Ci={class:"col-8 col-xxl-9 mb-0"},Fi={class:"mb-1"},Si={class:"col-4 col-xxl-3 mb-0"},Ni={class:"col-8 col-xxl-9 mb-0"},Bi={class:"mb-1"},Ti={class:"col-4 col-xxl-3 mb-0"},Li={class:"col-8 col-xxl-9 mb-0"},Ai={class:"mb-1"},Di={class:"col-4 col-xxl-3 mb-0"},Mi={class:"col-8 col-xxl-9 mb-0"},ji={class:"mb-1"},Vi={class:"col-4 col-xxl-3 mb-0"},Ui={class:"col-8 col-xxl-9 mb-0"},Ei={class:"mb-1"},Oi={class:"col-4 col-xxl-3 mb-0"},Wi={class:"col-8 col-xxl-9 mb-0"},zi={class:"mb-1"},Pi={class:"col-4 col-xxl-3 mb-0"},Ri={class:"col-8 col-xxl-9 mb-0"},Ii={class:"mb-1"},Hi={class:"col-4 col-xxl-3 mb-0"},qi={class:"col-8 col-xxl-9 mb-0"},Zi={class:"mb-1"},Ji={class:"col-4 col-xxl-3 mb-0"},Xi={class:"col-8 col-xxl-9 mb-0"},Yi={class:"mb-1"},Gi={class:"col-4 col-xxl-3 mb-0"},Ki={class:"col-8 col-xxl-9 mb-0"},Qi={class:"mb-1"},ed={class:"col-4 col-xxl-3 mb-0"},td={class:"col-8 col-xxl-9 mb-0"},sd={class:"mb-1"},od={class:"col-4 col-xxl-3 mb-0"},nd={class:"col-8 col-xxl-9 mb-0"},ld={class:"mb-1"},ad={class:"col-4 col-xxl-3 mb-0"},id={class:"col-8 col-xxl-9 mb-0"},dd={class:"mb-1"},rd={class:"col-4 col-xxl-3 mb-0"},cd={class:"col-8 col-xxl-9 mb-0"},ud={class:"mb-1"},pd={key:0,class:"col-4 col-xxl-3 mb-0"},hd={key:1,class:"col-8 col-xxl-9 mb-0"},md={class:"mb-1"},gd=["href"],fd={class:"mb-4"},_d={class:"d-flex fw-bold align-items-center mb-2"},bd=G(()=>e("svg",{class:"me-2",width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.25 2.25a3 3 0 00-3 3v4.318a3 3 0 00.879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 005.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 00-2.122-.879H5.25zM6.375 7.5a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z","clip-rule":"evenodd"})],-1)),vd={class:"mb-4"},yd={class:"d-flex fw-bold align-items-center mb-2"},wd=G(()=>e("svg",{class:"me-2",width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.25 2.25a3 3 0 00-3 3v4.318a3 3 0 00.879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 005.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 00-2.122-.879H5.25zM6.375 7.5a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z","clip-rule":"evenodd"})],-1)),xd={class:"mb-4"},kd={class:"d-flex fw-bold align-items-center mb-2"},$d=G(()=>e("svg",{class:"me-2",width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.25 2.25a3 3 0 00-3 3v4.318a3 3 0 00.879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 005.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 00-2.122-.879H5.25zM6.375 7.5a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z","clip-rule":"evenodd"})],-1)),Cd=G(()=>e("div",{style:{height:"50px","margin-bottom":"50px"}},null,-1)),Fd={class:"tab-pane fade",id:"notes-tab-pane",role:"tabpanel","aria-labelledby":"notes-tab",tabindex:"0"},Sd={class:"offcanvas-body"},Nd={class:"tab-pane fade",id:"activities-tab-pane",role:"tabpanel","aria-labelledby":"activities-tab",tabindex:"0"},Bd={class:"offcanvas-body"},Td={class:"tab-pane fade",id:"message-tab-pane",role:"tabpanel","aria-labelledby":"message-tab",tabindex:"0"},Ld={class:"offcanvas-body"},Ad={__name:"OffCanvas",props:{modelValue:{type:Boolean,default:!1},lead:{type:Object,required:!0},routes:{type:Object,required:!0},tags:{type:Array,required:!0},lists:{type:Array,required:!0}},emits:["update:modelValue"],setup(t,{emit:n}){const s=t,d=v(null);J(()=>{const i=document.getElementById("offcanvasRight");new bootstrap.Offcanvas(i).show()}),Ve(()=>{const i=document.getElementById("offcanvasRight"),c=new bootstrap.Offcanvas(i);d.value.addEventListener("hidden.bs.offcanvas",()=>{n("update:modelValue",!1)}),c.hide()}),Ue(d,()=>{n("update:modelValue",!1)});const p=F(()=>{var i,c;return`${((i=s.lead.contact)==null?void 0:i.firstname)??""} ${((c=s.lead.contact)==null?void 0:c.lastname)??""}`});return(i,c)=>t.modelValue?(m(),g("div",{key:0,ref_key:"offCanvasRef",ref:d,class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},[e("div",ii,[e("h5",di,[e("span",ri,[ci,k(" "+a(i.$t("User"))+": "+a(o(p)),1)])]),e("button",{onClick:c[0]||(c[0]=u=>n("update:modelValue",!1)),type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})]),e("ul",ui,[e("li",pi,[e("button",hi,a(i.$t("Profile")),1)]),e("li",mi,[e("button",gi,a(i.$t("Notes")),1)]),e("li",fi,[e("button",_i,a(i.$t("Activities")),1)]),e("li",bi,[e("button",vi,a(i.$t("Send E-Mail")),1)])]),e("div",yi,[e("div",wi,[e("div",xi,[e("dl",ki,[e("dt",$i,[e("strong",null,a(i.$t("User ID"))+":",1)]),e("dd",Ci,[e("p",Fi,a(t.lead.contact.id),1)]),e("dt",Si,[e("strong",null,a(i.$t("Firstname"))+":",1)]),e("dd",Ni,[e("p",Bi,a(t.lead.contact.firstname),1)]),e("dt",Ti,[e("strong",null,a(i.$t("Lastname"))+":",1)]),e("dd",Li,[e("p",Ai,a(t.lead.contact.lastname),1)]),e("dt",Di,[e("strong",null,a(i.$t("Job title"))+":",1)]),e("dd",Mi,[e("p",ji,a(t.lead.contact.job_title),1)]),e("dt",Vi,[e("strong",null,a(i.$t("Email"))+":",1)]),e("dd",Ui,[e("p",Ei,a(t.lead.contact.email),1)]),e("dt",Oi,[e("strong",null,a(i.$t("Phone"))+":",1)]),e("dd",Wi,[e("p",zi,a(t.lead.contact.phone),1)]),e("dt",Pi,[e("strong",null,a(i.$t("Company"))+":",1)]),e("dd",Ri,[e("p",Ii,a(t.lead.contact.company_name),1)]),e("dt",Hi,[e("strong",null,a(i.$t("VAT"))+":",1)]),e("dd",qi,[e("p",Zi,a(t.lead.contact.vat),1)]),e("dt",Ji,[e("strong",null,a(i.$t("Contact"))+":",1)]),e("dd",Xi,[e("p",Yi,a(t.lead.contact.company_email),1)]),e("dt",Gi,[e("strong",null,a(i.$t("Website"))+":",1)]),e("dd",Ki,[e("p",Qi,a(t.lead.contact.url),1)]),e("dt",ed,[e("strong",null,a(i.$t("Address"))+":",1)]),e("dd",td,[e("p",sd,a(t.lead.contact.address),1)]),e("dt",od,[e("strong",null,a(i.$t("ZIP"))+":",1)]),e("dd",nd,[e("p",ld,a(t.lead.contact.postal),1)]),e("dt",ad,[e("strong",null,a(i.$t("City"))+":",1)]),e("dd",id,[e("p",dd,a(t.lead.contact.city),1)]),e("dt",rd,[e("strong",null,a(i.$t("Country"))+":",1)]),e("dd",cd,[e("p",ud,a(t.lead.contact.country),1)]),t.lead.contact.external_profile_url?(m(),g("dt",pd,[e("strong",null,a(i.$t("Profile URL"))+":",1)])):V("",!0),t.lead.contact.external_profile_url?(m(),g("dd",hd,[e("p",md,[e("a",{href:t.lead.contact.external_profile_url,target:"_blank"},a(t.lead.contact.external_profile_url),9,gd)])])):V("",!0)]),e("div",fd,[e("span",_d,[bd,k(a(i.$t("Contact Tags")),1)]),(m(),q(K,{name:"tags[]",label:"Add tag to contact",placeholder:"Choose tags...","label-by":"name","track-by":"name","sync-tags-url":t.routes.contacts.syncTags,"model-id":t.lead.contact.id,selected:t.lead.contact.tags??[],options:t.tags??[],key:t.lead.contact.id},null,8,["sync-tags-url","model-id","selected","options"]))]),e("div",vd,[e("span",yd,[wd,k(a(i.$t("Lists")),1)]),(m(),q(K,{name:"tags[]",label:"Add to Lists",placeholder:"Choose list...","label-by":"name","track-by":"name","sync-tags-url":t.routes.contacts.syncLists,"model-id":t.lead.contact.id,selected:t.lead.contact.lists??[],options:t.lists??[],key:t.lead.contact.id},null,8,["sync-tags-url","model-id","selected","options"]))]),e("div",xd,[e("span",kd,[$d,k(a(i.$t("Lead Tags")),1)]),(m(),q(K,{name:"tags[]",label:"Add tag to lead",placeholder:"Choose tags...","label-by":"name","track-by":"name","sync-tags-url":t.routes.leads.syncTags,"model-id":t.lead.id,selected:t.lead.tags??[],options:t.tags??[],key:t.lead.id},null,8,["sync-tags-url","model-id","selected","options"]))]),Cd])]),e("div",Fd,[e("div",Sd,[(m(),q(xe,{"lead-id":t.lead.id,"fetch-url":t.routes.notes.fetch,url:t.routes.notes.store,"delete-url":t.routes.notes.delete,key:t.lead.id},null,8,["lead-id","fetch-url","url","delete-url"]))])]),e("div",Nd,[e("div",Bd,[(m(),q(ke,{"lead-id":t.lead.id,"fetch-url":t.routes.activities.fetch,url:t.routes.activities.store,"delete-url":t.routes.activities.delete,key:t.lead.id},null,8,["lead-id","fetch-url","url","delete-url"]))])]),e("div",Td,[e("div",Ld,[_(ai)])])])],512)):V("",!0)}},Dd=se(Ad,[["__scopeId","data-v-32cb55d0"]]),Md={width:"26",height:"26",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",style:{"pointer-events":"none"}},jd=e("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"},null,-1),Vd=[jd],Ud={__name:"LeadDetails",props:{routes:{type:Object,required:!0},emails:{type:Object,required:!0}},setup(t){const n=t,s=v(!1),d=v(null),p=v([]),i=v([]),c=We({route:n.routes.messages.send,emails:n.emails});async function u(){try{const x=await axios.get(n.routes.leads.leadData);d.value=x.data.lead,p.value=JSON.parse(x.data.tags),i.value=JSON.parse(x.data.lists)}catch(x){console.error(x)}}const w=async()=>{await u(),s.value=!0};return ze("data",c),(x,f)=>(m(),g("div",null,[e("span",{onClick:w,class:"info-icon","aria-controls":"offcanvasRight"},[(m(),g("svg",Md,Vd))]),s.value?(m(),q(Dd,{key:0,modelValue:s.value,"onUpdate:modelValue":f[0]||(f[0]=b=>s.value=b),lead:d.value,tags:p.value,lists:i.value,routes:t.routes},null,8,["modelValue","lead","tags","lists","routes"])):V("",!0)]))}};document.addEventListener("DOMContentLoaded",()=>{if(document.getElementsByClassName("js-simplebar")[0]){new Pe(document.getElementsByClassName("js-simplebar")[0]);const n=document.getElementsByClassName("sidebar")[0];document.getElementsByClassName("sidebar-toggle")[0].addEventListener("click",()=>{n.classList.toggle("collapsed"),n.addEventListener("transitionend",()=>{window.dispatchEvent(new Event("resize"))})})}});document.addEventListener("DOMContentLoaded",()=>{ce.replace()});window.feather=ce;window.notyf=new Re({duration:5e3,position:{x:"right",y:"top"},types:[{type:"default",backgroundColor:"#3B7DDD",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"info-bsha",backgroundColor:"#495e69",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"success",backgroundColor:"#28a745",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"warning",backgroundColor:"#ffc107",icon:{className:"notyf__icon--error",tagName:"i"}},{type:"danger",backgroundColor:"#dc3545",icon:{className:"notyf__icon--error",tagName:"i"}}]});window.dragula=Ie;window.jQuery=window.$=He;const Ed={de:Tt},$e=qe({locale:"de",fallbackLocale:"en",messages:Ed});$e.global.locale=document.documentElement.lang.substring(0,2);const Od=Xe(),oe=Ze({components:{WorkFlow:Yn,ShowWorkFlow:ol,PipelineStageRepeater:Sl,TextArea:jl,MultiSelectList:K,Notes:xe,Activities:ke,OpenClicksChart:Wa,LeadDetails:Ud}});oe.config.globalProperties.emitter=Od;oe.use($e);document.querySelector("#app")!==null&&oe.mount("#app");window.DataTable=Je;
