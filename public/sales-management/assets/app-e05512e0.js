import{a as $,o as h,c as g,b as e,d,e as L,t as p,m as E,r as V,j as B,u as X,f,w as x,g as w,_ as I,n as Y,h as K,E as Q,i as j,k as J,l as Z,p as ee,T as te,q as oe,s as v,v as T,x as M,y as k,F as se,S as ne,z as R,N as ae,A as ie,$ as le,B as ce,C as de,D as re,G as pe}from"./vendor-4c732ffd.js";let he=document.head.querySelector('meta[name="csrf-token"]');$.defaults.headers.common["X-CSRF-TOKEN"]=he.textContent;$.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.axios=$;const ue="Dashboard",ge="List",_e="Edit",me="Delete",fe="Remove",we="Name",ve="Description",ye="Count",xe="Speichern",be="Stornieren",ke={"Good day":"Guten Tag",Dashboard:ue,"All Lists":"All Lists",List:ge,Edit:_e,Delete:me,Remove:fe,Name:we,Description:ve,Count:ye,Save:xe,Cancel:be};const $e={class:"bg-light h-100 shadow-lg"},Ce=d('<h5 class="sidebar-heading py-3 px-2"><span class="d-flex align-items-center justify-content-center fw-lighter text-center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-move align-middle me-2"><polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line></svg>You can drag these nodes to the pane</span></h5>',1),De={class:"d-flex flex-column gap-2"},Se=d('<div class="bg-white shadow-sm px-3 py-2"><h6 class="mb-0"><span class="d-flex align-items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-pull-request align-middle me-2"><circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line></svg> Conditions</span></h6></div>',1),Ne={class:"d-flex flex-wrap gap-2 align-items-center my-3 px-4"},Ee=d('<span class="condition-box pe-2 justify-content-end"><span class="condition-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Stage Changed</span>',1),Be=[Ee],je=d('<div class="bg-white shadow-sm px-3 py-2"><h6 class="mb-0"><span class="d-flex align-items-center"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-repeat align-middle me-2"><polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path></svg> Actions</span></h6></div>',1),Te={class:"d-flex flex-wrap gap-4 align-items-center my-3 px-4"},Me=d('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail align-middle"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></span> Send Message </span>',1),Le=[Me],Ve=d('<span class="action-box px-3 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock align-middle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></span> Wait </span>',1),Re=[Ve],Ae=d('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag align-middle"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg></span> Add Tag </span>',1),Pe=[Ae],Ue=d('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list align-middle"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></span> Move To List </span>',1),We=[Ue],qe={__name:"Sidebar",setup(c){const o=(t,s)=>{console.log(t),t.dataTransfer&&(t.dataTransfer.setData("application/vueflow",s),t.dataTransfer.effectAllowed="move")};return(t,s)=>(h(),g("aside",$e,[Ce,e("div",De,[Se,e("div",Ne,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:s[0]||(s[0]=a=>o(a,"condition"))},Be,32)]),je,e("div",Te,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:s[1]||(s[1]=a=>o(a,"action"))},Le,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:s[2]||(s[2]=a=>o(a,"action"))},Re,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:s[3]||(s[3]=a=>o(a,"action"))},Pe,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:s[4]||(s[4]=a=>o(a,"action"))},We,32)])])]))}},Fe={class:"vue-flow__node-input shadow-sm"},ze={class:"condition-box pe-2 justify-content-end"},He=d('<span class="condition-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span>',1),Oe={__name:"ConditionNode",props:{label:String,sourceHandle:String},setup(c){const o=c;return(t,s)=>(h(),g("div",Fe,[e("span",ze,[He,L(" "+p(o.label),1)])]))}},Ge={class:"vue-flow__node-input shadow-sm"},Xe={class:"action-box pe-2 justify-content-end"},Ie=e("span",{class:"action-box__icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-mail align-middle"},[e("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),e("polyline",{points:"22,6 12,13 2,6"})])],-1),Ye=["data-handleid","data-nodeid"],Ke={__name:"ActionNode",props:{id:String,label:String,type:String,sourcePosition:String},setup(c){const o=c;return(t,s)=>(h(),g("div",Ge,[e("span",Xe,[Ie,L(" "+p(o.label),1)]),e("div",{"data-handleid":`54__handle-${o.sourcePosition}`,"data-nodeid":o.id},null,8,Ye)]))}},Qe={class:"col-lg-7 col-xl-8 col-xxl-9 pe-0"},Je={class:"h3 mb-3 px-4 py-2 bg-white"},Ze={class:"btn btn-danger"},et={class:"col-lg-5 col-xl-4 col-xxl-3 px-0"},tt={__name:"WorkFlow",props:{panelTitle:{type:String,default:"Workflow"}},setup(c){const o={condition:E(Oe),action:E(Ke)},t=V([{id:"1",type:"condition",label:"Stage Changed",position:{x:350,y:100}},{id:"2",type:"action",label:"Send Message",position:{x:100,y:200}},{id:"3",type:"action",sourcePosition:B.Right,label:"Send Message",position:{x:400,y:200}},{id:"54",type:"default",label:"Send Message",position:{x:600,y:200}},{id:"4",type:"condition",sourcePosition:B.Right,label:"Stage Changed",position:{x:400,y:300}},{id:"e1-3",source:"1",target:"3"},{id:"e1-3",source:"3",target:"4"},{id:"e1-2",source:"1",target:"2",animated:!0}]);let s=0;const a=()=>`dndnode_${s++}`,{findNode:y,onConnect:_,nodes:i,edges:l,addEdges:r,addNodes:P,viewport:Nt,project:U,vueFlowRef:W}=X({nodes:[]}),q=n=>{n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect="move")};_(n=>r([n]));const F=n=>{var S;const m=(S=n.dataTransfer)==null?void 0:S.getData("application/vueflow"),{left:b,top:H}=W.value.getBoundingClientRect(),O=U({x:n.clientX-b,y:n.clientY-H}),D={id:a(),type:m,position:O,label:`${m} node`};P([D]),Y(()=>{const u=y(D.id),G=K(()=>u.dimensions,N=>{N.width>0&&N.height>0&&(u.position={x:u.position.x-u.dimensions.width/2,y:u.position.y-u.dimensions.height/2},G())},{deep:!0,flush:"post"})})},z=function(){axios.post("/workflow/save",{elements:t.value}).then(function(n){console.log(n)}).catch(function(n){console.log(n)}),console.log(t.value),alert("Workflow saved")};return(n,m)=>(h(),g("div",{class:"row w-100 h-100 mx-0",onDrop:F},[e("div",Qe,[f(w(I),{onDragover:q,modelValue:t.value,"onUpdate:modelValue":m[0]||(m[0]=b=>t.value=b),"node-types":o},{default:x(()=>[f(w(Q)),f(w(j),null,{default:x(()=>[e("h1",Je,p(c.panelTitle),1)]),_:1}),f(w(j),{position:w(J).BottomRight},{default:x(()=>[e("button",{class:"btn btn-success me-2",onClick:z},p(n.$t("Save")),1),e("button",Ze,p(n.$t("Cancel")),1)]),_:1},8,["position"])]),_:1},8,["modelValue"])]),e("div",et,[f(qe)])],32))}};const ot={class:"row p-3"},st={class:"d-flex justify-content-between"},nt=["onClick"],at=e("i",{class:"align-middle fas fa-fw fa-minus-circle"},null,-1),it=[at],lt=["onClick"],ct=e("i",{class:"align-middle ms-2 fas fa-fw fa-plus-circle"},null,-1),dt=[ct],rt={class:"col-md-4"},pt={class:"mb-3"},ht=e("label",{for:"stage_name",class:"form-label"},"Stage name",-1),ut=["name","onUpdate:modelValue"],gt={class:"col-md-5"},_t={class:"mb-3"},mt=e("label",{for:"stage_description",class:"form-label"},"Stage description",-1),ft=["name","onUpdate:modelValue"],wt={class:"col-md-3"},vt={class:"d-flex flex-column mb-3"},yt=e("label",{for:"stage_color",class:"form-label"},"Stage color",-1),xt={class:"d-flex align-items-center"},bt=["name","onUpdate:modelValue"],kt={class:"fs-4 ms-3"},$t=["name","value"],Ct={__name:"PipelineStageRepeater",props:{stages:{type:Array}},setup(c){const o=c,t=V([{name:"Default",description:"This is some description",color:"#366dc7"}]);Z(()=>{o.stages.length&&(t.value=o.stages)});const s=()=>{t.value.push({name:"",description:"",color:"#366dc7"})},a=y=>{const _=t.value.indexOf(y);_>-1&&t.value.splice(_,1)};return(y,_)=>(h(),ee(te,{name:"stage-list",appear:""},{default:x(()=>[(h(!0),g(se,null,oe(t.value,(i,l)=>(h(),g("div",{class:"d-flex flex-column bg-light mb-3 rounded-3",key:l},[e("div",ot,[e("div",st,[e("h6",null,"#"+p(l+1)+" - "+p(i.name),1),e("div",null,[v(e("button",{class:"btn text-danger btn-lg border-0 p-0",onClick:M(r=>a(i),["prevent"]),title:"Remove Stage"},it,8,nt),[[T,l||!l&&t.value.length>1]]),v(e("button",{class:"btn text-info btn-lg border-0 p-0",title:"Add New Stage",onClick:M(s,["prevent"])},dt,8,lt),[[T,l===t.value.length-1]])])]),e("div",rt,[e("div",pt,[ht,v(e("input",{class:"form-control",name:`pipeline_stages[${l}][name]`,placeholder:"Enter stage name",type:"text",id:"stage_name","onUpdate:modelValue":r=>i.name=r},null,8,ut),[[k,i.name]])])]),e("div",gt,[e("div",_t,[mt,v(e("input",{class:"form-control",name:`pipeline_stages[${l}][description]`,placeholder:"Enter stage description",type:"text",id:"stage_description","onUpdate:modelValue":r=>i.description=r},null,8,ft),[[k,i.description]])])]),e("div",wt,[e("div",vt,[yt,e("div",xt,[v(e("input",{type:"color",name:`pipeline_stages[${l}][color]`,id:"stage_color","onUpdate:modelValue":r=>i.color=r,style:{height:"30px"}},null,8,bt),[[k,i.color]]),e("span",kt,p(i.color),1)])])]),e("input",{type:"hidden",name:`pipeline_stages[${l}][id]`,value:i.id},null,8,$t)])]))),128))]),_:1}))}};document.addEventListener("DOMContentLoaded",()=>{if(document.getElementsByClassName("js-simplebar")[0]){new ne(document.getElementsByClassName("js-simplebar")[0]);const o=document.getElementsByClassName("sidebar")[0];document.getElementsByClassName("sidebar-toggle")[0].addEventListener("click",()=>{o.classList.toggle("collapsed"),o.addEventListener("transitionend",()=>{window.dispatchEvent(new Event("resize"))})})}});document.addEventListener("DOMContentLoaded",()=>{R.replace()});window.feather=R;window.notyf=new ae({duration:5e3,position:{x:"right",y:"top"},types:[{type:"default",backgroundColor:"#3B7DDD",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"info-bsha",backgroundColor:"#495e69",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"success",backgroundColor:"#28a745",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"warning",backgroundColor:"#ffc107",icon:{className:"notyf__icon--error",tagName:"i"}},{type:"danger",backgroundColor:"#dc3545",icon:{className:"notyf__icon--error",tagName:"i"}}]});window.dragula=ie;window.jQuery=window.$=le;const Dt={de:ke},A=ce({locale:"de",fallbackLocale:"en",messages:Dt});A.global.locale=document.documentElement.lang.substring(0,2);const St=pe(),C=de({components:{WorkFlow:tt,PipelineStageRepeater:Ct}});C.config.globalProperties.emitter=St;C.use(A);document.querySelector("#app")!==null&&C.mount("#app");window.DataTable=re;
