import{a as O,o as p,c as u,b as e,d as k,e as L,f as _,u as T,r as b,g,w as m,h as F,F as C,i as B,j as t,t as y,v as M,k as w,D as A,n as f,Y as x,m as v,_ as G,l as _e,p as fe,E as X,q as E,s as xe,x as V,y as U,z as ve,T as be,A as P,B as H,C as ke,G as Fe,H as $e,S as Se,I as Y,N as Ce,J as Be,$ as Te,K as Le,L as Ne,M as Me,O as Ae}from"./vendor-cb9c1df1.js";let je=document.head.querySelector('meta[name="csrf-token"]').content;O.defaults.headers.common["X-CSRF-TOKEN"]=je;O.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.axios=O;const De="Dashboard",Ve="List",We="Edit",Ue="Delete",Ee="Remove",He="Name",Oe="Description",Re="Count",ze="Speichern",Ie="Stornieren",qe="Vorname",Pe="Nachname",Ge="Email",Xe="Zurück",Ye="USt-ID",Ze="Notes",Ke="Note",Je={"Good day":"Guten Tag",Dashboard:De,"All Lists":"All Lists",List:Ve,Edit:We,Delete:Ue,Remove:Ee,Name:He,Description:Oe,Count:Re,Save:ze,Cancel:Ie,"Message Body":"Nachrichtentext",Firstname:qe,Lastname:Pe,"Add message placeholders":"Nachrichtenplatzhalter hinzufügen",Email:Ge,Back:Xe,VAT:Ye,Notes:Ze,Note:Ke};const Qe={class:"bg-light h-100 shadow-lg"},et=k('<h5 class="sidebar-heading py-3 px-2"><span class="d-flex align-items-center justify-content-center fw-lighter text-center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-move align-middle me-2"><polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line></svg>You can drag these nodes to the pane</span></h5>',1),tt={class:"d-flex flex-column gap-2"},ot={class:"d-flex flex-wrap gap-2 align-items-center my-3 px-4"},st=k('<span class="start-box px-3 justify-content-center"><span class="start-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-flag"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line></svg></span> Start </span>',1),nt=[st],it=k('<div class="bg-white shadow-sm px-3 py-2"><h6 class="mb-0"><span class="d-flex align-items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-pull-request align-middle me-2"><circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line></svg> Conditions</span></h6></div>',1),lt={class:"d-flex flex-wrap gap-4 align-items-center my-3 px-4"},at=e("span",{class:"condition-box pe-2 justify-content-center"},[e("span",{class:"condition-box__icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"#FFFFFF","stroke-width":"2",d:"M3,2 L21,12 L3,22 Z"})])]),L(" On Run")],-1),dt=[at],rt=k('<span class="condition-box pe-2 justify-content-end"><span class="condition-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Stage Changed</span>',1),ct=[rt],pt=e("span",{class:"condition-box pe-2 justify-content-end"},[e("span",{class:"condition-box__icon"},[e("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"-10 -10 84 84","enable-background":"new -10 -10 84 84","xml:space":"preserve"},[e("g",null,[e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"36",y1:"9",x2:"45",y2:"9"}),e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"19",y1:"17",x2:"45",y2:"17"}),e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"19",y1:"25",x2:"45",y2:"25"}),e("g",null,[e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"1,26 32,45.434 63,26"}),e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"11.334,21.667 1,26 1,63 63,63 63,26 63,26 52.666,21.667"}),e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"11,32 11,1 53,1 53,32"})])])])]),L(" Message Opened ")],-1),ut=[pt],ht=e("span",{class:"condition-box pe-2 justify-content-center"},[e("span",{class:"condition-box__icon"},[e("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 52.965 52.965",width:"15",height:"15","xml:space":"preserve"},[e("path",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:`M24.008,13.401L33.2,4.208
                                    c4.278-4.278,11.278-4.278,15.556,0l0,0c4.278,4.278,4.278,11.278,0,15.556L36.735,31.786c-4.278,4.278-11.278,4.278-15.556,0l0,0`}),e("path",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:`M27.543,40.978l-7.778,7.778
                                    c-4.278,4.278-11.278,4.278-15.556,0l0,0c-4.278-4.278-4.278-11.278,0-15.556l11.314-11.314c4.278-4.278,11.278-4.278,15.556,0l0,0`}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"33.965",y1:"45",x2:"33.965",y2:"51"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"37.722",y1:"43",x2:"41.965",y2:"47.243"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"38.965",y1:"39",x2:"44.965",y2:"39"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"15.965",y1:"10",x2:"15.965",y2:"4"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"12.207",y1:"12",x2:"7.965",y2:"7.757"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"10.965",y1:"16",x2:"4.965",y2:"16"})])]),L(" Link Clicked ")],-1),gt=[ht],mt=k('<div class="bg-white shadow-sm px-3 py-2"><h6 class="mb-0"><span class="d-flex align-items-center"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-repeat align-middle me-2"><polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path></svg> Actions</span></h6></div>',1),wt={class:"d-flex flex-wrap gap-4 align-items-center my-3 px-4"},yt=k('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail align-middle"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></span> Send Message </span>',1),_t=[yt],ft=k('<span class="action-box px-3 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock align-middle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></span> Wait </span>',1),xt=[ft],vt=k('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag align-middle"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg></span> Add Tag </span>',1),bt=[vt],kt=k('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list align-middle"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></span> Move To List </span>',1),Ft=[kt],$t=k('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg></span> A/B Split </span>',1),St=[$t],Ct=k('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Change Stage</span>',1),Bt=[Ct],Tt={__name:"Sidebar",setup(o){const s=(a,n,i)=>{a.dataTransfer&&(a.dataTransfer.setData("application/vueflow",n),a.dataTransfer.effectAllowed="move")};return(a,n)=>(p(),u("aside",Qe,[et,e("div",tt,[e("div",ot,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:n[0]||(n[0]=i=>s(i,"action.start"))},nt,32)]),it,e("div",lt,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:n[1]||(n[1]=i=>s(i,"condition.run"))},dt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:n[2]||(n[2]=i=>s(i,"condition.stage.changed"))},ct,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:n[3]||(n[3]=i=>s(i,"condition.message.opened"))},ut,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:n[4]||(n[4]=i=>s(i,"condition.link.clicked"))},gt,32)]),mt,e("div",wt,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:n[5]||(n[5]=i=>s(i,"action.message.sent"))},_t,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:n[6]||(n[6]=i=>s(i,"action.wait"))},xt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:n[7]||(n[7]=i=>s(i,"action.add.tag"))},bt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:n[8]||(n[8]=i=>s(i,"action.move.to.list"))},Ft,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:n[9]||(n[9]=i=>s(i,"action.ab.split"))},St,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:n[10]||(n[10]=i=>s(i,"action.change.stage"))},Bt,32)])])]))}},Lt={class:"vue-flow__node-input shadow-sm"},Nt=["value"],Mt=k('<span class="condition-box pe-2 justify-content-end"><span class="condition-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Stage Changed</span>',1),At=e("span",{class:"circle"},null,-1),jt=e("span",{class:"circle"},null,-1),Z={__name:"StageChanged",props:{id:String,label:String,type:String},setup(o){const s=o,a=_(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),n=_(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let i=window.stages;const{findNode:h}=T(),d=b(h(s.id));return(l,c)=>(p(),u("div",Lt,[g(t(A),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":o.id,position:t(w).Right},{default:m(()=>[F(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":c[0]||(c[0]=r=>d.value.data=r)},[(p(!0),u(C,null,B(t(i),r=>(p(),u("option",{value:r},y(r.title),9,Nt))),256))],512),[[M,d.value.data]])]),_:1},8,["node-id","position"]),Mt,g(t(x),{id:`state.stage.changed.target.${o.id}`,type:"target",position:t(w).Top,style:f(t(a)),class:"handle"},{default:m(()=>[At]),_:1},8,["id","position","style"]),g(t(x),{id:`state.stage.changed.${o.id}`,type:"source",position:t(w).Bottom,style:f(t(n)),class:"handle"},{default:m(()=>[jt]),_:1},8,["id","position","style"])]))}},Dt={class:"vue-flow__node-input shadow-sm"},Vt=["value"],Wt=k('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail align-middle"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></span> Send Message </span>',1),Ut=e("span",{class:"circle"},null,-1),Et=e("span",{class:"circle"},null,-1),K={__name:"SendMessage",props:{id:String,label:String,type:String},setup(o){const s=o,a=_(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),n=_(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let i=window.messages;const{findNode:h}=T(),d=b(h(s.id));return(l,c)=>(p(),u("div",Dt,[g(t(A),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":o.id,position:t(w).Right},{default:m(()=>[F(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":c[0]||(c[0]=r=>d.value.data=r)},[(p(!0),u(C,null,B(t(i),r=>(p(),u("option",{value:r},y(r.title),9,Vt))),256))],512),[[M,d.value.data]])]),_:1},8,["node-id","position"]),Wt,g(t(x),{id:`state.message.sent.${o.id}`,type:"source",position:t(w).Bottom,style:f(t(n)),class:"handle"},{default:m(()=>[Ut]),_:1},8,["id","position","style"]),g(t(x),{id:`state.message.sent.target.${o.id}`,type:"target",position:t(w).Top,style:f(t(a)),class:"handle"},{default:m(()=>[Et]),_:1},8,["id","position","style"])]))}},Ht={class:"vue-flow__node-input shadow-sm"},Ot=["value"],Rt=k('<span class="action-box pe-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock align-middle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></span> Wait </span>',1),zt=e("span",{class:"circle"},null,-1),It=e("span",{class:"circle"},null,-1),J={__name:"Wait",props:{id:String,label:String,type:String},setup(o){const s=o,a=_(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),n=_(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let i=window.waitOptions;const{findNode:h}=T(),d=b(h(s.id));return(l,c)=>(p(),u("div",Ht,[g(t(A),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":o.id,position:t(w).Right},{default:m(()=>[F(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":c[0]||(c[0]=r=>d.value.data=r)},[(p(!0),u(C,null,B(t(i),r=>(p(),u("option",{value:r},y(r.title),9,Ot))),256))],512),[[M,d.value.data]])]),_:1},8,["node-id","position"]),Rt,g(t(x),{id:`state.wait.target.${o.id}`,type:"target",position:t(w).Top,style:f(t(a)),class:"handle"},{default:m(()=>[zt]),_:1},8,["id","position","style"]),g(t(x),{id:`state.wait.${o.id}`,type:"source",position:t(w).Bottom,style:f(t(n)),class:"handle"},{default:m(()=>[It]),_:1},8,["id","position","style"])]))}},qt={class:"vue-flow__node-input shadow-sm"},Pt=k('<span class="start-box pe-2 justify-content-center"><span class="start-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-flag"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line></svg></span> Start </span>',1),Gt=e("span",{class:"circle"},null,-1),Q={__name:"Start",props:{id:String,label:String,type:String},setup(o){const s=_(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-6px"}));return(a,n)=>(p(),u("div",qt,[Pt,g(t(x),{id:"start",type:"source",position:t(w).Bottom,style:f(t(s)),class:"handle"},{default:m(()=>[Gt]),_:1},8,["position","style"])]))}},Xt={class:"vue-flow__node-input shadow-sm"},Yt=["value"],Zt=k('<span class="action-box pe-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag align-middle"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg></span> AddTag </span>',1),Kt=e("span",{class:"circle"},null,-1),Jt=e("span",{class:"circle"},null,-1),ee={__name:"AddTag",props:{id:String,label:String,type:String},setup(o){const s=o,a=_(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),n=_(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let i=window.tags;const{findNode:h}=T(),d=b(h(s.id));return(l,c)=>(p(),u("div",Xt,[g(t(A),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":o.id,position:t(w).Right},{default:m(()=>[F(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":c[0]||(c[0]=r=>d.value.data=r)},[(p(!0),u(C,null,B(t(i),r=>(p(),u("option",{value:r},y(r.title),9,Yt))),256))],512),[[M,d.value.data]])]),_:1},8,["node-id","position"]),Zt,g(t(x),{id:`state.tag.add.${o.id}`,type:"source",position:t(w).Bottom,style:f(t(n)),class:"handle"},{default:m(()=>[Kt]),_:1},8,["id","position","style"]),g(t(x),{id:`state.tag.add.target.${o.id}`,type:"target",position:t(w).Top,style:f(t(a)),class:"handle"},{default:m(()=>[Jt]),_:1},8,["id","position","style"])]))}},Qt={class:"vue-flow__node-input shadow-sm"},eo=["value"],to=e("span",{class:"condition-box pe-2 justify-content-end"},[e("span",{class:"condition-box__icon"},[e("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"-10 -10 84 84","enable-background":"new -10 -10 84 84","xml:space":"preserve"},[e("g",null,[e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"36",y1:"9",x2:"45",y2:"9"}),e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"19",y1:"17",x2:"45",y2:"17"}),e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"19",y1:"25",x2:"45",y2:"25"}),e("g",null,[e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"1,26 32,45.434 63,26"}),e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"11.334,21.667 1,26 1,63 63,63 63,26 63,26 52.666,21.667"}),e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"11,32 11,1 53,1 53,32"})])])])]),L(" Message Opened ")],-1),oo=e("span",{class:"circle"},null,-1),so=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1),no=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),te={__name:"MessageOpened",props:{id:String,label:String,type:String},setup(o){const s=o,a=_(()=>({backgroundColor:"green",left:"48px",width:"14px",height:"14px",right:"auto",bottom:"-7px"})),n=_(()=>({backgroundColor:"red",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"})),i=_(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-6px"}));let h=window.messagesOpened;const{findNode:d}=T(),l=b(d(s.id));return(c,r)=>(p(),u("div",Qt,[g(t(A),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":o.id,position:t(w).Right},{default:m(()=>[F(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":r[0]||(r[0]=S=>l.value.data=S)},[(p(!0),u(C,null,B(t(h),S=>(p(),u("option",{value:S},y(S.title),9,eo))),256))],512),[[M,l.value.data]])]),_:1},8,["node-id","position"]),to,g(t(x),{id:`state.message.opened.target.${o.id}`,type:"target",position:t(w).Top,style:f(t(i)),class:"handle"},{default:m(()=>[oo]),_:1},8,["id","position","style"]),g(t(x),{id:`state.message.opened.${o.id}`,type:"source",position:t(w).Bottom,style:f(t(a)),class:"handle"},{default:m(()=>[so]),_:1},8,["id","position","style"]),g(t(x),{id:`state.message.not_opened.${o.id}`,type:"source",position:t(w).Bottom,style:f(t(n)),class:"handle"},{default:m(()=>[no]),_:1},8,["id","position","style"])]))}},io={class:"vue-flow__node-input shadow-sm"},lo=["value"],ao=k('<span class="action-box pe-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list align-middle"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></span> Move To List </span>',1),ro=e("span",{class:"circle"},null,-1),co=e("span",{class:"circle"},null,-1),oe={__name:"MoveToList",props:{id:String,label:String,type:String},setup(o){const s=o,a=_(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),n=_(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let i=window.contactLists;const{findNode:h}=T(),d=b(h(s.id));return(l,c)=>(p(),u("div",io,[g(t(A),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":o.id,position:t(w).Right},{default:m(()=>[F(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":c[0]||(c[0]=r=>d.value.data=r)},[(p(!0),u(C,null,B(t(i),r=>(p(),u("option",{value:r},y(r.title),9,lo))),256))],512),[[M,d.value.data]])]),_:1},8,["node-id","position"]),ao,g(t(x),{id:`state.move_to_list.${o.id}`,type:"source",position:t(w).Bottom,style:f(t(n)),class:"handle"},{default:m(()=>[ro]),_:1},8,["id","position","style"]),g(t(x),{id:`state.move_to_list.target.${o.id}`,type:"target",position:t(w).Top,style:f(t(a)),class:"handle"},{default:m(()=>[co]),_:1},8,["id","position","style"])]))}},po={class:"vue-flow__node-input shadow-sm"},uo=["value"],ho=k('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg></span> A/B Split </span>',1),go=e("span",{class:"circle"},null,-1),mo=e("span",{class:"circle"},null,-1),wo=e("span",{class:"circle"},null,-1),se={__name:"ABSplit",props:{id:String,label:String,type:String},setup(o){const s=o,a=_(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),n=_(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",left:"48px",right:"auto",bottom:"-7px"})),i=_(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"}));let h=window.abSplit;const{findNode:d}=T(),l=b(d(s.id));return(c,r)=>(p(),u("div",po,[g(t(A),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":o.id,position:t(w).Right},{default:m(()=>[F(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":r[0]||(r[0]=S=>l.value.data=S)},[(p(!0),u(C,null,B(t(h),S=>(p(),u("option",{value:S},y(S.title),9,uo))),256))],512),[[M,l.value.data]])]),_:1},8,["node-id","position"]),ho,g(t(x),{id:`state.abSplit.target.${o.id}`,type:"target",position:t(w).Top,style:f(t(a)),class:"handle"},{default:m(()=>[go]),_:1},8,["id","position","style"]),g(t(x),{id:`state.abSplit.left.${o.id}`,type:"source",position:t(w).Bottom,style:f(t(n)),class:"handle"},{default:m(()=>[mo]),_:1},8,["id","position","style"]),g(t(x),{id:`state.abSplit.right.${o.id}`,type:"source",position:t(w).Bottom,style:f(t(i)),class:"handle"},{default:m(()=>[wo]),_:1},8,["id","position","style"])]))}},yo={class:"vue-flow__node-input shadow-sm"},_o=e("span",{class:"condition-box pe-2 justify-content-center"},[e("span",{class:"condition-box__icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},[e("path",{fill:"none",stroke:"#FFFFFF","stroke-width":"2",d:"M3,2 L21,12 L3,22 Z"})])]),L(" On run")],-1),fo=e("span",{class:"circle"},null,-1),xo=e("span",{class:"circle"},null,-1),ne={__name:"Run",props:{id:String,label:String,type:String},setup(o){const s=o,a=_(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),n=_(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"})),{findNode:i}=T(),h=b(i(s.id));return h.value.data={argument:window.workflowId},(d,l)=>(p(),u("div",yo,[_o,g(t(x),{id:`state.run.target.${o.id}`,type:"target",position:t(w).Top,style:f(t(a)),class:"handle"},{default:m(()=>[fo]),_:1},8,["id","position","style"]),g(t(x),{id:`state.run.${o.id}`,type:"source",position:t(w).Bottom,style:f(t(n)),class:"handle"},{default:m(()=>[xo]),_:1},8,["id","position","style"])]))}},vo={class:"vue-flow__node-input shadow-sm"},bo=["value"],ko=k('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Change Stage</span>',1),Fo=e("span",{class:"circle"},null,-1),$o=e("span",{class:"circle"},null,-1),ie={__name:"ChangeStage",props:{id:String,label:String,type:String},setup(o){const s=o,a=_(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),n=_(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let i=window.stageActions;const{findNode:h}=T(),d=b(h(s.id));return(l,c)=>(p(),u("div",vo,[g(t(A),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":o.id,position:t(w).Right},{default:m(()=>[F(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":c[0]||(c[0]=r=>d.value.data=r)},[(p(!0),u(C,null,B(t(i),r=>(p(),u("option",{value:r},y(r.title),9,bo))),256))],512),[[M,d.value.data]])]),_:1},8,["node-id","position"]),ko,g(t(x),{id:`state.change.stage.target.${o.id}`,type:"target",position:t(w).Top,style:f(t(a)),class:"handle"},{default:m(()=>[Fo]),_:1},8,["id","position","style"]),g(t(x),{id:`state.change.stage.${o.id}`,type:"source",position:t(w).Bottom,style:f(t(n)),class:"handle"},{default:m(()=>[$o]),_:1},8,["id","position","style"])]))}},So={class:"vue-flow__node-input shadow-sm"},Co=["value"],Bo=e("br",null,null,-1),To=e("br",null,null,-1),Lo=["value"],No=e("span",{class:"condition-box pe-2 justify-content-center"},[e("span",{class:"condition-box__icon"},[e("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 52.965 52.965",width:"15",height:"15","xml:space":"preserve"},[e("path",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:`M24.008,13.401L33.2,4.208
                        c4.278-4.278,11.278-4.278,15.556,0l0,0c4.278,4.278,4.278,11.278,0,15.556L36.735,31.786c-4.278,4.278-11.278,4.278-15.556,0l0,0`}),e("path",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:`M27.543,40.978l-7.778,7.778
                        c-4.278,4.278-11.278,4.278-15.556,0l0,0c-4.278-4.278-4.278-11.278,0-15.556l11.314-11.314c4.278-4.278,11.278-4.278,15.556,0l0,0`}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"33.965",y1:"45",x2:"33.965",y2:"51"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"37.722",y1:"43",x2:"41.965",y2:"47.243"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"38.965",y1:"39",x2:"44.965",y2:"39"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"15.965",y1:"10",x2:"15.965",y2:"4"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"12.207",y1:"12",x2:"7.965",y2:"7.757"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"10.965",y1:"16",x2:"4.965",y2:"16"})])]),L(" Link Clicked ")],-1),Mo=e("span",{class:"circle"},null,-1),Ao=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1),jo=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),le={__name:"LinkClicked",props:{id:String,label:String,type:String},setup(o){const s=o,a=_(()=>({backgroundColor:"green",left:"48px",width:"14px",height:"14px",right:"auto",bottom:"-7px"})),n=_(()=>({backgroundColor:"red",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"})),i=_(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-6px"}));let h=b(window.messagesWithLinks);const{findNode:d}=T(),l=b(d(s.id)),c=_(()=>h.value.find(r=>r.argument===l.value.data.message)||{links:[]});return l.value.data.argument=_(()=>l.value.data.message&&l.value.data.link?`${l.value.data.message}.${l.value.data.link}`:""),(r,S)=>(p(),u("div",So,[g(t(A),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":o.id,position:t(w).Right},{default:m(()=>[F(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":S[0]||(S[0]=N=>l.value.data.message=N)},[(p(!0),u(C,null,B(t(h),N=>(p(),u("option",{value:N.argument},y(N.title),9,Co))),256))],512),[[M,l.value.data.message]]),L(),Bo,L(),To,F(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":S[1]||(S[1]=N=>l.value.data.link=N)},[(p(!0),u(C,null,B(t(c).links,N=>(p(),u("option",{value:N.url},y(N.text),9,Lo))),256))],512),[[M,l.value.data.link]])]),_:1},8,["node-id","position"]),No,g(t(x),{id:`state.link.clicked.target.${o.id}`,type:"target",position:t(w).Top,style:f(t(i)),class:"handle"},{default:m(()=>[Mo]),_:1},8,["id","position","style"]),g(t(x),{id:`state.link.clicked.${o.id}`,type:"source",position:t(w).Bottom,style:f(t(a)),class:"handle"},{default:m(()=>[Ao]),_:1},8,["id","position","style"]),g(t(x),{id:`state.link.not_clicked.${o.id}`,type:"source",position:t(w).Bottom,style:f(t(n)),class:"handle"},{default:m(()=>[jo]),_:1},8,["id","position","style"])]))}};const Do={class:"col-lg-7 col-xl-8 col-xxl-9 pe-0"},Vo={class:"d-flex gap-2"},Wo=["href"],Uo=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-arrow-left-circle align-middle me-2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12 8 8 12 12 16"}),e("line",{x1:"16",y1:"12",x2:"8",y2:"12"})],-1),Eo={class:"h3 mb-3 px-4 py-2 bg-white"},Ho={class:"d-flex gap-2"},Oo={class:"d-flex align-items-center"},Ro=e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-save align-middle me-2"},[e("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),e("polyline",{points:"17 21 17 13 7 13 7 21"}),e("polyline",{points:"7 3 7 8 15 8"})],-1),zo={class:"col-lg-5 col-xl-4 col-xxl-3 px-0"},Io={__name:"WorkFlow",props:{workflowName:{type:String,default:"Untitled"},workflowId:{type:Number,default:null},saveUrl:{type:String,default:"/automation/workflow/save"},elementsData:{type:Array,default:[]},messages:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesOpened:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesWithLinks:{type:Array},stages:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},tags:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},stageActions:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},abSplit:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},contactLists:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},waitOptions:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},backUrl:{type:String,default:"/"}},setup(o){const s=o,a={"condition.stage.changed":v(Z),"condition.message.opened":v(te),"condition.run":v(ne),"condition.link.clicked":v(le),"action.message.sent":v(K),"action.wait":v(J),"action.start":v(Q),"action.add.tag":v(ee),"action.move.to.list":v(oe),"action.ab.split":v(se),"action.change.stage":v(ie)},n=b(s.elementsData),i=b(s.workflowName);let h=0;const d=()=>Math.floor(Math.random()*1e4+1)+`_${h++}`,{findNode:l,onConnect:c,nodes:r,edges:S,onNodeClick:N,addEdges:de,addNodes:re,viewport:sn,project:ce,vueFlowRef:pe}=T({nodes:[]});window.messages=s.messages,window.messagesOpened=s.messagesOpened,window.contactLists=s.contactLists,window.waitOptions=s.waitOptions,window.abSplit=s.abSplit,window.stages=s.stages,window.tags=s.tags,window.workflowId=s.workflowId,window.stageActions=s.stageActions,window.messagesWithLinks=s.messagesWithLinks;const ue=$=>{$.preventDefault(),$.dataTransfer&&($.dataTransfer.dropEffect="move")};c($=>de([$]));const he=$=>{var I;const j=(I=$.dataTransfer)==null?void 0:I.getData("application/vueflow"),{left:W,top:me}=pe.value.getBoundingClientRect(),we=ce({x:$.clientX-W,y:$.clientY-me}),z={id:d(),type:j,position:we,label:`${j} node`};re([z]),_e(()=>{const D=l(z.id),ye=fe(()=>D.dimensions,q=>{q.width>0&&q.height>0&&(D.position={x:D.position.x-D.dimensions.width/2,y:D.position.y-D.dimensions.height/2},ye())},{deep:!0,flush:"post"})})},ge=function(){axios.post(s.saveUrl,{elements:n.value,title:i.value}).then(function($){console.log($),window.notyf.open({type:"success",message:"Workflow successfully saved!",duration:"5000",ripple:!0,dismissible:!0})}).catch(function($){console.log($),window.notyf.open({type:"warning",message:"Something went wrong!",duration:"5000",ripple:!0,dismissible:!0})})};return($,j)=>(p(),u("div",{class:"row w-100 h-100 mx-0",onDrop:he},[e("div",Do,[g(t(G),{onDragover:ue,modelValue:n.value,"onUpdate:modelValue":j[1]||(j[1]=W=>n.value=W),"node-types":a},{default:m(()=>[g(t(X)),g(t(E),null,{default:m(()=>[e("div",Vo,[e("a",{class:"d-flex align-items-center h4 mb-3 px-4 py-2 text-white bg-info text-decoration-none",href:o.backUrl},[Uo,e("span",null,y($.$t("Back")),1)],8,Wo),e("h1",Eo,y(i.value),1)])]),_:1}),g(t(E),{position:t(xe).BottomRight},{default:m(()=>[e("div",Ho,[F(e("input",{type:"text",class:"form-control","onUpdate:modelValue":j[0]||(j[0]=W=>i.value=W),style:{"min-width":"200px"}},null,512),[[V,i.value]]),e("button",{class:"btn btn-success text-uppercase px-4",onClick:ge},[e("span",Oo,[Ro,L(" "+y($.$t("Save")),1)])])])]),_:1},8,["position"])]),_:1},8,["modelValue"])]),e("div",zo,[g(Tt)])],32))}};const qo={class:"row w-100 h-100 mx-0"},Po={class:"col-lg-12 col-xl-12 col-xxl-12 pe-0"},Go={class:"d-flex gap-2"},Xo=["href"],Yo=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-arrow-left-circle align-middle me-2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12 8 8 12 12 16"}),e("line",{x1:"16",y1:"12",x2:"8",y2:"12"})],-1),Zo={class:"h3 mb-3 px-4 py-2 bg-white"},Ko={__name:"ShowWorkFlow",props:{workflowName:{type:String,default:"Untitled"},workflowId:{type:Number,default:null},elementsData:{type:Array,default:[]},messages:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesOpened:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesWithLinks:{type:Array},stages:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},tags:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},stageActions:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},abSplit:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},contactLists:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},waitOptions:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},backUrl:{type:String,default:"/"}},setup(o){const s=o,a={"condition.stage.changed":v(Z),"condition.message.opened":v(te),"condition.run":v(ne),"condition.link.clicked":v(le),"action.message.sent":v(K),"action.wait":v(J),"action.start":v(Q),"action.add.tag":v(ee),"action.move.to.list":v(oe),"action.ab.split":v(se),"action.change.stage":v(ie)},n=b(s.elementsData),i=b(s.workflowName);return T({nodes:[]}),window.messages=s.messages,window.messagesOpened=s.messagesOpened,window.contactLists=s.contactLists,window.waitOptions=s.waitOptions,window.abSplit=s.abSplit,window.stages=s.stages,window.tags=s.tags,window.workflowId=s.workflowId,window.stageActions=s.stageActions,window.messagesWithLinks=s.messagesWithLinks,(h,d)=>(p(),u("div",qo,[e("div",Po,[g(t(G),{modelValue:n.value,"onUpdate:modelValue":d[0]||(d[0]=l=>n.value=l),"node-types":a},{default:m(()=>[g(t(X)),g(t(E),null,{default:m(()=>[e("div",Go,[e("a",{class:"d-flex align-items-center h4 mb-3 px-4 py-2 text-white bg-info text-decoration-none",href:o.backUrl},[Yo,e("span",null,y(h.$t("Back")),1)],8,Xo),e("h1",Zo,y(i.value),1)])]),_:1})]),_:1},8,["modelValue"])])]))}};const Jo={class:"row p-3"},Qo={class:"d-flex justify-content-between"},es=["onClick"],ts=e("i",{class:"align-middle fas fa-fw fa-minus-circle"},null,-1),os=[ts],ss=["onClick"],ns=e("i",{class:"align-middle ms-2 fas fa-fw fa-plus-circle"},null,-1),is=[ns],ls={class:"col-md-4"},as={class:"mb-3"},ds=e("label",{for:"stage_name",class:"form-label"},"Stage name",-1),rs=["name","onUpdate:modelValue"],cs={class:"col-md-5"},ps={class:"mb-3"},us=e("label",{for:"stage_description",class:"form-label"},"Stage description",-1),hs=["name","onUpdate:modelValue"],gs={class:"col-md-3"},ms={class:"d-flex flex-column mb-3"},ws=e("label",{for:"stage_color",class:"form-label"},"Stage color",-1),ys={class:"d-flex align-items-center"},_s=["name","onUpdate:modelValue"],fs={class:"fs-4 ms-3"},xs=["name","value"],vs={__name:"PipelineStageRepeater",props:{stages:{type:Array}},setup(o){const s=o,a=b([{name:"Default",description:"This is some description",color:"#366dc7"}]);U(()=>{s.stages.length&&(a.value=s.stages)});const n=()=>{a.value.push({name:"",description:"",color:"#366dc7"})},i=h=>{const d=a.value.indexOf(h);d>-1&&a.value.splice(d,1)};return(h,d)=>(p(),ve(be,{name:"stage-list",appear:""},{default:m(()=>[(p(!0),u(C,null,B(a.value,(l,c)=>(p(),u("div",{class:"d-flex flex-column bg-light mb-3 rounded-3",key:c},[e("div",Jo,[e("div",Qo,[e("h6",null,"#"+y(c+1)+" - "+y(l.name),1),e("div",null,[F(e("button",{class:"btn text-danger btn-lg border-0 p-0",onClick:H(r=>i(l),["prevent"]),title:"Remove Stage"},os,8,es),[[P,c||!c&&a.value.length>1]]),F(e("button",{class:"btn text-info btn-lg border-0 p-0",title:"Add New Stage",onClick:H(n,["prevent"])},is,8,ss),[[P,c===a.value.length-1]])])]),e("div",ls,[e("div",as,[ds,F(e("input",{class:"form-control",name:`pipeline_stages[${c}][name]`,placeholder:"Enter stage name",type:"text",id:"stage_name","onUpdate:modelValue":r=>l.name=r},null,8,rs),[[V,l.name]])])]),e("div",cs,[e("div",ps,[us,F(e("input",{class:"form-control",name:`pipeline_stages[${c}][description]`,placeholder:"Enter stage description",type:"text",id:"stage_description","onUpdate:modelValue":r=>l.description=r},null,8,hs),[[V,l.description]])])]),e("div",gs,[e("div",ms,[ws,e("div",ys,[F(e("input",{type:"color",name:`pipeline_stages[${c}][color]`,id:"stage_color","onUpdate:modelValue":r=>l.color=r,style:{height:"30px"}},null,8,_s),[[V,l.color]]),e("span",fs,y(l.color),1)])])]),e("input",{type:"hidden",name:`pipeline_stages[${c}][id]`,value:l.id},null,8,xs)])]))),128))]),_:1}))}};const bs=(o,s)=>{const a=o.__vccOpts||o;for(const[n,i]of s)a[n]=i;return a},ks={class:"mb-3 position-relative d-flex flex-column align-items-center"},Fs={for:"body",class:"form-label align-self-start"},$s=["name"],Ss={class:"placeholder-buttons bg-light"},Cs={class:"d-flex gap-1"},Bs={key:0,class:"invalid-feedback"},Ts={__name:"TextArea",props:{errorMessage:{type:String,required:!0},messageBody:{type:String},name:{type:String,required:!0}},setup(o){const s=o,a=b(""),n=b(null);U(()=>{a.value=s.messageBody});const i=(h,d)=>{h.preventDefault();const l=n.value,c=l.selectionStart,r=`[[${d}]]`;a.value=`${a.value.substring(0,c)} ${r}${a.value.substring(c)}`,l.focus()};return(h,d)=>(p(),u("div",ks,[e("label",Fs,y(h.$t("Message Body")),1),F(e("textarea",{ref_key:"textarea",ref:n,"onUpdate:modelValue":d[0]||(d[0]=l=>a.value=l),name:o.name,id:"body",class:ke([{"is-invalid":o.errorMessage},"form-control"]),cols:"10",rows:"10"},`
         `,10,$s),[[V,a.value]]),e("div",Ss,[e("span",null,y(h.$t("Add message placeholders"))+":",1),e("div",Cs,[e("button",{onClick:d[1]||(d[1]=l=>i(l,"firstname")),class:"btn btn-sm btn-info"},y(h.$t("Firstname")),1),e("button",{onClick:d[2]||(d[2]=l=>i(l,"lastname")),class:"btn btn-sm btn-info"},y(h.$t("Lastname")),1),e("button",{onClick:d[3]||(d[3]=l=>i(l,"email")),class:"btn btn-sm btn-info"},y(h.$t("Email")),1)])]),o.errorMessage?(p(),u("small",Bs,y(o.errorMessage),1)):Fe("",!0)]))}},Ls=bs(Ts,[["__scopeId","data-v-0c41e744"]]);const Ns={class:"mb-3"},Ms={class:"d-block form-label"},As=["name","value"],js={__name:"MultiSelectList",props:{selected:{type:Array},options:{type:Array,required:!0},name:{type:String},label:{type:String},placeholder:{type:String},labelBy:{type:String},trackBy:{type:String}},setup(o){const s=o,a=b([]);return U(()=>{s.selected.length&&(a.value=s.selected)}),(n,i)=>(p(),u("div",Ns,[e("span",Ms,y(o.label),1),g(t($e),{modelValue:a.value,"onUpdate:modelValue":i[0]||(i[0]=h=>a.value=h),options:o.options,multiple:!0,"close-on-select":!1,placeholder:o.placeholder,label:o.labelBy,"track-by":o.trackBy},null,8,["modelValue","options","placeholder","label","track-by"]),(p(!0),u(C,null,B(a.value,h=>(p(),u("input",{type:"hidden",name:o.name,value:h.id,key:h.id},null,8,As))),128))]))}},Ds=["onSubmit"],Vs={for:"note",class:"form-label fw-bold"},Ws={class:"d-flex align-items-center"},Us=e("i",{class:"align-middle me-2 fas fa-fw fa-clipboard-list"},null,-1),Es={class:"input-group d-flex align-items-center"},Hs=["placeholder"],Os=e("button",{type:"submit",class:"btn btn-success"},"Add Note",-1),Rs=e("small",{class:"text-info"},[e("em",null,"*press Enter to save note")],-1),zs=e("hr",null,null,-1),Is={class:"d-flex flex-column"},qs={class:"d-flex flex-column"},Ps={class:"mb-1"},Gs={style:{"font-size":"11px"}},Xs=e("strong",null,"Created by",-1),Ys={style:{"font-size":"11px"}},Zs={class:"d-flex gap-1"},Ks=["onClick"],Js=e("i",{class:"align-middle me-2 fas fa-fw fa-trash text-danger"},null,-1),Qs=[Js],en={__name:"Notes",props:{url:{type:String},deleteUrl:{type:String},leadId:{type:String},leadNotes:{type:Array}},setup(o){const s=o,a=b([]),n=b("");U(()=>{a.value=[...s.leadNotes]});const i=()=>{let d=new FormData;d.append("note",n.value),d.append("lead_id",s.leadId),axios.post(s.url,d,{headers:{"Content-Type":"application/json"}}).then(l=>{l.status===200&&(a.value=[...s.leadNotes,l.data.leadNote],n.value="")}).catch(l=>{console.log(l)})},h=d=>{axios.delete(s.deleteUrl.replace(":noteId",d)).then(l=>{l.status===200&&(a.value=a.value.filter(c=>c.id!==d))}).catch(l=>{console.log(l)})};return(d,l)=>(p(),u(C,null,[e("form",{onSubmit:H(i,["prevent"]),id:"notes-form",ref:"notesForm"},[e("div",null,[e("label",Vs,[e("span",Ws,[Us,L(y(d.$t("Notes")),1)])]),e("div",Es,[F(e("input",{id:"note","onUpdate:modelValue":l[0]||(l[0]=c=>n.value=c),class:"form-control",name:"note",placeholder:d.$t("Note")},null,8,Hs),[[V,n.value]]),Os]),Rs])],40,Ds),zs,e("div",Is,[(p(!0),u(C,null,B(a.value,c=>(p(),u("div",{key:c.id,class:"note mb-3"},[e("div",qs,[e("p",Ps,y(c.note),1),e("span",Gs,[e("em",null,[Xs,L(" "+y(c.created_by)+" THIS will be user name",1)])]),e("span",Ys,[e("strong",null,[e("em",null,y(c.created_at),1)])])]),e("div",Zs,[e("span",{class:"delete-icon",onClick:r=>h(c.id)},Qs,8,Ks)])]))),128))])],64))}};document.addEventListener("DOMContentLoaded",()=>{if(document.getElementsByClassName("js-simplebar")[0]){new Se(document.getElementsByClassName("js-simplebar")[0]);const s=document.getElementsByClassName("sidebar")[0];document.getElementsByClassName("sidebar-toggle")[0].addEventListener("click",()=>{s.classList.toggle("collapsed"),s.addEventListener("transitionend",()=>{window.dispatchEvent(new Event("resize"))})})}});document.addEventListener("DOMContentLoaded",()=>{Y.replace()});window.feather=Y;window.notyf=new Ce({duration:5e3,position:{x:"right",y:"top"},types:[{type:"default",backgroundColor:"#3B7DDD",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"info-bsha",backgroundColor:"#495e69",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"success",backgroundColor:"#28a745",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"warning",backgroundColor:"#ffc107",icon:{className:"notyf__icon--error",tagName:"i"}},{type:"danger",backgroundColor:"#dc3545",icon:{className:"notyf__icon--error",tagName:"i"}}]});window.dragula=Be;window.jQuery=window.$=Te;const tn={de:Je},ae=Le({locale:"de",fallbackLocale:"en",messages:tn});ae.global.locale=document.documentElement.lang.substring(0,2);const on=Ae(),R=Ne({components:{WorkFlow:Io,ShowWorkFlow:Ko,PipelineStageRepeater:vs,TextArea:Ls,MultiSelectList:js,Notes:en}});R.config.globalProperties.emitter=on;R.use(ae);document.querySelector("#app")!==null&&R.mount("#app");window.DataTable=Me;
