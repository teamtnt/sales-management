import{b as Ae,a as te,o as d,c as p,d as e,e as j,r as w,f as S,u as z,g as _,w as x,T as U,h as B,F as D,i as V,j as n,t as l,v as E,P as C,D as P,k as $,n as N,_ as T,l as M,m as A,p as De,q as pe,s as oe,x as Me,y as R,z as he,A as Ve,B as X,C as W,E as Ie,G as de,H as K,I as q,J as Oe,K as Ue,L as Y,M as me,N as Ee,O as ze,Q as We,R as Pe,S as Re,U as qe,V as He,W as Ze,X as ge,Y as Je,Z as Xe,$ as Ge,a0 as Ke,a1 as Ye,a2 as Qe,a3 as et}from"./vendor-DVxmtyTD.js";window.bootstrap=Ae;let tt=document.head.querySelector('meta[name="csrf-token"]').content;te.defaults.headers.common["X-CSRF-TOKEN"]=tt;te.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.axios=te;const st="Dashboard",ot="List",at="Edit",nt="Delete",lt="Remove",it="Name",dt="Description",rt="Count",ct="Speichern",ut="Stornieren",pt="Vorname",ht="Nachname",mt="Email",gt="Zurück",ft="USt-ID",_t="Anmerkungen",vt="Note",bt="Activities",yt="Profil",wt="Adresse",xt="Benutzer",kt="Telefon",$t="Firma",Ct="Kontakt",St="Website",Ft="PLZ",Nt="Stadt",Lt="Land",Bt="Listen",Tt="Wählen",jt="Von",At="Betreff",Dt="Nachricht",Mt="Leads",Vt="Stages",It={"Good day":"Guten Tag",Dashboard:st,"All Lists":"All Lists",List:ot,Edit:at,Delete:nt,Remove:lt,Name:it,Description:dt,Count:rt,Save:ct,Cancel:ut,"Message Body":"Nachrichtentext",Firstname:pt,Lastname:ht,"Add message placeholders":"Nachrichtenplatzhalter hinzufügen",Email:mt,Back:gt,VAT:ft,Notes:_t,Note:vt,Activities:bt,Profile:yt,"Send E-Mail":"E-Mail senden",Address:wt,User:xt,"User ID":"Bentuzer ID","Job title":"Arbeit",Phone:kt,Company:$t,Contact:Ct,Website:St,ZIP:Ft,City:Nt,Country:Lt,"Contact Tags":"Kontakt Tags",Lists:Bt,"Lead Tags":"Lead Tags",Select:Tt,From:jt,Subject:At,"Enter subject":"Betreff eingeben",Message:Dt,"Send Message":"Nachricht senden",Leads:Mt,"Create New List":"Neue Liste erstellen",Stages:Vt,"Lead moved to another stage!":"Lead in neue Stage verschoben!"},Ot={class:"bg-light h-100 shadow-lg"},Ut=j('<h5 class="sidebar-heading py-3 px-2"><span class="d-flex align-items-center justify-content-center fw-lighter text-center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-move align-middle me-2"><polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line></svg>You can drag these nodes to the pane</span></h5>',1),Et={class:"d-flex flex-column gap-2"},zt={class:"d-flex flex-wrap gap-2 align-items-center my-3 px-4"},Wt=j('<span class="start-box px-3 justify-content-center"><span class="start-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-flag"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line></svg></span> Start </span>',1),Pt=[Wt],Rt=j('<div class="bg-white shadow-sm px-3 py-2"><h6 class="mb-0"><span class="d-flex align-items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-pull-request align-middle me-2"><circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line></svg> Conditions</span></h6></div>',1),qt={class:"d-flex flex-wrap gap-4 align-items-center my-3 px-4"},Ht=j('<span class="condition-box pe-2 justify-content-center"><span class="condition-box__icon"><span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-play-circle align-middle"><circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon></svg></span></span> On Run</span>',1),Zt=[Ht],Jt=j('<span class="condition-box pe-2 justify-content-end"><span class="condition-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Stage Changed</span>',1),Xt=[Jt],Gt=j('<span class="condition-box pe-2 justify-content-end"><span class="condition-box__icon"><span><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="20px" height="20px" viewBox="-10 -10 84 84" enable-background="new -10 -10 84 84" xml:space="preserve"><g><line fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" x1="36" y1="9" x2="45" y2="9"></line><line fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" x1="19" y1="17" x2="45" y2="17"></line><line fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" x1="19" y1="25" x2="45" y2="25"></line><g><polyline fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" points="1,26 32,45.434 63,26"></polyline><polyline fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" points="11.334,21.667 1,26 1,63 63,63 63,26 63,26 52.666,21.667"></polyline><polyline fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" points="11,32 11,1 53,1 53,32"></polyline></g></g></svg></span></span> Message Opened </span>',1),Kt=[Gt],Yt=j(`<span class="condition-box pe-2 justify-content-center"><span class="condition-box__icon"><svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 52.965 52.965" width="15" height="15" xml:space="preserve"><path style="fill:none;stroke:#FFFFFF;stroke-width:2;stroke-linecap:round;stroke-miterlimit:10;" d="M24.008,13.401L33.2,4.208
                                    c4.278-4.278,11.278-4.278,15.556,0l0,0c4.278,4.278,4.278,11.278,0,15.556L36.735,31.786c-4.278,4.278-11.278,4.278-15.556,0l0,0"></path><path style="fill:none;stroke:#FFFFFF;stroke-width:2;stroke-linecap:round;stroke-miterlimit:10;" d="M27.543,40.978l-7.778,7.778
                                    c-4.278,4.278-11.278,4.278-15.556,0l0,0c-4.278-4.278-4.278-11.278,0-15.556l11.314-11.314c4.278-4.278,11.278-4.278,15.556,0l0,0"></path><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="33.965" y1="45" x2="33.965" y2="51"></line><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="37.722" y1="43" x2="41.965" y2="47.243"></line><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="38.965" y1="39" x2="44.965" y2="39"></line><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="15.965" y1="10" x2="15.965" y2="4"></line><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="12.207" y1="12" x2="7.965" y2="7.757"></line><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="10.965" y1="16" x2="4.965" y2="16"></line></svg></span> Link Clicked </span>`,1),Qt=[Yt],es=j('<div class="bg-white shadow-sm px-3 py-2"><h6 class="mb-0"><span class="d-flex align-items-center"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-repeat align-middle me-2"><polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path></svg> Actions</span></h6></div>',1),ts={class:"d-flex flex-wrap gap-4 align-items-center my-3 px-4"},ss=j('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail align-middle"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></span> Send Message </span>',1),os=[ss],as=j('<span class="action-box px-3 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock align-middle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></span> Wait </span>',1),ns=[as],ls=j('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag align-middle"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg></span> Add Tag </span>',1),is=[ls],ds=j('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list align-middle"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></span> Move To List </span>',1),rs=[ds],cs=j('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg></span> A/B Split </span>',1),us=[cs],ps=j('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Change Stage</span>',1),hs=[ps],ms={__name:"Sidebar",setup(t){const i=(s,a,c)=>{s.dataTransfer&&(s.dataTransfer.setData("application/vueflow",a),s.dataTransfer.effectAllowed="move")};return(s,a)=>(d(),p("aside",Ot,[Ut,e("div",Et,[e("div",zt,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[0]||(a[0]=c=>i(c,"action.start"))},Pt,32)]),Rt,e("div",qt,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[1]||(a[1]=c=>i(c,"condition.run"))},Zt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[2]||(a[2]=c=>i(c,"condition.stage.changed"))},Xt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[3]||(a[3]=c=>i(c,"condition.message.opened"))},Kt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[4]||(a[4]=c=>i(c,"condition.link.clicked"))},Qt,32)]),es,e("div",ts,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[5]||(a[5]=c=>i(c,"action.message.sent"))},os,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[6]||(a[6]=c=>i(c,"action.wait"))},ns,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[7]||(a[7]=c=>i(c,"action.add.tag"))},is,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[8]||(a[8]=c=>i(c,"action.move.to.list"))},rs,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[9]||(a[9]=c=>i(c,"action.ab.split"))},us,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[10]||(a[10]=c=>i(c,"action.change.stage"))},hs,32)])])]))}},gs={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},fs={class:"bg-white p-3 rounded-3"},_s=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),$("Node Properties")])],-1),vs={class:"mb-3"},bs=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Stage",-1),ys=["value"],ws={class:"d-flex justify-content-end"},xs=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),$("Delete Node ")],-1),ks=[xs],$s={class:"condition-box"},Cs=j('<span class="condition-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span>',1),Ss=e("span",{class:"circle"},null,-1),Fs=e("span",{class:"circle"},null,-1),fe={__name:"StageChanged",props:{id:String,label:String,type:String},setup(t){const i=t,s=w(!1),a=S(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),c=S(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let f=window.stages;const{findNode:h,onNodeClick:o,removeNodes:m,onPaneClick:y}=z(),v=w(h(i.id));o(u=>{u.event.target.classList.contains("handle")||u.node.id===v.value.id&&(s.value=!s.value)}),y(()=>{s.value=!1});const b=u=>{m([u],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(u,g)=>(d(),p("div",gs,[_(n(P),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:n(C).Right},{default:x(()=>[_(U,{mode:"in-out",appear:""},{default:x(()=>[e("div",fs,[_s,e("div",vs,[bs,B(e("select",{name:"argument",class:"form-select form-select-sm","onUpdate:modelValue":g[0]||(g[0]=r=>v.value.data=r),id:"argument"},[(d(!0),p(D,null,V(n(f),r=>(d(),p("option",{value:r},l(r.title),9,ys))),256))],512),[[E,v.value.data]])]),e("div",ws,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:g[1]||(g[1]=r=>b(v.value))},ks)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",$s,[Cs,$(" "+l(v.value.data.title??"Stage Changed"),1)]),_(n(T),{id:`state.stage.changed.target.${t.id}`,type:"target",position:n(C).Top,style:N(a.value),class:"handle"},{default:x(()=>[Ss]),_:1},8,["id","position","style"]),_(n(T),{id:`state.stage.changed.${t.id}`,type:"source",position:n(C).Bottom,style:N(c.value),class:"handle"},{default:x(()=>[Fs]),_:1},8,["id","position","style"])]))}},Ns={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Ls={class:"bg-white p-3 rounded-3"},Bs=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),$("Node Properties")])],-1),Ts={class:"mb-3"},js=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Message",-1),As=["value"],Ds={class:"d-flex justify-content-end"},Ms=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),$("Delete Node ")],-1),Vs=[Ms],Is={class:"action-box ps-1"},Os=e("span",{class:"action-box__icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-mail align-middle"},[e("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),e("polyline",{points:"22,6 12,13 2,6"})])],-1),Us=e("span",{class:"circle"},null,-1),Es=e("span",{class:"circle"},null,-1),_e={__name:"SendMessage",props:{id:String,label:String,type:String},setup(t){const i=t,s=w(!1),a=S(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),c=S(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let f=window.messages;const{findNode:h,onNodeClick:o,removeNodes:m,onPaneClick:y}=z(),v=w(h(i.id));o(u=>{u.event.target.classList.contains("handle")||u.node.id===v.value.id&&(s.value=!s.value)}),y(()=>{s.value=!1});const b=u=>{m([u],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(u,g)=>(d(),p("div",Ns,[_(n(P),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:n(C).Right},{default:x(()=>[_(U,{mode:"in-out",appear:""},{default:x(()=>[e("div",Ls,[Bs,e("div",Ts,[js,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":g[0]||(g[0]=r=>v.value.data=r)},[(d(!0),p(D,null,V(n(f),r=>(d(),p("option",{value:r},l(r.title),9,As))),256))],512),[[E,v.value.data]])]),e("div",Ds,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:g[1]||(g[1]=r=>b(v.value))},Vs)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",Is,[Os,$(" "+l(v.value.data.title??"Send Message"),1)]),_(n(T),{id:`state.message.sent.${t.id}`,type:"source",position:n(C).Bottom,style:N(c.value),class:"handle"},{default:x(()=>[Us]),_:1},8,["id","position","style"]),_(n(T),{id:`state.message.sent.target.${t.id}`,type:"target",position:n(C).Top,style:N(a.value),class:"handle"},{default:x(()=>[Es]),_:1},8,["id","position","style"])]))}},zs={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Ws={class:"bg-white p-3 rounded-3"},Ps=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),$("Node Properties")])],-1),Rs={class:"mb-3"},qs=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Wait Time",-1),Hs=["value"],Zs={class:"d-flex justify-content-end"},Js=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),$("Delete Node ")],-1),Xs=[Js],Gs={class:"action-box ps-1"},Ks=e("span",{class:"action-box__icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-clock align-middle"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12 6 12 12 16 14"})])],-1),Ys=e("span",{class:"circle"},null,-1),Qs=e("span",{class:"circle"},null,-1),ve={__name:"Wait",props:{id:String,label:String,type:String},setup(t){const i=t,s=w(!1),a=S(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),c=S(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let f=window.waitOptions;const{findNode:h,onNodeClick:o,removeNodes:m,onPaneClick:y}=z(),v=w(h(i.id));o(u=>{u.event.target.classList.contains("handle")||u.node.id===v.value.id&&(s.value=!s.value)});const b=u=>{m([u],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return y(()=>{s.value=!1}),(u,g)=>(d(),p("div",zs,[_(n(P),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:n(C).Right},{default:x(()=>[_(U,{mode:"in-out",appear:""},{default:x(()=>[e("div",Ws,[Ps,e("div",Rs,[qs,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":g[0]||(g[0]=r=>v.value.data=r)},[(d(!0),p(D,null,V(n(f),r=>(d(),p("option",{value:r},l(r.title),9,Hs))),256))],512),[[E,v.value.data]])]),e("div",Zs,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:g[1]||(g[1]=r=>b(v.value))},Xs)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",Gs,[Ks,$(" Wait "+l(v.value.data.title??""),1)]),_(n(T),{id:`state.wait.target.${t.id}`,type:"target",position:n(C).Top,style:N(a.value),class:"handle"},{default:x(()=>[Ys]),_:1},8,["id","position","style"]),_(n(T),{id:`state.wait.${t.id}`,type:"source",position:n(C).Bottom,style:N(c.value),class:"handle"},{default:x(()=>[Qs]),_:1},8,["id","position","style"])]))}},eo={class:"bg-white p-3 rounded-3"},to=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),$("Node Properties")])],-1),so={class:"d-flex justify-content-end"},oo=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),$("Delete Node ")],-1),ao=[oo],no=j('<span class="start-box pe-2 justify-content-center"><span class="start-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-flag"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line></svg></span> Start </span>',1),lo=e("span",{class:"circle"},null,-1),be={__name:"Start",props:{id:String,label:String,type:String},setup(t){const i=t,s=w(!1),a=w(),c=w(),f=S(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-6px"})),{findNode:h,onNodeClick:o,removeNodes:m,onPaneClick:y}=z(),v=w(h(i.id));o(u=>{u.event.target.classList.contains("handle")||u.node.id===v.value.id&&(s.value=!s.value)}),y(()=>{s.value=!1});const b=u=>{m([u],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(u,g)=>(d(),p("div",{class:"vue-flow__node-input shadow-sm",ref_key:"nodeWrapper",ref:a},[_(n(P),{ref_key:"nodeToolbar",ref:c,style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:n(C).Right},{default:x(()=>[_(U,{mode:"in-out",appear:""},{default:x(()=>[e("div",eo,[to,e("div",so,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:g[0]||(g[0]=r=>b(v.value))},ao)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),no,_(n(T),{id:"start",type:"source",position:n(C).Bottom,style:N(f.value),class:"handle"},{default:x(()=>[lo]),_:1},8,["position","style"])],512))}},io={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},ro={class:"bg-white p-3 rounded-3"},co=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),$("Node Properties")])],-1),uo={class:"mb-3"},po=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Tag",-1),ho=["value"],mo={class:"d-flex justify-content-end"},go=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),$("Delete Node ")],-1),fo=[go],_o={class:"action-box ps-1"},vo=e("span",{class:"action-box__icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-tag align-middle"},[e("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),e("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})])],-1),bo=e("span",{class:"circle"},null,-1),yo=e("span",{class:"circle"},null,-1),ye={__name:"AddTag",props:{id:String,label:String,type:String},setup(t){const i=t,s=w(!1),a=S(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),c=S(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let f=window.tags;const{findNode:h,onNodeClick:o,removeNodes:m,onPaneClick:y}=z(),v=w(h(i.id));o(u=>{u.event.target.classList.contains("handle")||u.node.id===v.value.id&&(s.value=!s.value)}),y(()=>{s.value=!1});const b=u=>{m([u],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(u,g)=>(d(),p("div",io,[_(n(P),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:n(C).Right},{default:x(()=>[_(U,{mode:"in-out",appear:""},{default:x(()=>[e("div",ro,[co,e("div",uo,[po,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":g[0]||(g[0]=r=>v.value.data=r)},[(d(!0),p(D,null,V(n(f),r=>(d(),p("option",{value:r},l(r.title),9,ho))),256))],512),[[E,v.value.data]])]),e("div",mo,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:g[1]||(g[1]=r=>b(v.value))},fo)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",_o,[vo,$(" "+l(v.value.data.title??"Add Tag"),1)]),_(n(T),{id:`state.tag.add.${t.id}`,type:"source",position:n(C).Bottom,style:N(c.value),class:"handle"},{default:x(()=>[bo]),_:1},8,["id","position","style"]),_(n(T),{id:`state.tag.add.target.${t.id}`,type:"target",position:n(C).Top,style:N(a.value),class:"handle"},{default:x(()=>[yo]),_:1},8,["id","position","style"])]))}},wo={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},xo={class:"bg-white p-3 rounded-3"},ko=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),$("Node Properties")])],-1),$o={class:"mb-3"},Co=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Message",-1),So=["value"],Fo={class:"d-flex justify-content-end"},No=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),$("Delete Node ")],-1),Lo=[No],Bo={class:"condition-box"},To=j('<span class="condition-box__icon"><span><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="20px" height="20px" viewBox="-10 -10 84 84" enable-background="new -10 -10 84 84" xml:space="preserve"><g><line fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" x1="36" y1="9" x2="45" y2="9"></line><line fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" x1="19" y1="17" x2="45" y2="17"></line><line fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" x1="19" y1="25" x2="45" y2="25"></line><g><polyline fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" points="1,26 32,45.434 63,26"></polyline><polyline fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" points="11.334,21.667 1,26 1,63 63,63 63,26 63,26 52.666,21.667"></polyline><polyline fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" points="11,32 11,1 53,1 53,32"></polyline></g></g></svg></span></span>',1),jo=e("span",{class:"circle"},null,-1),Ao=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1),Do=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),we={__name:"MessageOpened",props:{id:String,label:String,type:String},setup(t){const i=t,s=w(!1),a=S(()=>({backgroundColor:"green",left:"48px",width:"14px",height:"14px",right:"auto",bottom:"-7px"})),c=S(()=>({backgroundColor:"red",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"})),f=S(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-6px"}));let h=window.messagesOpened;const{findNode:o,onNodeClick:m,removeNodes:y,onPaneClick:v}=z(),b=w(o(i.id));m(g=>{g.event.target.classList.contains("handle")||g.node.id===b.value.id&&(s.value=!s.value)}),v(()=>{s.value=!1});const u=g=>{y([g],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(g,r)=>(d(),p("div",wo,[_(n(P),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:n(C).Right},{default:x(()=>[_(U,{mode:"in-out",appear:""},{default:x(()=>[e("div",xo,[ko,e("div",$o,[Co,B(e("select",{name:"argument",class:"form-select form-select-sm","onUpdate:modelValue":r[0]||(r[0]=k=>b.value.data=k),id:"argument"},[(d(!0),p(D,null,V(n(h),k=>(d(),p("option",{value:k},l(k.title),9,So))),256))],512),[[E,b.value.data]])]),e("div",Fo,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:r[1]||(r[1]=k=>u(b.value))},Lo)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",Bo,[To,$(" "+l(b.value.data.title??"Message Opened"),1)]),_(n(T),{id:`state.message.opened.target.${t.id}`,type:"target",position:n(C).Top,style:N(f.value),class:"handle"},{default:x(()=>[jo]),_:1},8,["id","position","style"]),_(n(T),{id:`state.message.opened.${t.id}`,type:"source",position:n(C).Bottom,style:N(a.value),class:"handle"},{default:x(()=>[Ao]),_:1},8,["id","position","style"]),_(n(T),{id:`state.message.not_opened.${t.id}`,type:"source",position:n(C).Bottom,style:N(c.value),class:"handle"},{default:x(()=>[Do]),_:1},8,["id","position","style"])]))}},Mo={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Vo={class:"bg-white p-3 rounded-3"},Io=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),$("Node Properties")])],-1),Oo={class:"mb-3"},Uo=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose List",-1),Eo=["value"],zo={class:"d-flex justify-content-end"},Wo=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),$("Delete Node ")],-1),Po=[Wo],Ro={class:"action-box ps-1"},qo=j('<span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list align-middle"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></span>',1),Ho=e("span",{class:"circle"},null,-1),Zo=e("span",{class:"circle"},null,-1),xe={__name:"MoveToList",props:{id:String,label:String,type:String},setup(t){const i=t,s=w(!1),a=S(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),c=S(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let f=window.contactLists;const{findNode:h,onNodeClick:o,removeNodes:m,onPaneClick:y}=z(),v=w(h(i.id));o(u=>{u.event.target.classList.contains("handle")||u.node.id===v.value.id&&(s.value=!s.value)}),y(()=>{s.value=!1});const b=u=>{m([u],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(u,g)=>(d(),p("div",Mo,[_(n(P),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:n(C).Right},{default:x(()=>[_(U,{mode:"in-out",appear:""},{default:x(()=>[e("div",Vo,[Io,e("div",Oo,[Uo,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":g[0]||(g[0]=r=>v.value.data=r)},[(d(!0),p(D,null,V(n(f),r=>(d(),p("option",{value:r},l(r.title),9,Eo))),256))],512),[[E,v.value.data]])]),e("div",zo,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:g[1]||(g[1]=r=>b(v.value))},Po)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",Ro,[qo,$(" "+l(v.value.data.title??"Move To List"),1)]),_(n(T),{id:`state.move_to_list.${t.id}`,type:"source",position:n(C).Bottom,style:N(c.value),class:"handle"},{default:x(()=>[Ho]),_:1},8,["id","position","style"]),_(n(T),{id:`state.move_to_list.target.${t.id}`,type:"target",position:n(C).Top,style:N(a.value),class:"handle"},{default:x(()=>[Zo]),_:1},8,["id","position","style"])]))}},Jo={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Xo={class:"bg-white p-3 rounded-3"},Go=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),$("Node Properties")])],-1),Ko={class:"mb-3"},Yo=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose split",-1),Qo=["value"],ea={class:"d-flex justify-content-end"},ta=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),$("Delete Node ")],-1),sa=[ta],oa={class:"action-box ps-1"},aa=j('<span class="action-box__icon"><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg></span>',1),na=e("span",{class:"circle"},null,-1),la=e("span",{class:"circle"},null,-1),ia=e("span",{class:"circle"},null,-1),ke={__name:"ABSplit",props:{id:String,label:String,type:String},setup(t){const i=t,s=w(!1),a=S(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),c=S(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",left:"48px",right:"auto",bottom:"-7px"})),f=S(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"}));let h=window.abSplit;const{findNode:o,onNodeClick:m,removeNodes:y,onPaneClick:v}=z(),b=w(o(i.id));m(g=>{g.event.target.classList.contains("handle")||g.node.id===b.value.id&&(s.value=!s.value)}),v(()=>{s.value=!1});const u=g=>{y([g],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(g,r)=>(d(),p("div",Jo,[_(n(P),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:n(C).Right},{default:x(()=>[_(U,{mode:"in-out",appear:""},{default:x(()=>[e("div",Xo,[Go,e("div",Ko,[Yo,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":r[0]||(r[0]=k=>b.value.data=k)},[(d(!0),p(D,null,V(n(h),k=>(d(),p("option",{value:k},l(k.title),9,Qo))),256))],512),[[E,b.value.data]])]),e("div",ea,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:r[1]||(r[1]=k=>u(b.value))},sa)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",oa,[aa,$(" "+l(b.value.data.title??"A/B Split"),1)]),_(n(T),{id:`state.abSplit.target.${t.id}`,type:"target",position:n(C).Top,style:N(a.value),class:"handle"},{default:x(()=>[na]),_:1},8,["id","position","style"]),_(n(T),{id:`state.abSplit.left.${t.id}`,type:"source",position:n(C).Bottom,style:N(c.value),class:"handle"},{default:x(()=>[la]),_:1},8,["id","position","style"]),_(n(T),{id:`state.abSplit.right.${t.id}`,type:"source",position:n(C).Bottom,style:N(f.value),class:"handle"},{default:x(()=>[ia]),_:1},8,["id","position","style"])]))}},da={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},ra={class:"bg-white p-3 rounded-3"},ca=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),$("Node Properties")])],-1),ua={class:"d-flex justify-content-end"},pa=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),$("Delete Node ")],-1),ha=[pa],ma={class:"condition-box"},ga=e("span",{class:"condition-box__icon"},[e("span",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-play-circle align-middle"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polygon",{points:"10 8 16 12 10 16 10 8"})])])],-1),fa=e("span",{class:"circle"},null,-1),_a=e("span",{class:"circle"},null,-1),$e={__name:"Run",props:{id:String,label:String,type:String},setup(t){const i=t,s=w(!1),a=S(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),c=S(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"})),{findNode:f,onNodeClick:h,removeNodes:o,onPaneClick:m}=z(),y=w(f(i.id));y.value.data={argument:window.workflowId},h(b=>{b.event.target.classList.contains("handle")||b.node.id===y.value.id&&(s.value=!s.value)}),m(()=>{s.value=!1});const v=b=>{o([b],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(b,u)=>(d(),p("div",da,[_(n(P),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:n(C).Right},{default:x(()=>[_(U,{mode:"in-out",appear:""},{default:x(()=>[e("div",ra,[ca,e("div",ua,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:u[0]||(u[0]=g=>v(y.value))},ha)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",ma,[ga,$(" "+l(y.value.data.title??"On Run"),1)]),_(n(T),{id:`state.run.target.${t.id}`,type:"target",position:n(C).Top,style:N(a.value),class:"handle"},{default:x(()=>[fa]),_:1},8,["id","position","style"]),_(n(T),{id:`state.run.${t.id}`,type:"source",position:n(C).Bottom,style:N(c.value),class:"handle"},{default:x(()=>[_a]),_:1},8,["id","position","style"])]))}},va={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},ba={class:"bg-white p-3 rounded-3"},ya=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),$("Node Properties")])],-1),wa={class:"mb-3"},xa=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Stage",-1),ka=["value"],$a={class:"d-flex justify-content-end"},Ca=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),$("Delete Node ")],-1),Sa=[Ca],Fa={class:"action-box ps-1"},Na=j('<span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span>',1),La=e("span",{class:"circle"},null,-1),Ba=e("span",{class:"circle"},null,-1),Ce={__name:"ChangeStage",props:{id:String,label:String,type:String},setup(t){const i=t,s=w(!1),a=S(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),c=S(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let f=window.stageActions;const{findNode:h,onNodeClick:o,removeNodes:m,onPaneClick:y}=z(),v=w(h(i.id));o(u=>{u.event.target.classList.contains("handle")||u.node.id===v.value.id&&(s.value=!s.value)}),y(()=>{s.value=!1});const b=u=>{m([u],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(u,g)=>(d(),p("div",va,[_(n(P),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:n(C).Right},{default:x(()=>[_(U,{mode:"in-out",appear:""},{default:x(()=>[e("div",ba,[ya,e("div",wa,[xa,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":g[0]||(g[0]=r=>v.value.data=r)},[(d(!0),p(D,null,V(n(f),r=>(d(),p("option",{value:r},l(r.title),9,ka))),256))],512),[[E,v.value.data]])]),e("div",$a,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:g[1]||(g[1]=r=>b(v.value))},Sa)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",Fa,[Na,$(" "+l(v.value.data.title??"Change Stage"),1)]),_(n(T),{id:`state.change.stage.target.${t.id}`,type:"target",position:n(C).Top,style:N(a.value),class:"handle"},{default:x(()=>[La]),_:1},8,["id","position","style"]),_(n(T),{id:`state.change.stage.${t.id}`,type:"source",position:n(C).Bottom,style:N(c.value),class:"handle"},{default:x(()=>[Ba]),_:1},8,["id","position","style"])]))}},Ta={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},ja={class:"bg-white p-3 rounded-3"},Aa=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),$("Node Properties")])],-1),Da={class:"mb-3"},Ma=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Message",-1),Va=["value"],Ia={key:0,class:"mb-3"},Oa=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Link",-1),Ua=["value"],Ea={class:"d-flex justify-content-end"},za=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),$("Delete Node ")],-1),Wa=[za],Pa=j(`<span class="condition-box"><span class="condition-box__icon"><svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 52.965 52.965" width="15" height="15" xml:space="preserve"><path style="fill:none;stroke:#FFFFFF;stroke-width:2;stroke-linecap:round;stroke-miterlimit:10;" d="M24.008,13.401L33.2,4.208
                        c4.278-4.278,11.278-4.278,15.556,0l0,0c4.278,4.278,4.278,11.278,0,15.556L36.735,31.786c-4.278,4.278-11.278,4.278-15.556,0l0,0"></path><path style="fill:none;stroke:#FFFFFF;stroke-width:2;stroke-linecap:round;stroke-miterlimit:10;" d="M27.543,40.978l-7.778,7.778
                        c-4.278,4.278-11.278,4.278-15.556,0l0,0c-4.278-4.278-4.278-11.278,0-15.556l11.314-11.314c4.278-4.278,11.278-4.278,15.556,0l0,0"></path><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="33.965" y1="45" x2="33.965" y2="51"></line><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="37.722" y1="43" x2="41.965" y2="47.243"></line><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="38.965" y1="39" x2="44.965" y2="39"></line><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="15.965" y1="10" x2="15.965" y2="4"></line><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="12.207" y1="12" x2="7.965" y2="7.757"></line><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="10.965" y1="16" x2="4.965" y2="16"></line></svg></span> Link Clicked </span>`,1),Ra=e("span",{class:"circle"},null,-1),qa=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1),Ha=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),Se={__name:"LinkClicked",props:{id:String,label:String,type:String},setup(t){const i=t,s=w(!1),a=S(()=>({backgroundColor:"green",left:"48px",width:"14px",height:"14px",right:"auto",bottom:"-7px"})),c=S(()=>({backgroundColor:"red",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"})),f=S(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-6px"}));let h=w(window.messagesWithLinks);const{findNode:o,onNodeClick:m,removeNodes:y,onPaneClick:v}=z(),b=w(o(i.id)),u=S(()=>h.value.find(r=>r.argument===b.value.data.message)||{links:[]});b.value.data.argument=S(()=>b.value.data.message&&b.value.data.link?`${b.value.data.message}.${b.value.data.link}`:""),m(r=>{r.event.target.classList.contains("handle")||r.node.id===b.value.id&&(s.value=!s.value)}),v(()=>{s.value=!1});const g=r=>{y([r],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(r,k)=>(d(),p("div",Ta,[_(n(P),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:n(C).Right},{default:x(()=>[_(U,{mode:"in-out",appear:""},{default:x(()=>[e("div",ja,[Aa,e("div",Da,[Ma,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":k[0]||(k[0]=F=>b.value.data.message=F)},[(d(!0),p(D,null,V(n(h),F=>(d(),p("option",{value:F.argument},l(F.title),9,Va))),256))],512),[[E,b.value.data.message]])]),_(U,{mode:"in-out",appear:""},{default:x(()=>{var F,O;return[(O=(F=u.value)==null?void 0:F.links)!=null&&O.length?(d(),p("div",Ia,[Oa,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":k[1]||(k[1]=L=>b.value.data.link=L)},[(d(!0),p(D,null,V(u.value.links,L=>(d(),p("option",{value:L.url},l(L.text),9,Ua))),256))],512),[[E,b.value.data.link]])])):M("",!0)]}),_:1}),e("div",Ea,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:k[2]||(k[2]=F=>g(b.value))},Wa)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),Pa,_(n(T),{id:`state.link.clicked.target.${t.id}`,type:"target",position:n(C).Top,style:N(f.value),class:"handle"},{default:x(()=>[Ra]),_:1},8,["id","position","style"]),_(n(T),{id:`state.link.clicked.${t.id}`,type:"source",position:n(C).Bottom,style:N(a.value),class:"handle"},{default:x(()=>[qa]),_:1},8,["id","position","style"]),_(n(T),{id:`state.link.not_clicked.${t.id}`,type:"source",position:n(C).Bottom,style:N(c.value),class:"handle"},{default:x(()=>[Ha]),_:1},8,["id","position","style"])]))}},Za={class:"col-lg-7 col-xl-8 col-xxl-9 pe-0"},Ja={class:"d-flex gap-2"},Xa=["href"],Ga=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-arrow-left-circle align-middle me-2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12 8 8 12 12 16"}),e("line",{x1:"16",y1:"12",x2:"8",y2:"12"})],-1),Ka={class:"h3 mb-3 px-4 py-2 bg-white"},Ya={class:"d-flex gap-2"},Qa={class:"d-flex align-items-center"},en=e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-save align-middle me-2"},[e("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),e("polyline",{points:"17 21 17 13 7 13 7 21"}),e("polyline",{points:"7 3 7 8 15 8"})],-1),tn={class:"col-lg-5 col-xl-4 col-xxl-3 px-0"},sn={__name:"WorkFlow",props:{workflowName:{type:String,default:"Untitled"},workflowId:{type:Number,default:null},saveUrl:{type:String,default:"/automation/workflow/save"},elementsData:{type:Array,default:[]},messages:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesOpened:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesWithLinks:{type:Array},stages:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},tags:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},stageActions:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},abSplit:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},contactLists:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},waitOptions:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},backUrl:{type:String,default:"/"}},setup(t){const i={"condition.stage.changed":A(fe),"condition.message.opened":A(we),"condition.run":A($e),"condition.link.clicked":A(Se),"action.message.sent":A(_e),"action.wait":A(ve),"action.start":A(be),"action.add.tag":A(ye),"action.move.to.list":A(xe),"action.ab.split":A(ke),"action.change.stage":A(Ce)},s=t,a=w(s.elementsData),c=w(s.workflowName);let f=0;const h=()=>Math.floor(Math.random()*1e4+1)+`_${f++}`,{findNode:o,onConnect:m,nodes:y,edges:v,onNodeClick:b,addEdges:u,addNodes:g,viewport:r,project:k,vueFlowRef:F}=z({nodes:[]});window.messages=s.messages,window.messagesOpened=s.messagesOpened,window.contactLists=s.contactLists,window.waitOptions=s.waitOptions,window.abSplit=s.abSplit,window.stages=s.stages,window.tags=s.tags,window.workflowId=s.workflowId,window.stageActions=s.stageActions,window.messagesWithLinks=s.messagesWithLinks;const O=I=>{I.preventDefault(),I.dataTransfer&&(I.dataTransfer.dropEffect="move")};m(I=>u([I]));const L=I=>{var le;const H=(le=I.dataTransfer)==null?void 0:le.getData("application/vueflow"),{left:G,top:Be}=F.value.getBoundingClientRect(),Te=k({x:I.clientX-G,y:I.clientY-Be}),ne={id:h(),type:H,position:Te,label:`${H} node`};g([ne]),De(()=>{const J=o(ne.id),je=Ve(()=>J.dimensions,ie=>{ie.width>0&&ie.height>0&&(J.position={x:J.position.x-J.dimensions.width/2,y:J.position.y-J.dimensions.height/2},je())},{deep:!0,flush:"post"})})},Q=function(){axios.post(s.saveUrl,{elements:a.value,title:c.value}).then(function(I){window.notyf.open({type:"success",message:"Workflow successfully saved!",duration:"5000",ripple:!0,dismissible:!0})}).catch(function(I){console.log(I),window.notyf.open({type:"warning",message:"Something went wrong!",duration:"5000",ripple:!0,dismissible:!0})})};return(I,H)=>(d(),p("div",{class:"row w-100 h-100 mx-0",onDrop:L},[e("div",Za,[_(n(he),{onDragover:O,modelValue:a.value,"onUpdate:modelValue":H[1]||(H[1]=G=>a.value=G),"node-types":i,"default-edge-options":{type:"smoothstep"}},{default:x(()=>[_(n(pe)),_(n(oe),null,{default:x(()=>[e("div",Ja,[e("a",{class:"d-flex align-items-center h4 mb-3 px-4 py-2 text-white bg-info text-decoration-none",href:t.backUrl},[Ga,e("span",null,l(I.$t("Back")),1)],8,Xa),e("h1",Ka,l(c.value),1)])]),_:1}),_(n(oe),{position:n(Me).BottomRight},{default:x(()=>[e("div",Ya,[B(e("input",{type:"text",class:"form-control","onUpdate:modelValue":H[0]||(H[0]=G=>c.value=G),style:{"min-width":"200px"}},null,512),[[R,c.value]]),e("button",{class:"btn btn-success text-uppercase px-4",onClick:Q},[e("span",Qa,[en,$(" "+l(I.$t("Save")),1)])])])]),_:1},8,["position"])]),_:1},8,["modelValue"])]),e("div",tn,[_(ms)])],32))}},on={class:"row w-100 h-100 mx-0"},an={class:"col-lg-12 col-xl-12 col-xxl-12 pe-0"},nn={class:"d-flex gap-2"},ln=["href"],dn=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-arrow-left-circle align-middle me-2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12 8 8 12 12 16"}),e("line",{x1:"16",y1:"12",x2:"8",y2:"12"})],-1),rn={class:"h3 mb-3 px-4 py-2 bg-white"},cn={__name:"ShowWorkFlow",props:{workflowName:{type:String,default:"Untitled"},workflowId:{type:Number,default:null},elementsData:{type:Array,default:[]},messages:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesOpened:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesWithLinks:{type:Array},stages:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},tags:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},stageActions:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},abSplit:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},contactLists:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},waitOptions:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},backUrl:{type:String,default:"/"}},setup(t){const i={"condition.stage.changed":A(fe),"condition.message.opened":A(we),"condition.run":A($e),"condition.link.clicked":A(Se),"action.message.sent":A(_e),"action.wait":A(ve),"action.start":A(be),"action.add.tag":A(ye),"action.move.to.list":A(xe),"action.ab.split":A(ke),"action.change.stage":A(Ce)},s=t,a=w(s.elementsData),c=w(s.workflowName);return z({nodes:[]}),window.messages=s.messages,window.messagesOpened=s.messagesOpened,window.contactLists=s.contactLists,window.waitOptions=s.waitOptions,window.abSplit=s.abSplit,window.stages=s.stages,window.tags=s.tags,window.workflowId=s.workflowId,window.stageActions=s.stageActions,window.messagesWithLinks=s.messagesWithLinks,(f,h)=>(d(),p("div",on,[e("div",an,[_(n(he),{modelValue:a.value,"onUpdate:modelValue":h[0]||(h[0]=o=>a.value=o),"node-types":i},{default:x(()=>[_(n(pe)),_(n(oe),null,{default:x(()=>[e("div",nn,[e("a",{class:"d-flex align-items-center h4 mb-3 px-4 py-2 text-white bg-info text-decoration-none",href:t.backUrl},[dn,e("span",null,l(f.$t("Back")),1)],8,ln),e("h1",rn,l(c.value),1)])]),_:1})]),_:1},8,["modelValue"])])]))}},un={class:"row p-3"},pn={class:"d-flex justify-content-between"},hn=["onClick"],mn=e("i",{class:"align-middle fas fa-fw fa-minus-circle"},null,-1),gn=[mn],fn=e("i",{class:"align-middle ms-2 fas fa-fw fa-plus-circle"},null,-1),_n=[fn],vn={class:"col-md-4"},bn={class:"mb-3"},yn=e("label",{for:"stage_name",class:"form-label"},"Stage name",-1),wn=["name","onUpdate:modelValue"],xn={class:"col-md-5"},kn={class:"mb-3"},$n=e("label",{for:"stage_description",class:"form-label"},"Stage description",-1),Cn=["name","onUpdate:modelValue"],Sn={class:"col-md-3"},Fn={class:"d-flex flex-column mb-3"},Nn=e("label",{for:"stage_color",class:"form-label"},"Stage color",-1),Ln={class:"d-flex align-items-center"},Bn=["name","onUpdate:modelValue"],Tn={class:"fs-4 ms-3"},jn=["name","value"],An={__name:"PipelineStageRepeater",props:{stages:{type:Array}},setup(t){const i=t,s=w([{name:"Default",description:"This is some description",color:"#366dc7"}]);X(()=>{i.stages.length&&(s.value=i.stages)});const a=()=>{s.value.push({name:"",description:"",color:"#366dc7"})},c=f=>{const h=s.value.indexOf(f);h>-1&&s.value.splice(h,1)};return(f,h)=>(d(),W(Ie,{name:"stage-list",appear:""},{default:x(()=>[(d(!0),p(D,null,V(s.value,(o,m)=>(d(),p("div",{class:"d-flex flex-column bg-light mb-3 rounded-3",key:m},[e("div",un,[e("div",pn,[e("h6",null,"#"+l(m+1)+" - "+l(o.name),1),e("div",null,[B(e("button",{class:"btn text-danger btn-lg border-0 p-0",onClick:K(y=>c(o),["prevent"]),title:"Remove Stage"},gn,8,hn),[[de,m||!m&&s.value.length>1]]),B(e("button",{class:"btn text-info btn-lg border-0 p-0",title:"Add New Stage",onClick:K(a,["prevent"])},_n,512),[[de,m===s.value.length-1]])])]),e("div",vn,[e("div",bn,[yn,B(e("input",{class:"form-control",name:`pipeline_stages[${m}][name]`,placeholder:"Enter stage name",type:"text",id:"stage_name","onUpdate:modelValue":y=>o.name=y},null,8,wn),[[R,o.name]])])]),e("div",xn,[e("div",kn,[$n,B(e("input",{class:"form-control",name:`pipeline_stages[${m}][description]`,placeholder:"Enter stage description",type:"text",id:"stage_description","onUpdate:modelValue":y=>o.description=y},null,8,Cn),[[R,o.description]])])]),e("div",Sn,[e("div",Fn,[Nn,e("div",Ln,[B(e("input",{type:"color",name:`pipeline_stages[${m}][color]`,id:"stage_color","onUpdate:modelValue":y=>o.color=y,style:{height:"30px"}},null,8,Bn),[[R,o.color]]),e("span",Tn,l(o.color),1)])])]),e("input",{type:"hidden",name:`pipeline_stages[${m}][id]`,value:o.id},null,8,jn)])]))),128))]),_:1}))}},ae=(t,i)=>{const s=t.__vccOpts||t;for(const[a,c]of i)s[a]=c;return s},Dn={class:"mb-3 position-relative d-flex flex-column align-items-center"},Mn={for:"body",class:"form-label align-self-start"},Vn=["name"],In={class:"placeholder-buttons bg-light"},On={class:"d-flex gap-1"},Un={key:0,class:"invalid-feedback"},En={__name:"TextArea",props:{errorMessage:{type:String,required:!0},messageBody:{type:String},name:{type:String,required:!0}},setup(t){const i=t,s=w(""),a=w(null);X(()=>{s.value=i.messageBody});const c=(f,h)=>{f.preventDefault();const o=a.value,m=o.selectionStart,y=`[[${h}]]`;s.value=`${s.value.substring(0,m)} ${y}${s.value.substring(m)}`,o.focus()};return(f,h)=>(d(),p("div",Dn,[e("label",Mn,l(f.$t("Message Body")),1),B(e("textarea",{ref_key:"textarea",ref:a,"onUpdate:modelValue":h[0]||(h[0]=o=>s.value=o),name:t.name,id:"body",class:q([{"is-invalid":t.errorMessage},"form-control"]),cols:"10",rows:"10"},`
         `,10,Vn),[[R,s.value]]),e("div",In,[e("span",null,l(f.$t("Add message placeholders"))+":",1),e("div",On,[e("button",{onClick:h[1]||(h[1]=o=>c(o,"firstname")),class:"btn btn-sm btn-info"},l(f.$t("Firstname")),1),e("button",{onClick:h[2]||(h[2]=o=>c(o,"lastname")),class:"btn btn-sm btn-info"},l(f.$t("Lastname")),1),e("button",{onClick:h[3]||(h[3]=o=>c(o,"email")),class:"btn btn-sm btn-info"},l(f.$t("Email")),1)])]),t.errorMessage?(d(),p("small",Un,l(t.errorMessage),1)):M("",!0)]))}},zn=ae(En,[["__scopeId","data-v-0c41e744"]]),Wn={class:"mb-3"},Pn={class:"d-block form-label"},Rn=["name","value"],ee={__name:"MultiSelectList",props:{selected:{type:Array},options:{type:Array,required:!0},name:{type:String},label:{type:String},placeholder:{type:String},labelBy:{type:String},trackBy:{type:String},syncTagsUrl:{type:String},modelId:{type:Number||String}},setup(t){const i=t,s=w([]);X(()=>{i.selected.length&&(s.value=i.selected)});function a(c,f){if(i.syncTagsUrl){let h=new FormData;h.append("modelId",i.modelId);for(let o=0;o<s.value.length;o++)h.append("tags[]",s.value[o].id);axios.post(i.syncTagsUrl,h,{headers:{"Content-Type":"application/json"}}).then(o=>{o.status===200&&window.notyf.open({type:"success",message:"Tags synced!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0})}).catch(o=>{console.log(o.message),o.response.status===422&&(errors.value=o.response.data.errors)})}}return(c,f)=>(d(),p("div",Wn,[e("span",Pn,l(t.label),1),_(n(Oe),{modelValue:s.value,"onUpdate:modelValue":f[0]||(f[0]=h=>s.value=h),options:t.options,multiple:!0,"close-on-select":!1,placeholder:t.placeholder,label:t.labelBy,"track-by":t.trackBy,onRemove:a,onSelect:a},null,8,["modelValue","options","placeholder","label","track-by"]),(d(!0),p(D,null,V(s.value,h=>(d(),p("input",{type:"hidden",name:t.name,value:h.id,key:h.id},null,8,Rn))),128))]))}},qn={for:"note",class:"form-label fw-bold"},Hn={class:"d-flex align-items-center"},Zn=e("i",{class:"align-middle me-2 fas fa-fw fa-clipboard-list"},null,-1),Jn=["placeholder"],Xn={key:0,class:"invalid-feedback"},Gn=e("option",{value:"Note"},"Note",-1),Kn=e("option",{value:"Call Accepted"},"Call Accepted",-1),Yn=e("option",{value:"Call Declined"},"Call Declined",-1),Qn=e("option",{value:"Meeting"},"Meeting",-1),el=[Gn,Kn,Yn,Qn],tl=["disabled"],sl=e("hr",null,null,-1),ol={class:"notes-container"},al={class:"d-flex flex-column"},nl={class:"mb-1"},ll={key:0,style:{"font-size":"11px"}},il={style:{"font-size":"11px"}},dl={class:"d-flex gap-1"},rl=["onClick"],cl=e("i",{class:"align-middle me-2 fas fa-fw fa-trash text-danger"},null,-1),ul=[cl],Fe={__name:"Notes",props:{url:{type:String},deleteUrl:{type:String},fetchUrl:{type:String},leadId:{type:Number}},setup(t){const i=t,s=w([]),a=w(""),c=w("Note"),f=w({}),h=w(!1);X(()=>{o()});function o(){axios.get(i.fetchUrl,{params:{lead_id:i.leadId}}).then(u=>{u.status===200&&(s.value=[...u.data.leadNotes])}).catch(u=>{console.log(u.message)})}const m=()=>{h.value=!0;let u=new FormData;u.append("note",a.value),u.append("note_type",c.value),u.append("lead_id",i.leadId),axios.post(i.url,u,{headers:{"Content-Type":"application/json"}}).then(g=>{g.status===200&&(s.value=[...s.value,g.data.leadNote],a.value="",h.value=!1,f.value={},window.notyf.open({type:"success",message:"Note saved!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}))}).catch(g=>{console.log(g.message),g.response.status===422&&(f.value=g.response.data.errors,h.value=!1)})},y=u=>{axios.delete(i.deleteUrl.replace(":noteId",u)).then(g=>{g.status===200&&(s.value=s.value.filter(r=>r.id!==u),window.notyf.open({type:"success",message:"Note deleted!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}))}).catch(g=>{console.log(g.message),window.notyf.open({type:"danger",message:g.message,duration:"2500",ripple:!0,position:"bottom right",dismissible:!0})})},v=u=>Object.keys(u).length!==0,b=u=>{let g=new Date(u*1e3);return new Intl.DateTimeFormat("default",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}).format(g)};return(u,g)=>(d(),p(D,null,[e("form",{onSubmit:K(m,["prevent"]),id:"notes-form",ref:"notesForm"},[e("div",null,[e("label",qn,[e("span",Hn,[Zn,$(l(u.$t("Notes")),1)])]),B(e("textarea",{id:"note","onUpdate:modelValue":g[0]||(g[0]=r=>a.value=r),class:q(["form-control mb-2",{"is-invalid":v(f.value)}]),name:"note",placeholder:u.$t("Note")},null,10,Jn),[[R,a.value]]),f.value&&f.value.note?(d(),p("small",Xn,l(f.value.note[0]),1)):M("",!0),B(e("select",{name:"note_type","onUpdate:modelValue":g[1]||(g[1]=r=>c.value=r),id:"note_type",class:"form-select mt-2"},el,512),[[E,c.value]]),e("button",{type:"submit",class:"btn btn-success mt-2",disabled:h.value},"Add Note",8,tl)])],544),sl,e("div",ol,[(d(!0),p(D,null,V(s.value,r=>(d(),p("div",{key:r.id,class:"note mb-3"},[e("div",al,[e("p",nl,l(r.note),1),e("span",{class:q(r.type=="Call Declined"?"text-danger":"text-success")},l(r.type),3),r.user?(d(),p("span",ll,[e("em",null,[e("strong",null,l(r.user.full_name),1)])])):M("",!0),e("span",il,[e("strong",null,[e("em",null,l(b(r.created_at)),1)])])]),e("div",dl,[e("span",{class:"delete-icon",onClick:k=>y(r.id)},ul,8,rl)])]))),128))])],64))}},pl={for:"note",class:"form-label fw-bold"},hl={class:"d-flex align-items-center"},ml=e("i",{class:"align-middle me-2 fas fa-fw fa-clipboard-list"},null,-1),gl={class:"form-group mb-3"},fl=e("label",{for:"start_date"},"Typ",-1),_l=e("option",{value:"Call"},"Call",-1),vl=e("option",{value:"Meeting"},"Meeting",-1),bl=e("option",{value:"E-Mail"},"E-Mail",-1),yl=e("option",{value:"Task"},"Task",-1),wl=[_l,vl,bl,yl],xl={class:"form-group mb-3"},kl=e("label",{for:"start_date"},"Start Datum",-1),$l={key:0,class:"invalid-feedback"},Cl={class:"form-group mb-3"},Sl=e("label",{for:"end_date"},"Ende Datum",-1),Fl={class:"form-group"},Nl=e("label",{for:"start_date"},"Beschreibung",-1),Ll={key:0,class:"invalid-feedback"},Bl={class:"d-flex gap-2 mt-2"},Tl=["disabled"],jl=["disabled"],Al=e("i",{class:"align-middle me-1 fas fa-fw fa-clock"},null,-1),Dl=e("hr",null,null,-1),Ml={class:"d-flex flex-column"},Vl={class:"d-flex flex-column"},Il={class:"mb-1"},Ol={key:0,style:{"font-size":"11px"}},Ul={style:{"font-size":"11px"}},El={class:"d-flex gap-1"},zl=["onClick"],Wl=e("i",{class:"align-middle me-2 fas fa-fw fa-trash text-danger"},null,-1),Pl=[Wl],Ne={__name:"Activities",props:{url:{type:String},fetchUrl:{type:String},deleteUrl:{type:String},leadId:{type:Number},leadActivities:{type:Array}},setup(t){const i=t,s=w([]),a=w(""),c=w("Call"),f=w(new Date(new Date().getTime()+24*60*60*1e3).toISOString().slice(0,16).slice(0,11)+"00:00"),h=w(""),o=w({}),m=w(!1);X(()=>{y()});function y(){axios.get(i.fetchUrl,{params:{lead_id:i.leadId}}).then(r=>{r.status===200&&(s.value=[...r.data.leadActivities])}).catch(r=>{console.log(r.message)})}const v=()=>{m.value=!0;const r=new Date;r.setTime(r.getTime()+72*60*60*1e3);const k=r.toISOString().slice(0,16);let F=new FormData;F.append("description","Wiedervorlage"),F.append("activity_type","Call"),F.append("activity_start_date",k),F.append("activity_end_date",""),F.append("lead_id",i.leadId),axios.post(i.url,F,{headers:{"Content-Type":"application/json"}}).then(O=>{O.status===200&&(s.value=[...s.value,O.data.leadActivity],m.value=!1,window.notyf.open({type:"success",message:"Wiedervorlage in 3 Tagen erstellt!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}))}).catch(O=>{O.response.status===422&&(o.value=O.response.data.errors,console.log(O.response.data.errors)),m.value=!1})},b=()=>{m.value=!0;let r=new FormData;r.append("description",a.value),r.append("activity_type",c.value),r.append("activity_start_date",f.value),r.append("activity_end_date",h.value),r.append("lead_id",i.leadId),axios.post(i.url,r,{headers:{"Content-Type":"application/json"}}).then(k=>{k.status===200&&(s.value=[...s.value,k.data.leadActivity],a.value="",m.value=!1,o.value={},window.notyf.open({type:"success",message:"Activity saved!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}))}).catch(k=>{k.response.status===422&&(o.value=k.response.data.errors,console.log(k.response.data.errors),m.value=!1)})},u=r=>{axios.delete(i.deleteUrl.replace(":activityId",r)).then(k=>{k.status===200&&(s.value=s.value.filter(F=>F.id!==r),window.notyf.open({type:"success",message:"Activity deleted!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}))}).catch(k=>{console.log(k.message),window.notyf.open({type:"danger",message:k.message,duration:"2500",ripple:!0,position:"bottom right",dismissible:!0})})};function g(r){const k=new Date(r);let F=k.getUTCDate().toString().padStart(2,"0"),O=(k.getUTCMonth()+1).toString().padStart(2,"0"),L=k.getUTCFullYear(),Q=k.getUTCHours().toString().padStart(2,"0"),I=k.getUTCMinutes().toString().padStart(2,"0");return`${F}.${O}.${L} ${Q}:${I}`}return(r,k)=>{var F,O;return d(),p(D,null,[e("form",{onSubmit:K(b,["prevent"]),id:"activities-form",ref:"activitiesForm"},[e("div",null,[e("label",pl,[e("span",hl,[ml,$(l(r.$t("Activities")),1)])]),e("div",gl,[fl,B(e("select",{name:"activity_type","onUpdate:modelValue":k[0]||(k[0]=L=>c.value=L),id:"note_type",class:"form-select mt-2"},wl,512),[[E,c.value]])]),e("div",xl,[kl,B(e("input",{type:"datetime-local",class:q(["form-control",{"is-invalid":(F=o.value)==null?void 0:F.activity_start_date}]),id:"activity_start_date","onUpdate:modelValue":k[1]||(k[1]=L=>f.value=L)},null,2),[[R,f.value]]),o.value&&o.value.activity_start_date?(d(),p("small",$l,l(o.value.activity_start_date[0]),1)):M("",!0)]),e("div",Cl,[Sl,B(e("input",{type:"datetime-local",class:"form-control",id:"activity_end_date","onUpdate:modelValue":k[2]||(k[2]=L=>h.value=L)},null,512),[[R,h.value]])]),e("div",Fl,[Nl,B(e("textarea",{id:"activity","onUpdate:modelValue":k[3]||(k[3]=L=>a.value=L),class:q(["form-control",{"is-invalid":(O=o.value)==null?void 0:O.description}]),name:"activity"},null,2),[[R,a.value]]),o.value&&o.value.description?(d(),p("small",Ll,l(o.value.description[0]),1)):M("",!0)]),e("div",Bl,[e("button",{type:"submit",class:"btn btn-success",disabled:m.value},"Add Activity",8,Tl),e("button",{type:"button",class:"btn btn-warning",onClick:v,disabled:m.value},[Al,$("Auf Wiedervorlage legen ")],8,jl)])])],544),Dl,e("div",Ml,[(d(!0),p(D,null,V(s.value,L=>(d(),p("div",{key:L.id,class:"note mb-3"},[e("div",Vl,[e("p",Il,l(L.description),1),e("span",null,l(L.type),1),L.user?(d(),p("span",Ol,[e("em",null,[e("strong",null,l(L.user.full_name),1)])])):M("",!0),e("span",Ul,[$("Start Datum: "),e("strong",null,[e("em",null,l(g(L.start_date)),1)])])]),e("div",El,[e("span",{class:"delete-icon",onClick:Q=>u(L.id)},Pl,8,zl)])]))),128))])],64)}}},Rl={props:["chartData","chartType"],mounted(){this.createChart()},methods:{createChart(){const t=this.$refs.chart.getContext("2d");new Ue(t,{type:this.chartType,data:{labels:this.chartData.labels,datasets:[{label:"Opens",data:this.chartData.opens,fill:this.chartType==="line",backgroundColor:this.chartType==="bar"?"#3B82EC":"transparent",borderColor:"#3B82EC",tension:this.chartType==="line"?.4:0},{label:"Clicks",data:this.chartData.clicks,fill:this.chartType==="line",backgroundColor:this.chartType==="bar"?"#E8EAED":"transparent",borderColor:"#E8EAED",borderDash:this.chartType==="line"?[4,4]:[],tension:this.chartType==="line"?.4:0}]},options:{maintainAspectRatio:!1,plugins:{legend:{display:!0},tooltip:{intersect:!1},filler:{propagate:!1}},interaction:{intersect:!0},scales:{x:{grid:{color:"rgba(0,0,0,0.05)"},ticks:{maxTicksLimit:15}},y:{ticks:{stepSize:500},display:!0,grid:{color:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",tickColor:"#fff"},borderDash:[5,5]}}}})}}},ql={ref:"chart",width:"749",height:"350"};function Hl(t,i,s,a,c,f){return d(),p("div",null,[e("canvas",ql,null,512)])}const Zl=ae(Rl,[["render",Hl]]);function Jl(t,i){const s=w([]),a=w(20),c=S(()=>t.stage&&t.stage.color?{"border-top":`8px solid ${t.stage.color}`}:{}),f=S(()=>t.stage&&t.stage.name?`${t.stage.name} (${t.leadsCount[t.stage.id]})`:`${i("Leads")} (${t.leadsCount})`),h=S(()=>{const b=Object.keys(t.stage).length===0?"leads":`stage-${t.stage.id}`,u=Object.keys(t.stage).length!==0?t.stage.id:0;return{id:b,dataStageId:u}}),o=S(()=>Object.keys(t.stage).length===0?t.leads:t.leads[t.stage.id]),m=S(()=>(s.value.length>0?s.value:o.value).slice(0,a.value));return{cardStyle:c,stageTitle:f,stageIdAttributes:h,getLeads:m,loadMoreLeads:()=>{a.value+=10},handleSearch:async b=>{b.target.value.length===0&&(a.value=20);const u=t.campaign.id,g=t.campaign.pipeline.id,r=t.stage.id||0,k=b.target.value.toLowerCase().trim();try{const{data:{searchResults:F}}=await te.get(`/sales/campaign/${u}/pipeline/${g}/stage/${r}/search`,{params:{query:k}});s.value=F}catch(F){console.error("Error fetching data:",F)}}}}const Xl=["width","height"],Gl=e("circle",{cx:"11",cy:"11",r:"8"},null,-1),Kl=e("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},null,-1),Yl=[Gl,Kl],Ql={__name:"Search",props:{width:{type:Number,default:15},height:{type:Number,default:15}},setup(t){return(i,s)=>(d(),p("svg",{width:t.width,height:t.height,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Yl,8,Xl))}},ei={class:"mb-3"},ti={for:"from_email",class:"form-label"},si={value:"",selected:""},oi=["value"],ai={key:0,class:"invalid-feedback"},ni={class:"mb-3"},li={for:"subject",class:"form-label"},ii=["placeholder"],di={key:0,class:"invalid-feedback"},ri={class:"mb-3"},ci={for:"body",class:"form-label"},ui={key:0,class:"invalid-feedback"},pi={class:"my-3"},hi=["disabled"],mi={class:"d-flex align-items-center justify-content-center"},gi={key:0,class:"spinner spinner-border spinner-border-sm text-light me-2",role:"status"},fi=e("span",{class:"visually-hidden"},"Loading...",-1),_i=[fi],vi={__name:"SendEmailForm",props:{leadId:{type:Number,required:!0}},setup(t){const i=t,s=w(null),a=w({}),c=w(!1),{emails:f,route:{messages:h}}=Y("data"),o=()=>{let m=new FormData(s.value);c.value=!0,axios.post(h.send.replace(":leadId",i.leadId),m,{headers:{"Content-Type":"application/json"}}).then(y=>{y.status===200&&(c.value=!1,a.value={},window.notyf.open({type:"success",message:y.data.message,duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}),s.value.reset())}).catch(y=>{y.response.status===422&&(a.value=y.response.data.errors,c.value=!1)})};return(m,y)=>{var v,b,u;return d(),p("form",{onSubmit:K(o,["prevent"]),ref_key:"form",ref:s},[e("div",ei,[e("label",ti,l(m.$t("From")),1),e("select",{id:"from_email",name:"from_email",class:q(["form-control",{"is-invalid":(v=a.value)==null?void 0:v.from_email}])},[e("option",si,l(m.$t("Select")),1),(d(!0),p(D,null,V(n(f),(g,r)=>(d(),p("option",{value:r,key:r},l(g),9,oi))),128))],2),a.value&&a.value.from_email?(d(),p("small",ai,l(a.value.from_email[0]),1)):M("",!0)]),e("div",ni,[e("label",li,l(m.$t("Subject")),1),e("input",{type:"text",name:"subject",class:q(["form-control",{"is-invalid":(b=a.value)==null?void 0:b.subject}]),id:"subject",placeholder:m.$t("Enter subject")},null,10,ii),a.value&&a.value.subject?(d(),p("small",di,l(a.value.subject[0]),1)):M("",!0)]),e("div",ri,[e("label",ci,l(m.$t("Message")),1),e("textarea",{name:"body",id:"body",class:q(["form-control",{"is-invalid":(u=a.value)==null?void 0:u.body}]),rows:"4"},null,2),a.value&&a.value.body?(d(),p("small",ui,l(a.value.body[0]),1)):M("",!0)]),e("div",pi,[e("button",{type:"submit",class:"btn btn-success me-2 w-100",disabled:c.value},[e("span",mi,[c.value?(d(),p("span",gi,_i)):M("",!0),$(l(m.$t("Send Message")),1)])],8,hi)])],544)}}},bi={class:"form-group mb-3"},yi=e("label",{for:"stage-select-select"},"Move Lead to stage:",-1),wi=e("option",{value:"",disabled:""},"Select an option",-1),xi=["value"],ki={__name:"RegularSelect",props:{modelId:{type:Number,required:!1},options:{type:Array,required:!0},transformOptions:{type:Boolean,required:!1},selectedOption:{type:Number,required:!1}},setup(t){const i=t,s=Y("data"),a=w(i.selectedOption),{t:c}=me(),f=S(()=>i.transformOptions?i.options.map(o=>({id:o.id,name:o.name})):i.options),h=async()=>{if(a.value)try{(await axios.post(s.route.leads.leadStageChange.replace(":leadId",i.modelId),{stage_id:a.value})).status===200&&window.notyf.open({type:"success",message:c("Lead moved to another stage!"),duration:"2500",ripple:!0,position:"bottom right",dismissible:!0})}catch(o){console.error("Error fetching data:",o)}};return(o,m)=>(d(),p("div",bi,[yi,B(e("select",{id:"stage-select",class:"form-select mt-2","onUpdate:modelValue":m[0]||(m[0]=y=>a.value=y),onChange:h},[wi,(d(!0),p(D,null,V(f.value,y=>(d(),p("option",{key:y.id,value:y.id},l(y.name),9,xi))),128))],544),[[E,a.value]])]))}},Z=t=>(We("data-v-35c01996"),t=t(),Pe(),t),$i={class:"offcanvas-header bg-light border-bottom"},Ci={class:"offcanvas-title",id:"offcanvasRightLabel"},Si={class:"d-flex align-items-center"},Fi=Z(()=>e("svg",{class:"me-2 flex-shrink-0",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),Ni={class:"nav nav-tabs",id:"lead-tabs",role:"tablist",style:{"font-size":"12px"}},Li={class:"nav-item",role:"presentation"},Bi={class:"nav-link active text-uppercase btn-tab",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile-tab-pane",type:"button",role:"tab","aria-controls":"profile-tab-pane","aria-selected":"true"},Ti={class:"nav-item",role:"presentation"},ji={class:"nav-link text-uppercase btn-tab",id:"notes-tab","data-bs-toggle":"tab","data-bs-target":"#notes-tab-pane",type:"button",role:"tab","aria-controls":"notes-tab-pane","aria-selected":"false"},Ai={class:"nav-item",role:"presentation"},Di={class:"nav-link text-uppercase btn-tab",id:"activities-tab","data-bs-toggle":"tab","data-bs-target":"#activities-tab-pane",type:"button",role:"tab","aria-controls":"activities-tab-pane","aria-selected":"false"},Mi={class:"nav-item",role:"presentation"},Vi={class:"nav-link text-uppercase btn-tab",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#message-tab-pane",type:"button",role:"tab","aria-controls":"message-tab-pane","aria-selected":"false"},Ii={class:"tab-content",id:"myTabContent",style:{"overflow-y":"auto"}},Oi={class:"tab-pane fade show active",id:"profile-tab-pane",role:"tabpanel","aria-labelledby":"profile-tab",tabindex:"0"},Ui={class:"offcanvas-body"},Ei={class:"row mb-4 data-list"},zi={class:"col-4 col-xxl-3 mb-0"},Wi={class:"col-8 col-xxl-9 mb-0"},Pi={class:"mb-1"},Ri={class:"col-4 col-xxl-3 mb-0"},qi={class:"col-8 col-xxl-9 mb-0"},Hi={class:"mb-1"},Zi={class:"col-4 col-xxl-3 mb-0"},Ji={class:"col-8 col-xxl-9 mb-0"},Xi={class:"mb-1"},Gi={class:"col-4 col-xxl-3 mb-0"},Ki={class:"col-8 col-xxl-9 mb-0"},Yi={class:"mb-1"},Qi={class:"col-4 col-xxl-3 mb-0"},ed={class:"col-8 col-xxl-9 mb-0"},td={class:"mb-1"},sd={class:"col-4 col-xxl-3 mb-0"},od={class:"col-8 col-xxl-9 mb-0"},ad={class:"mb-1"},nd={class:"col-4 col-xxl-3 mb-0"},ld={class:"col-8 col-xxl-9 mb-0"},id={class:"mb-1"},dd={class:"col-4 col-xxl-3 mb-0"},rd={class:"col-8 col-xxl-9 mb-0"},cd={class:"mb-1"},ud={class:"col-4 col-xxl-3 mb-0"},pd={class:"col-8 col-xxl-9 mb-0"},hd={class:"mb-1"},md={class:"col-4 col-xxl-3 mb-0"},gd={class:"col-8 col-xxl-9 mb-0"},fd={class:"mb-1"},_d={class:"col-4 col-xxl-3 mb-0"},vd={class:"col-8 col-xxl-9 mb-0"},bd={class:"mb-1"},yd={class:"col-4 col-xxl-3 mb-0"},wd={class:"col-8 col-xxl-9 mb-0"},xd={class:"mb-1"},kd={class:"col-4 col-xxl-3 mb-0"},$d={class:"col-8 col-xxl-9 mb-0"},Cd={class:"mb-1"},Sd={class:"col-4 col-xxl-3 mb-0"},Fd={class:"col-8 col-xxl-9 mb-0"},Nd={class:"mb-1"},Ld={key:0,class:"col-4 col-xxl-3 mb-0"},Bd={key:1,class:"col-8 col-xxl-9 mb-0"},Td={class:"mb-1"},jd=["href"],Ad={class:"mb-4"},Dd={class:"d-flex fw-bold align-items-center mb-1"},Md=Z(()=>e("i",{class:"align-middle me-2 fas fa-fw fa-random"},null,-1)),Vd=Z(()=>e("hr",null,null,-1)),Id={class:"mb-4"},Od={class:"d-flex fw-bold align-items-center mb-2"},Ud=Z(()=>e("svg",{class:"me-2",width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.25 2.25a3 3 0 00-3 3v4.318a3 3 0 00.879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 005.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 00-2.122-.879H5.25zM6.375 7.5a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z","clip-rule":"evenodd"})],-1)),Ed={class:"mb-4"},zd={class:"d-flex fw-bold align-items-center mb-2"},Wd=Z(()=>e("svg",{class:"me-2",width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.25 2.25a3 3 0 00-3 3v4.318a3 3 0 00.879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 005.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 00-2.122-.879H5.25zM6.375 7.5a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z","clip-rule":"evenodd"})],-1)),Pd={class:"mb-4"},Rd={class:"d-flex fw-bold align-items-center mb-2"},qd=Z(()=>e("svg",{class:"me-2",width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.25 2.25a3 3 0 00-3 3v4.318a3 3 0 00.879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 005.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 00-2.122-.879H5.25zM6.375 7.5a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z","clip-rule":"evenodd"})],-1)),Hd=Z(()=>e("div",{style:{height:"50px","margin-bottom":"50px"}},null,-1)),Zd={class:"tab-pane fade",id:"notes-tab-pane",role:"tabpanel","aria-labelledby":"notes-tab",tabindex:"0"},Jd={class:"offcanvas-body"},Xd={class:"tab-pane fade",id:"activities-tab-pane",role:"tabpanel","aria-labelledby":"activities-tab",tabindex:"0"},Gd={class:"offcanvas-body"},Kd={class:"tab-pane fade",id:"message-tab-pane",role:"tabpanel","aria-labelledby":"message-tab",tabindex:"0"},Yd={class:"offcanvas-body"},Qd={__name:"OffCanvas",props:{modelValue:{type:Boolean,default:!1},lead:{type:Object,required:!0},routes:{type:Object,required:!0},tags:{type:Array,required:!0},lists:{type:Array,required:!0}},emits:["update:modelValue"],setup(t,{emit:i}){const s=t,a=i,c=w(null);X(()=>{const o=document.getElementById("offcanvasRight");new bootstrap.Offcanvas(o).show()}),Ee(()=>{const o=document.getElementById("offcanvasRight"),m=new bootstrap.Offcanvas(o);c.value.addEventListener("hidden.bs.offcanvas",()=>{a("update:modelValue",!1)}),m.hide()}),ze(c,()=>{a("update:modelValue",!1)});const f=S(()=>{var o,m;return`${((o=s.lead.contact)==null?void 0:o.firstname)??""} ${((m=s.lead.contact)==null?void 0:m.lastname)??""}`}),h=Y("data");return(o,m)=>t.modelValue?(d(),p("div",{key:0,ref_key:"offCanvasRef",ref:c,class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},[e("div",$i,[e("h5",Ci,[e("span",Si,[Fi,$(" "+l(o.$t("User"))+": "+l(f.value),1)])]),e("button",{onClick:m[0]||(m[0]=y=>a("update:modelValue",!1)),type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})]),e("ul",Ni,[e("li",Li,[e("button",Bi,l(o.$t("Profile")),1)]),e("li",Ti,[e("button",ji,l(o.$t("Notes")),1)]),e("li",Ai,[e("button",Di,l(o.$t("Activities")),1)]),e("li",Mi,[e("button",Vi,l(o.$t("Send E-Mail")),1)])]),e("div",Ii,[e("div",Oi,[e("div",Ui,[e("dl",Ei,[e("dt",zi,[e("strong",null,l(o.$t("User ID"))+":",1)]),e("dd",Wi,[e("p",Pi,l(t.lead.contact.id),1)]),e("dt",Ri,[e("strong",null,l(o.$t("Firstname"))+":",1)]),e("dd",qi,[e("p",Hi,l(t.lead.contact.firstname),1)]),e("dt",Zi,[e("strong",null,l(o.$t("Lastname"))+":",1)]),e("dd",Ji,[e("p",Xi,l(t.lead.contact.lastname),1)]),e("dt",Gi,[e("strong",null,l(o.$t("Job title"))+":",1)]),e("dd",Ki,[e("p",Yi,l(t.lead.contact.job_title),1)]),e("dt",Qi,[e("strong",null,l(o.$t("Email"))+":",1)]),e("dd",ed,[e("p",td,l(t.lead.contact.email),1)]),e("dt",sd,[e("strong",null,l(o.$t("Phone"))+":",1)]),e("dd",od,[e("p",ad,l(t.lead.contact.phone),1)]),e("dt",nd,[e("strong",null,l(o.$t("Company"))+":",1)]),e("dd",ld,[e("p",id,l(t.lead.contact.company_name),1)]),e("dt",dd,[e("strong",null,l(o.$t("VAT"))+":",1)]),e("dd",rd,[e("p",cd,l(t.lead.contact.vat),1)]),e("dt",ud,[e("strong",null,l(o.$t("Contact"))+":",1)]),e("dd",pd,[e("p",hd,l(t.lead.contact.company_email),1)]),e("dt",md,[e("strong",null,l(o.$t("Website"))+":",1)]),e("dd",gd,[e("p",fd,l(t.lead.contact.url),1)]),e("dt",_d,[e("strong",null,l(o.$t("Address"))+":",1)]),e("dd",vd,[e("p",bd,l(t.lead.contact.address),1)]),e("dt",yd,[e("strong",null,l(o.$t("ZIP"))+":",1)]),e("dd",wd,[e("p",xd,l(t.lead.contact.postal),1)]),e("dt",kd,[e("strong",null,l(o.$t("City"))+":",1)]),e("dd",$d,[e("p",Cd,l(t.lead.contact.city),1)]),e("dt",Sd,[e("strong",null,l(o.$t("Country"))+":",1)]),e("dd",Fd,[e("p",Nd,l(t.lead.contact.country),1)]),t.lead.contact.external_profile_url?(d(),p("dt",Ld,[e("strong",null,l(o.$t("Profile"))+" URL:",1)])):M("",!0),t.lead.contact.external_profile_url?(d(),p("dd",Bd,[e("p",Td,[e("a",{href:t.lead.contact.external_profile_url,target:"_blank"},l(t.lead.contact.external_profile_url),9,jd)])])):M("",!0)]),e("div",Ad,[e("span",Dd,[Md,$(" "+l(o.$t("Stages")),1)]),_(ki,{"model-id":t.lead.id,options:n(h).stages,"selected-option":t.lead.pipeline_stage_id,"transform-options":""},null,8,["model-id","options","selected-option"])]),Vd,e("div",Id,[e("span",Od,[Ud,$(l(o.$t("Contact Tags")),1)]),(d(),W(ee,{name:"tags[]",label:"Add tag to contact",placeholder:"Choose tags...","label-by":"name","track-by":"name","sync-tags-url":n(h).route.contacts.syncTags.replace(":contactId",t.lead.contact.id),"model-id":t.lead.contact.id,selected:t.lead.contact.tags??[],options:t.tags??[],key:t.lead.contact.id},null,8,["sync-tags-url","model-id","selected","options"]))]),e("div",Ed,[e("span",zd,[Wd,$(l(o.$t("Lists")),1)]),(d(),W(ee,{name:"tags[]",label:"Add to Lists",placeholder:"Choose list...","label-by":"name","track-by":"name","sync-tags-url":n(h).route.contacts.syncLists.replace(":contactId",t.lead.contact.id),"model-id":t.lead.contact.id,selected:t.lead.contact.lists??[],options:t.lists??[],key:t.lead.contact.id},null,8,["sync-tags-url","model-id","selected","options"]))]),e("div",Pd,[e("span",Rd,[qd,$(l(o.$t("Lead Tags")),1)]),(d(),W(ee,{name:"tags[]",label:"Add tag to lead",placeholder:"Choose tags...","label-by":"name","track-by":"name","sync-tags-url":n(h).route.leads.syncTags.replace(":contactId",t.lead.contact.id),"model-id":t.lead.id,selected:t.lead.tags??[],options:t.tags??[],key:t.lead.id},null,8,["sync-tags-url","model-id","selected","options"]))]),Hd])]),e("div",Zd,[e("div",Jd,[(d(),W(Fe,{"lead-id":t.lead.id,"fetch-url":n(h).route.notes.fetch.replace(":leadId",t.lead.id),url:n(h).route.notes.store.replace(":leadId",t.lead.id),"delete-url":n(h).route.notes.delete.replace(":leadId",t.lead.id),key:t.lead.id},null,8,["lead-id","fetch-url","url","delete-url"]))])]),e("div",Xd,[e("div",Gd,[(d(),W(Ne,{"lead-id":t.lead.id,"fetch-url":n(h).route.activities.fetch.replace(":leadId",t.lead.id),url:n(h).route.activities.store.replace(":leadId",t.lead.id),"delete-url":n(h).route.activities.delete.replace(":leadId",t.lead.id),key:t.lead.id},null,8,["lead-id","fetch-url","url","delete-url"]))])]),e("div",Kd,[e("div",Yd,[_(vi,{"lead-id":t.lead.id},null,8,["lead-id"])])])])],512)):M("",!0)}},er=ae(Qd,[["__scopeId","data-v-35c01996"]]),tr={width:"26",height:"26",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",style:{"pointer-events":"none"}},sr=e("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"},null,-1),or=[sr],ar={__name:"LeadDetails",props:{leadId:{type:Number,required:!0},campaignId:{type:Number,required:!0}},setup(t){const i=t,s=w(!1),a=w(null),c=w([]),f=w([]);async function h(){try{const m=await axios.get(`/sales/campaign/${i.campaignId}/lead/${i.leadId}`);a.value=m.data.lead,c.value=JSON.parse(m.data.tags),f.value=JSON.parse(m.data.lists)}catch(m){console.error(m)}}const o=async()=>{await h(),s.value=!0};return(m,y)=>(d(),p("div",null,[e("span",{onClick:o,class:"info-icon","aria-controls":"offcanvasRight"},[(d(),p("svg",tr,or))]),s.value?(d(),W(er,{key:0,modelValue:s.value,"onUpdate:modelValue":y[0]||(y[0]=v=>s.value=v),lead:a.value,tags:c.value,lists:f.value,routes:[]},null,8,["modelValue","lead","tags","lists"])):M("",!0)]))}},nr=["width","height"],lr=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),ir=[lr],dr={__name:"User",props:{width:{type:Number,default:20},height:{type:Number,default:20}},setup(t){return(i,s)=>(d(),p("svg",{width:t.width,height:t.height,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},ir,8,nr))}},rr=["width","height"],cr=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"},null,-1),ur=[cr],pr={__name:"Mail",props:{width:{type:Number,default:18},height:{type:Number,default:18}},setup(t){return(i,s)=>(d(),p("svg",{width:t.width,height:t.height,fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},ur,8,rr))}},hr=["width","height"],mr=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"},null,-1),gr=[mr],re={__name:"Phone",props:{width:{type:Number,default:18},height:{type:Number,default:18}},setup(t){return(i,s)=>(d(),p("svg",{width:t.width,height:t.height,fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},gr,8,hr))}},fr=["width","height"],_r=e("path",{"fill-rule":"evenodd",d:"M5.25 2.25a3 3 0 00-3 3v4.318a3 3 0 00.879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 005.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 00-2.122-.879H5.25zM6.375 7.5a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z","clip-rule":"evenodd"},null,-1),vr=[_r],ce={__name:"Tag",props:{width:{type:Number,default:18},height:{type:Number,default:18}},setup(t){return(i,s)=>(d(),p("svg",{width:t.width,height:t.height,viewBox:"0 0 24 24",fill:"currentColor"},vr,8,fr))}},br=["data-lead-id"],yr={class:"drag-handle",style:{display:"inline-block",width:"20px",cursor:"grab","margin-bottom":"5px"}},wr={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-move align-middle",style:{"pointer-events":"none"}},xr=j('<polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line>',6),kr=[xr],$r={class:"d-flex align-items-center"},Cr={class:"ms-2 lead-name"},Sr=["href"],Fr={class:"d-flex align-items-center"},Nr={class:"ms-2 lead-email"},Lr={class:"d-flex align-items-center"},Br={class:"ms-2"},Tr={key:0,class:"d-flex align-items-center"},jr={class:"list-unstyled d-flex flex-wrap m-0",style:{gap:"2px 3px"}},Ar={key:1,class:"d-flex align-items-center"},Dr={class:"list-unstyled d-flex flex-wrap m-0 lead-tags mt-3",style:{gap:"2px 3px"}},Mr={key:2,class:"d-flex align-items-center"},Vr={class:"ms-2"},Ir={__name:"LeadItem",props:{lead:{type:Object,required:!0},campaign:{type:Object,required:!0}},setup(t){const i=t,s=S(()=>{var o,m;const c=(m=(o=i.lead)==null?void 0:o.next_call_activity)==null?void 0:m.start_date;if(!c)return null;const f=new Date(c);return new Intl.DateTimeFormat("de-DE",{day:"numeric",month:"2-digit",year:"numeric",hour:"numeric",minute:"numeric"}).format(f)}),a=Y("data");return(c,f)=>{var h,o,m,y,v,b;return d(),p("div",{class:"lead-item card mb-3 p-2 bg-light border gap-1","data-lead-id":t.lead.id},[e("span",yr,[(d(),p("svg",wr,kr))]),e("div",$r,[_(dr,{class:"flex-shrink-0"}),e("span",Cr,[e("a",{target:"_blank",href:n(a).route.contacts.edit.replace(":contactId",t.lead.contact.id)},l((h=t.lead.contact)==null?void 0:h.firstname)+" "+l((o=t.lead.contact)==null?void 0:o.lastname),9,Sr)])]),e("div",Fr,[_(pr),e("span",Nr,l((m=t.lead.contact)==null?void 0:m.email),1)]),e("div",Lr,[_(re),e("span",Br,l((y=t.lead.contact)==null?void 0:y.phone),1)]),((v=t.lead.contact)==null?void 0:v.tags.length)>0?(d(),p("div",Tr,[_(ce,{class:"me-2 flex-shrink-0"}),e("ul",jr,[(d(!0),p(D,null,V(t.lead.contact.tags,u=>(d(),p("li",{key:u.id,class:"badge rounded-pill bg-info fw-light"},l(u.name),1))),128))])])):M("",!0),((b=t.lead)==null?void 0:b.tags.length)>0?(d(),p("div",Ar,[_(ce,{class:"me-2 flex-shrink-0"}),e("ul",Dr,[(d(!0),p(D,null,V(t.lead.tags,u=>(d(),p("li",{key:u.id,class:"badge rounded-pill bg-success fw-light"},l(u.name),1))),128))])])):M("",!0),t.lead.next_call_activity?(d(),p("div",Mr,[_(re),e("span",Vr,l(s.value),1)])):M("",!0),(d(),W(ar,{"lead-id":t.lead.id,"campaign-id":t.campaign.id,key:t.lead.contact.id},null,8,["lead-id","campaign-id"]))],8,br)}}},Or={class:"campaign-card"},Ur={class:"card-header"},Er={key:0,class:"card-actions float-end"},zr={class:"dropdown position-relative"},Wr=j('<a href="#" data-bs-toggle="dropdown" data-bs-display="static"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-horizontal align-middle"><circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle></svg></a>',1),Pr={class:"dropdown-menu dropdown-menu-end"},Rr=["href"],qr={class:"card-title"},Hr={key:1,class:"card-subtitle text-muted mb-2"},Zr={class:"input-group"},Jr={class:"input-group-text"},Xr=["id","data-stage-id"],Gr=e("div",{class:"card mb-3 px-2 py-4 cursor-grab border-dashed align-items-center"},[e("span",{style:{"font-size":"10px"}},[e("i",null,"Drag / drop area")])],-1),ue={__name:"LeadList",props:{campaign:{type:Object,required:!0},leadsCount:{type:[Number,Object],required:!0},leads:{type:[Array,Object],required:!1,default:[]},stage:{type:Object,required:!1,default:{}}},setup(t){const i=t,{t:s}=me(),{cardStyle:a,stageTitle:c,stageIdAttributes:f,getLeads:h,loadMoreLeads:o,handleSearch:m}=Jl(i,s),{route:{list:y}}=Y("data"),v=w(null);return Re(v,()=>{o()},{distance:20,direction:"bottom",canLoadMore:()=>Object.keys(i.stage).length===0?h.value.length<i.leadsCount:h.value.length<i.leadsCount[i.stage.id]}),(b,u)=>(d(),p("div",Or,[e("div",{class:"card",style:N(n(a))},[e("div",Ur,[Object.keys(i.stage).length!==0?(d(),p("div",Er,[e("div",zr,[Wr,e("div",Pr,[e("a",{href:n(y).newList.replace(":stageId",t.stage.id),class:"dropdown-item"},l(b.$t("Create New List")),9,Rr)])])])):M("",!0),e("h5",qr,l(n(c)),1),t.stage.description?(d(),p("h6",Hr,l(t.stage.description),1)):M("",!0),e("div",Zr,[e("span",Jr,[_(Ql)]),e("input",{class:"form-control lead-search",id:"",type:"search",name:"lead-search",placeholder:"Search leads by name or email...",onInput:u[0]||(u[0]=(...g)=>n(m)&&n(m)(...g))},null,32)])]),e("div",{class:"card-body scroll",ref_key:"scrollContainer",ref:v},[e("div",{id:n(f).id,"data-stage-id":n(f).dataStageId},[(d(!0),p(D,null,V(n(h),g=>(d(),W(Ir,{key:g.id,lead:g,campaign:t.campaign},null,8,["lead","campaign"]))),128)),Gr],8,Xr)],512)],4)]))}},Kr=["data-pipeline-id"],Yr={__name:"LeadCampaign",props:{campaign:{type:Object,required:!0},initialLeadsCount:{type:Number,required:!0},initialLeads:{type:Array,required:!0},leadsCount:{type:Object,required:!0},stages:{type:Array,required:!0},leads:{type:Object,required:!0},routes:{type:Object,required:!1},emails:{type:Object,required:!1}},setup(t){const i=t,s=qe({route:i.routes,emails:i.emails,stages:i.stages});return He("data",s),(a,c)=>(d(),W(U,{appear:""},{default:x(()=>[e("div",{class:"row",style:{"flex-wrap":"unset"},id:"pipeline","data-pipeline-id":t.campaign.pipeline_id},[(d(),W(ue,{campaign:t.campaign,"leads-count":t.initialLeadsCount,leads:t.initialLeads,key:0},null,8,["campaign","leads-count","leads"])),(d(!0),p(D,null,V(t.stages,f=>(d(),W(ue,{key:f.id,"leads-count":t.leadsCount,campaign:t.campaign,stage:f,leads:t.leads},null,8,["leads-count","campaign","stage","leads"]))),128))],8,Kr)]),_:1}))}};document.addEventListener("DOMContentLoaded",()=>{if(document.getElementsByClassName("js-simplebar")[0]){new Ze(document.getElementsByClassName("js-simplebar")[0]);const i=document.getElementsByClassName("sidebar")[0];document.getElementsByClassName("sidebar-toggle")[0].addEventListener("click",()=>{i.classList.toggle("collapsed"),i.addEventListener("transitionend",()=>{window.dispatchEvent(new Event("resize"))})})}});document.addEventListener("DOMContentLoaded",()=>{ge.replace()});window.feather=ge;window.notyf=new Je({duration:5e3,position:{x:"right",y:"top"},types:[{type:"default",backgroundColor:"#3B7DDD",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"info-bsha",backgroundColor:"#495e69",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"success",backgroundColor:"#28a745",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"warning",backgroundColor:"#ffc107",icon:{className:"notyf__icon--error",tagName:"i"}},{type:"danger",backgroundColor:"#dc3545",icon:{className:"notyf__icon--error",tagName:"i"}}]});window.dragula=Xe;window.jQuery=window.$=Ge;const Qr={de:It},Le=Ke({locale:"de",fallbackLocale:"en",messages:Qr});Le.global.locale=document.documentElement.lang.substring(0,2);const ec=et(),se=Ye({components:{WorkFlow:sn,ShowWorkFlow:cn,PipelineStageRepeater:An,TextArea:zn,MultiSelectList:ee,Notes:Fe,Activities:Ne,OpenClicksChart:Zl,LeadCampaign:Yr}});se.config.globalProperties.emitter=ec;se.config.compilerOptions.whitespace="preserve";se.use(Le);document.querySelector("#app")!==null&&se.mount("#app");window.DataTable=Qe;
