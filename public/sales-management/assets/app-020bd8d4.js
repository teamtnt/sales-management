import{a as B,o as h,c as g,b as e,d as c,e as d,u as o,j as _,Y as u,n as C,m as x,r as A,f as Y,w as $,_ as I,g as K,h as Q,E as J,i as E,t as w,k as Z,l as ee,p as te,T as oe,q as ne,s as b,v as L,x as V,y as T,F as se,S as ae,z as R,N as ie,A as le,$ as de,B as ce,C as re,D as pe,G as he}from"./vendor-0b811fdc.js";let ge=document.head.querySelector('meta[name="csrf-token"]');B.defaults.headers.common["X-CSRF-TOKEN"]=ge.textContent;B.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.axios=B;const _e="Dashboard",ue="List",me="Edit",fe="Delete",we="Remove",ve="Name",ye="Description",xe="Count",be="Speichern",ke="Stornieren",$e={"Good day":"Guten Tag",Dashboard:_e,"All Lists":"All Lists",List:ue,Edit:me,Delete:fe,Remove:we,Name:ve,Description:ye,Count:xe,Save:be,Cancel:ke};const Ce={class:"bg-light h-100 shadow-lg"},Se=c('<h5 class="sidebar-heading py-3 px-2"><span class="d-flex align-items-center justify-content-center fw-lighter text-center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-move align-middle me-2"><polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line></svg>You can drag these nodes to the pane</span></h5>',1),Te={class:"d-flex flex-column gap-2"},Be=c('<div class="bg-white shadow-sm px-3 py-2"><h6 class="mb-0"><span class="d-flex align-items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-pull-request align-middle me-2"><circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line></svg> Conditions</span></h6></div>',1),De={class:"d-flex flex-wrap gap-2 align-items-center my-3 px-4"},je=c('<span class="condition-box pe-2 justify-content-end"><span class="condition-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Stage Changed</span>',1),Me=[je],Ne=c('<div class="bg-white shadow-sm px-3 py-2"><h6 class="mb-0"><span class="d-flex align-items-center"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-repeat align-middle me-2"><polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path></svg> Actions</span></h6></div>',1),Ee={class:"d-flex flex-wrap gap-4 align-items-center my-3 px-4"},Le=c('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail align-middle"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></span> Send Message </span>',1),Ve=[Le],Ae=c('<span class="action-box px-3 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock align-middle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></span> Wait </span>',1),Re=[Ae],We=c('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag align-middle"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg></span> Add Tag </span>',1),ze=[We],Ue=c('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list align-middle"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></span> Move To List </span>',1),qe=[Ue],Fe={__name:"Sidebar",setup(n){const s=(t,a,l)=>{t.dataTransfer&&(t.dataTransfer.setData("application/vueflow",a),t.dataTransfer.effectAllowed="move")};return(t,a)=>(h(),g("aside",Ce,[Se,e("div",Te,[Be,e("div",De,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[0]||(a[0]=l=>s(l,"stageChanged"))},Me,32)]),Ne,e("div",Ee,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[1]||(a[1]=l=>s(l,"sendMessage"))},Ve,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[2]||(a[2]=l=>s(l,"wait"))},Re,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[3]||(a[3]=l=>s(l,"addTag"))},ze,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[4]||(a[4]=l=>s(l,"moveToList"))},qe,32)])])]))}},Oe={class:"vue-flow__node-input shadow-sm"},Ge=c('<span class="condition-box pe-2 justify-content-end"><span class="condition-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Stagge Changed</span>',1),He={__name:"StageChanged",props:{id:String,label:String,type:String},setup(n){return(s,t)=>(h(),g("div",Oe,[Ge,d(o(u),{type:"source",position:o(_).Bottom},null,8,["position"])]))}},Pe={class:"vue-flow__node-input shadow-sm"},Xe=["data-handleid","data-nodeid"],Ye=c('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail align-middle"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></span> Send Message </span>',1),Ie={__name:"SendMessage",props:{id:String,label:String,type:String},setup(n){return(s,t)=>(h(),g("div",Pe,[e("div",{"data-handleid":`${n.id}__handle-top`,"data-nodeid":n.id,"data-handlepos":"top",class:C(`vue-flow__handle nodrag vue-flow__handle-top vue-flow__handle-${n.id}__handle-top target connectable`)},null,10,Xe),Ye,d(o(u),{id:"source",type:"source",position:o(_).Bottom},null,8,["position"]),d(o(u),{id:"target",type:"target",position:o(_).Top},null,8,["position"])]))}},Ke={class:"vue-flow__node-input shadow-sm"},Qe=["data-handleid","data-nodeid"],Je=c('<span class="action-box pe-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock align-middle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></span> Wait </span>',1),Ze={__name:"Wait",props:{id:String,label:String,type:String},setup(n){return(s,t)=>(h(),g("div",Ke,[e("div",{"data-handleid":`${n.id}__handle-top`,"data-nodeid":n.id,"data-handlepos":"top",class:C(`vue-flow__handle nodrag vue-flow__handle-top vue-flow__handle-${n.id}__handle-top target connectable`)},null,10,Qe),Je,d(o(u),{type:"target",position:o(_).Top},null,8,["position"]),d(o(u),{type:"source",position:o(_).Bottom},null,8,["position"])]))}},et={class:"vue-flow__node-input shadow-sm"},tt=["data-handleid","data-nodeid"],ot=c('<span class="action-box pe-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag align-middle"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg></span> AddTag </span>',1),nt={__name:"AddTag",props:{id:String,label:String,type:String},setup(n){return(s,t)=>(h(),g("div",et,[e("div",{"data-handleid":`${n.id}__handle-top`,"data-nodeid":n.id,"data-handlepos":"top",class:C(`vue-flow__handle nodrag vue-flow__handle-top vue-flow__handle-${n.id}__handle-top target connectable`)},null,10,tt),ot,d(o(u),{id:"source",type:"source",position:o(_).Bottom},null,8,["position"]),d(o(u),{id:"target",type:"target",position:o(_).Top},null,8,["position"])]))}},st={class:"vue-flow__node-input shadow-sm"},at=["data-handleid","data-nodeid"],it=c('<span class="action-box pe-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list align-middle"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></span> Move To List </span>',1),lt={__name:"MoveToList",props:{id:String,label:String,type:String},setup(n){return(s,t)=>(h(),g("div",st,[e("div",{"data-handleid":`${n.id}__handle-top`,"data-nodeid":n.id,"data-handlepos":"top",class:C(`vue-flow__handle nodrag vue-flow__handle-top vue-flow__handle-${n.id}__handle-top target connectable`)},null,10,at),it,d(o(u),{id:"source",type:"source",position:o(_).Bottom},null,8,["position"]),d(o(u),{id:"target",type:"target",position:o(_).Top},null,8,["position"])]))}},dt={class:"col-lg-7 col-xl-8 col-xxl-9 pe-0"},ct={class:"h3 mb-3 px-4 py-2 bg-white"},rt={class:"btn btn-danger"},pt={class:"col-lg-5 col-xl-4 col-xxl-3 px-0"},ht={__name:"WorkFlow",props:{panelTitle:{type:String,default:"Workflow"}},setup(n){const s={stageChanged:x(He),sendMessage:x(Ie),wait:x(Ze),addTag:x(nt),moveToList:x(lt)},t=A([{id:"1",type:"stageChanged",label:"Stage Changed",position:{x:350,y:100}},{id:"2",type:"wait",label:"Wait",position:{x:350,y:180}},{id:"3",type:"sendMessage",label:"Send Message",position:{x:350,y:260}},{id:"4",type:"addTag",label:"Add Tag",position:{x:350,y:340}},{id:"5",type:"moveToList",label:"Move to list",position:{x:350,y:420}},{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e3-4",source:"3",target:"4"},{id:"e4-5",source:"4",target:"5"}]);let a=0;const l=()=>`dndnode_${a++}`,{findNode:k,onConnect:v,nodes:r,edges:p,addEdges:m,addNodes:z,viewport:zt,project:U,vueFlowRef:q}=Y({nodes:[]}),F=i=>{i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="move")};v(i=>m([i]));const O=i=>{var M;const y=(M=i.dataTransfer)==null?void 0:M.getData("application/vueflow"),{left:S,top:H}=q.value.getBoundingClientRect(),P=U({x:i.clientX-S,y:i.clientY-H}),j={id:l(),type:y,position:P,label:`${y} node`};z([j]),K(()=>{const f=k(j.id),X=Q(()=>f.dimensions,N=>{N.width>0&&N.height>0&&(f.position={x:f.position.x-f.dimensions.width/2,y:f.position.y-f.dimensions.height/2},X())},{deep:!0,flush:"post"})})},G=function(){axios.post("/workflow/save",{elements:t.value}).then(function(i){console.log(i)}).catch(function(i){console.log(i)}),console.log(t.value),alert("Workflow saved")};return(i,y)=>(h(),g("div",{class:"row w-100 h-100 mx-0",onDrop:O},[e("div",dt,[d(o(I),{onDragover:F,modelValue:t.value,"onUpdate:modelValue":y[0]||(y[0]=S=>t.value=S),"node-types":s},{default:$(()=>[d(o(J)),d(o(E),null,{default:$(()=>[e("h1",ct,w(n.panelTitle),1)]),_:1}),d(o(E),{position:o(Z).BottomRight},{default:$(()=>[e("button",{class:"btn btn-success me-2",onClick:G},w(i.$t("Save")),1),e("button",rt,w(i.$t("Cancel")),1)]),_:1},8,["position"])]),_:1},8,["modelValue"])]),e("div",pt,[d(Fe)])],32))}};const gt={class:"row p-3"},_t={class:"d-flex justify-content-between"},ut=["onClick"],mt=e("i",{class:"align-middle fas fa-fw fa-minus-circle"},null,-1),ft=[mt],wt=["onClick"],vt=e("i",{class:"align-middle ms-2 fas fa-fw fa-plus-circle"},null,-1),yt=[vt],xt={class:"col-md-4"},bt={class:"mb-3"},kt=e("label",{for:"stage_name",class:"form-label"},"Stage name",-1),$t=["name","onUpdate:modelValue"],Ct={class:"col-md-5"},St={class:"mb-3"},Tt=e("label",{for:"stage_description",class:"form-label"},"Stage description",-1),Bt=["name","onUpdate:modelValue"],Dt={class:"col-md-3"},jt={class:"d-flex flex-column mb-3"},Mt=e("label",{for:"stage_color",class:"form-label"},"Stage color",-1),Nt={class:"d-flex align-items-center"},Et=["name","onUpdate:modelValue"],Lt={class:"fs-4 ms-3"},Vt=["name","value"],At={__name:"PipelineStageRepeater",props:{stages:{type:Array}},setup(n){const s=n,t=A([{name:"Default",description:"This is some description",color:"#366dc7"}]);ee(()=>{s.stages.length&&(t.value=s.stages)});const a=()=>{t.value.push({name:"",description:"",color:"#366dc7"})},l=k=>{const v=t.value.indexOf(k);v>-1&&t.value.splice(v,1)};return(k,v)=>(h(),te(oe,{name:"stage-list",appear:""},{default:$(()=>[(h(!0),g(se,null,ne(t.value,(r,p)=>(h(),g("div",{class:"d-flex flex-column bg-light mb-3 rounded-3",key:p},[e("div",gt,[e("div",_t,[e("h6",null,"#"+w(p+1)+" - "+w(r.name),1),e("div",null,[b(e("button",{class:"btn text-danger btn-lg border-0 p-0",onClick:V(m=>l(r),["prevent"]),title:"Remove Stage"},ft,8,ut),[[L,p||!p&&t.value.length>1]]),b(e("button",{class:"btn text-info btn-lg border-0 p-0",title:"Add New Stage",onClick:V(a,["prevent"])},yt,8,wt),[[L,p===t.value.length-1]])])]),e("div",xt,[e("div",bt,[kt,b(e("input",{class:"form-control",name:`pipeline_stages[${p}][name]`,placeholder:"Enter stage name",type:"text",id:"stage_name","onUpdate:modelValue":m=>r.name=m},null,8,$t),[[T,r.name]])])]),e("div",Ct,[e("div",St,[Tt,b(e("input",{class:"form-control",name:`pipeline_stages[${p}][description]`,placeholder:"Enter stage description",type:"text",id:"stage_description","onUpdate:modelValue":m=>r.description=m},null,8,Bt),[[T,r.description]])])]),e("div",Dt,[e("div",jt,[Mt,e("div",Nt,[b(e("input",{type:"color",name:`pipeline_stages[${p}][color]`,id:"stage_color","onUpdate:modelValue":m=>r.color=m,style:{height:"30px"}},null,8,Et),[[T,r.color]]),e("span",Lt,w(r.color),1)])])]),e("input",{type:"hidden",name:`pipeline_stages[${p}][id]`,value:r.id},null,8,Vt)])]))),128))]),_:1}))}};document.addEventListener("DOMContentLoaded",()=>{if(document.getElementsByClassName("js-simplebar")[0]){new ae(document.getElementsByClassName("js-simplebar")[0]);const s=document.getElementsByClassName("sidebar")[0];document.getElementsByClassName("sidebar-toggle")[0].addEventListener("click",()=>{s.classList.toggle("collapsed"),s.addEventListener("transitionend",()=>{window.dispatchEvent(new Event("resize"))})})}});document.addEventListener("DOMContentLoaded",()=>{R.replace()});window.feather=R;window.notyf=new ie({duration:5e3,position:{x:"right",y:"top"},types:[{type:"default",backgroundColor:"#3B7DDD",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"info-bsha",backgroundColor:"#495e69",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"success",backgroundColor:"#28a745",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"warning",backgroundColor:"#ffc107",icon:{className:"notyf__icon--error",tagName:"i"}},{type:"danger",backgroundColor:"#dc3545",icon:{className:"notyf__icon--error",tagName:"i"}}]});window.dragula=le;window.jQuery=window.$=de;const Rt={de:$e},W=ce({locale:"de",fallbackLocale:"en",messages:Rt});W.global.locale=document.documentElement.lang.substring(0,2);const Wt=he(),D=re({components:{WorkFlow:ht,PipelineStageRepeater:At}});D.config.globalProperties.emitter=Wt;D.use(W);document.querySelector("#app")!==null&&D.mount("#app");window.DataTable=pe;
