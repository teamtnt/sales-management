import{a as Q,o as f,c as y,b as e,d as L,e as k,r as b,f as F,u as j,g as h,w as g,T as V,h as T,F as M,i as A,j as t,t as w,v as W,k as $,D as E,n as C,Y as S,l as q,m as N,_ as oe,p as ke,q as $e,E as ne,s as X,x as Fe,y as z,z as G,A as Ce,B as Se,C as se,G as Y,H as K,I as Ne,J as Be,S as Te,K as ie,N as Le,L as De,$ as Me,M as Ae,O as je,P as Ve,Q as We}from"./vendor-b36b3129.js";let Ee=document.head.querySelector('meta[name="csrf-token"]').content;Q.defaults.headers.common["X-CSRF-TOKEN"]=Ee;Q.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.axios=Q;const Ue="Dashboard",Oe="List",He="Edit",Re="Delete",ze="Remove",Pe="Name",Ie="Description",qe="Count",Ge="Speichern",Xe="Stornieren",Ye="Vorname",Ke="Nachname",Qe="Email",Je="Zurück",Ze="USt-ID",et="Notes",tt="Note",st={"Good day":"Guten Tag",Dashboard:Ue,"All Lists":"All Lists",List:Oe,Edit:He,Delete:Re,Remove:ze,Name:Pe,Description:Ie,Count:qe,Save:Ge,Cancel:Xe,"Message Body":"Nachrichtentext",Firstname:Ye,Lastname:Ke,"Add message placeholders":"Nachrichtenplatzhalter hinzufügen",Email:Qe,Back:Je,VAT:Ze,Notes:et,Note:tt};const ot={class:"bg-light h-100 shadow-lg"},nt=L('<h5 class="sidebar-heading py-3 px-2"><span class="d-flex align-items-center justify-content-center fw-lighter text-center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-move align-middle me-2"><polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line></svg>You can drag these nodes to the pane</span></h5>',1),it={class:"d-flex flex-column gap-2"},lt={class:"d-flex flex-wrap gap-2 align-items-center my-3 px-4"},at=L('<span class="start-box px-3 justify-content-center"><span class="start-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-flag"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line></svg></span> Start </span>',1),dt=[at],rt=L('<div class="bg-white shadow-sm px-3 py-2"><h6 class="mb-0"><span class="d-flex align-items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-pull-request align-middle me-2"><circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line></svg> Conditions</span></h6></div>',1),ct={class:"d-flex flex-wrap gap-4 align-items-center my-3 px-4"},pt=L('<span class="condition-box pe-2 justify-content-center"><span class="condition-box__icon"><span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-play-circle align-middle"><circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon></svg></span></span> On Run</span>',1),ut=[pt],ht=L('<span class="condition-box pe-2 justify-content-end"><span class="condition-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Stage Changed</span>',1),gt=[ht],mt=e("span",{class:"condition-box pe-2 justify-content-end"},[e("span",{class:"condition-box__icon"},[e("span",null,[e("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"-10 -10 84 84","enable-background":"new -10 -10 84 84","xml:space":"preserve"},[e("g",null,[e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"36",y1:"9",x2:"45",y2:"9"}),e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"19",y1:"17",x2:"45",y2:"17"}),e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"19",y1:"25",x2:"45",y2:"25"}),e("g",null,[e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"1,26 32,45.434 63,26"}),e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"11.334,21.667 1,26 1,63 63,63 63,26 63,26 52.666,21.667"}),e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"11,32 11,1 53,1 53,32"})])])])])]),k(" Message Opened ")],-1),ft=[mt],_t=e("span",{class:"condition-box pe-2 justify-content-center"},[e("span",{class:"condition-box__icon"},[e("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 52.965 52.965",width:"15",height:"15","xml:space":"preserve"},[e("path",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:`M24.008,13.401L33.2,4.208
                                    c4.278-4.278,11.278-4.278,15.556,0l0,0c4.278,4.278,4.278,11.278,0,15.556L36.735,31.786c-4.278,4.278-11.278,4.278-15.556,0l0,0`}),e("path",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:`M27.543,40.978l-7.778,7.778
                                    c-4.278,4.278-11.278,4.278-15.556,0l0,0c-4.278-4.278-4.278-11.278,0-15.556l11.314-11.314c4.278-4.278,11.278-4.278,15.556,0l0,0`}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"33.965",y1:"45",x2:"33.965",y2:"51"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"37.722",y1:"43",x2:"41.965",y2:"47.243"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"38.965",y1:"39",x2:"44.965",y2:"39"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"15.965",y1:"10",x2:"15.965",y2:"4"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"12.207",y1:"12",x2:"7.965",y2:"7.757"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"10.965",y1:"16",x2:"4.965",y2:"16"})])]),k(" Link Clicked ")],-1),yt=[_t],wt=L('<div class="bg-white shadow-sm px-3 py-2"><h6 class="mb-0"><span class="d-flex align-items-center"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-repeat align-middle me-2"><polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path></svg> Actions</span></h6></div>',1),vt={class:"d-flex flex-wrap gap-4 align-items-center my-3 px-4"},bt=L('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail align-middle"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></span> Send Message </span>',1),xt=[bt],kt=L('<span class="action-box px-3 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock align-middle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></span> Wait </span>',1),$t=[kt],Ft=L('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag align-middle"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg></span> Add Tag </span>',1),Ct=[Ft],St=L('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list align-middle"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></span> Move To List </span>',1),Nt=[St],Bt=L('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg></span> A/B Split </span>',1),Tt=[Bt],Lt=L('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Change Stage</span>',1),Dt=[Lt],Mt={__name:"Sidebar",setup(o){const n=(s,l,a)=>{s.dataTransfer&&(s.dataTransfer.setData("application/vueflow",l),s.dataTransfer.effectAllowed="move")};return(s,l)=>(f(),y("aside",ot,[nt,e("div",it,[e("div",lt,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[0]||(l[0]=a=>n(a,"action.start"))},dt,32)]),rt,e("div",ct,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[1]||(l[1]=a=>n(a,"condition.run"))},ut,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[2]||(l[2]=a=>n(a,"condition.stage.changed"))},gt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[3]||(l[3]=a=>n(a,"condition.message.opened"))},ft,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[4]||(l[4]=a=>n(a,"condition.link.clicked"))},yt,32)]),wt,e("div",vt,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[5]||(l[5]=a=>n(a,"action.message.sent"))},xt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[6]||(l[6]=a=>n(a,"action.wait"))},$t,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[7]||(l[7]=a=>n(a,"action.add.tag"))},Ct,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[8]||(l[8]=a=>n(a,"action.move.to.list"))},Nt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[9]||(l[9]=a=>n(a,"action.ab.split"))},Tt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[10]||(l[10]=a=>n(a,"action.change.stage"))},Dt,32)])])]))}},At={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},jt={class:"bg-white p-3 rounded-3"},Vt=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),Wt={class:"mb-3"},Et=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Stage",-1),Ut=["value"],Ot={class:"d-flex justify-content-end"},Ht=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),Rt=[Ht],zt={class:"condition-box"},Pt=L('<span class="condition-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span>',1),It=e("span",{class:"circle"},null,-1),qt=e("span",{class:"circle"},null,-1),le={__name:"StageChanged",props:{id:String,label:String,type:String},setup(o){const n=o,s=b(!1),l=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),a=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let _=window.stages;const{findNode:p,onNodeClick:c,removeNodes:v,onPaneClick:x}=j(),m=b(p(n.id));c(i=>{i.event.target.classList.contains("handle")||i.node.id===m.value.id&&(s.value=!s.value)}),x(()=>{s.value=!1});const r=i=>{v([i],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(i,d)=>(f(),y("div",At,[h(t(E),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":o.id,position:t($).Right},{default:g(()=>[h(V,{mode:"in-out",appear:""},{default:g(()=>[e("div",jt,[Vt,e("div",Wt,[Et,T(e("select",{name:"argument",class:"form-select form-select-sm","onUpdate:modelValue":d[0]||(d[0]=u=>m.value.data=u),id:"argument"},[(f(!0),y(M,null,A(t(_),u=>(f(),y("option",{value:u},w(u.title),9,Ut))),256))],512),[[W,m.value.data]])]),e("div",Ot,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:d[1]||(d[1]=u=>r(m.value))},Rt)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",zt,[Pt,k(" "+w(m.value.data.title??"Stage Changed"),1)]),h(t(S),{id:`state.stage.changed.target.${o.id}`,type:"target",position:t($).Top,style:C(t(l)),class:"handle"},{default:g(()=>[It]),_:1},8,["id","position","style"]),h(t(S),{id:`state.stage.changed.${o.id}`,type:"source",position:t($).Bottom,style:C(t(a)),class:"handle"},{default:g(()=>[qt]),_:1},8,["id","position","style"])]))}},Gt={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Xt={class:"bg-white p-3 rounded-3"},Yt=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),Kt={class:"mb-3"},Qt=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Message",-1),Jt=["value"],Zt={class:"d-flex justify-content-end"},es=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),ts=[es],ss={class:"action-box ps-1"},os=e("span",{class:"action-box__icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-mail align-middle"},[e("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),e("polyline",{points:"22,6 12,13 2,6"})])],-1),ns=e("span",{class:"circle"},null,-1),is=e("span",{class:"circle"},null,-1),ae={__name:"SendMessage",props:{id:String,label:String,type:String},setup(o){const n=o,s=b(!1),l=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),a=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let _=window.messages;const{findNode:p,onNodeClick:c,removeNodes:v,onPaneClick:x}=j(),m=b(p(n.id));c(i=>{i.event.target.classList.contains("handle")||i.node.id===m.value.id&&(s.value=!s.value)}),x(()=>{s.value=!1});const r=i=>{v([i],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(i,d)=>(f(),y("div",Gt,[h(t(E),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":o.id,position:t($).Right},{default:g(()=>[h(V,{mode:"in-out",appear:""},{default:g(()=>[e("div",Xt,[Yt,e("div",Kt,[Qt,T(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":d[0]||(d[0]=u=>m.value.data=u)},[(f(!0),y(M,null,A(t(_),u=>(f(),y("option",{value:u},w(u.title),9,Jt))),256))],512),[[W,m.value.data]])]),e("div",Zt,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:d[1]||(d[1]=u=>r(m.value))},ts)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",ss,[os,k(" "+w(m.value.data.title??"Send Message"),1)]),h(t(S),{id:`state.message.sent.${o.id}`,type:"source",position:t($).Bottom,style:C(t(a)),class:"handle"},{default:g(()=>[ns]),_:1},8,["id","position","style"]),h(t(S),{id:`state.message.sent.target.${o.id}`,type:"target",position:t($).Top,style:C(t(l)),class:"handle"},{default:g(()=>[is]),_:1},8,["id","position","style"])]))}},ls={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},as={class:"bg-white p-3 rounded-3"},ds=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),rs={class:"mb-3"},cs=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Wait Time",-1),ps=["value"],us={class:"d-flex justify-content-end"},hs=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),gs=[hs],ms={class:"action-box ps-1"},fs=e("span",{class:"action-box__icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-clock align-middle"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12 6 12 12 16 14"})])],-1),_s=e("span",{class:"circle"},null,-1),ys=e("span",{class:"circle"},null,-1),de={__name:"Wait",props:{id:String,label:String,type:String},setup(o){const n=o,s=b(!1),l=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),a=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let _=window.waitOptions;const{findNode:p,onNodeClick:c,removeNodes:v,onPaneClick:x}=j(),m=b(p(n.id));c(i=>{i.event.target.classList.contains("handle")||i.node.id===m.value.id&&(s.value=!s.value)});const r=i=>{v([i],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return x(()=>{s.value=!1}),(i,d)=>(f(),y("div",ls,[h(t(E),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":o.id,position:t($).Right},{default:g(()=>[h(V,{mode:"in-out",appear:""},{default:g(()=>[e("div",as,[ds,e("div",rs,[cs,T(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":d[0]||(d[0]=u=>m.value.data=u)},[(f(!0),y(M,null,A(t(_),u=>(f(),y("option",{value:u},w(u.title),9,ps))),256))],512),[[W,m.value.data]])]),e("div",us,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:d[1]||(d[1]=u=>r(m.value))},gs)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",ms,[fs,k(" Wait "+w(m.value.data.title??""),1)]),h(t(S),{id:`state.wait.target.${o.id}`,type:"target",position:t($).Top,style:C(t(l)),class:"handle"},{default:g(()=>[_s]),_:1},8,["id","position","style"]),h(t(S),{id:`state.wait.${o.id}`,type:"source",position:t($).Bottom,style:C(t(a)),class:"handle"},{default:g(()=>[ys]),_:1},8,["id","position","style"])]))}},ws={class:"bg-white p-3 rounded-3"},vs=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),bs={class:"d-flex justify-content-end"},xs=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),ks=[xs],$s=L('<span class="start-box pe-2 justify-content-center"><span class="start-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-flag"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line></svg></span> Start </span>',1),Fs=e("span",{class:"circle"},null,-1),re={__name:"Start",props:{id:String,label:String,type:String},setup(o){const n=o,s=b(!1),l=b(),a=b(),_=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-6px"})),{findNode:p,onNodeClick:c,removeNodes:v,onPaneClick:x}=j(),m=b(p(n.id));c(i=>{i.event.target.classList.contains("handle")||i.node.id===m.value.id&&(s.value=!s.value)}),x(()=>{s.value=!1});const r=i=>{v([i],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(i,d)=>(f(),y("div",{class:"vue-flow__node-input shadow-sm",ref_key:"nodeWrapper",ref:l},[h(t(E),{ref_key:"nodeToolbar",ref:a,style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":o.id,position:t($).Right},{default:g(()=>[h(V,{mode:"in-out",appear:""},{default:g(()=>[e("div",ws,[vs,e("div",bs,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:d[0]||(d[0]=u=>r(m.value))},ks)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),$s,h(t(S),{id:"start",type:"source",position:t($).Bottom,style:C(t(_)),class:"handle"},{default:g(()=>[Fs]),_:1},8,["position","style"])],512))}},Cs={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Ss={class:"bg-white p-3 rounded-3"},Ns=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),Bs={class:"mb-3"},Ts=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Tag",-1),Ls=["value"],Ds={class:"d-flex justify-content-end"},Ms=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),As=[Ms],js={class:"action-box ps-1"},Vs=e("span",{class:"action-box__icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-tag align-middle"},[e("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),e("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})])],-1),Ws=e("span",{class:"circle"},null,-1),Es=e("span",{class:"circle"},null,-1),ce={__name:"AddTag",props:{id:String,label:String,type:String},setup(o){const n=o,s=b(!1),l=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),a=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let _=window.tags;const{findNode:p,onNodeClick:c,removeNodes:v,onPaneClick:x}=j(),m=b(p(n.id));c(i=>{i.event.target.classList.contains("handle")||i.node.id===m.value.id&&(s.value=!s.value)}),x(()=>{s.value=!1});const r=i=>{v([i],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(i,d)=>(f(),y("div",Cs,[h(t(E),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":o.id,position:t($).Right},{default:g(()=>[h(V,{mode:"in-out",appear:""},{default:g(()=>[e("div",Ss,[Ns,e("div",Bs,[Ts,T(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":d[0]||(d[0]=u=>m.value.data=u)},[(f(!0),y(M,null,A(t(_),u=>(f(),y("option",{value:u},w(u.title),9,Ls))),256))],512),[[W,m.value.data]])]),e("div",Ds,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:d[1]||(d[1]=u=>r(m.value))},As)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",js,[Vs,k(" "+w(m.value.data.title??"Add Tag"),1)]),h(t(S),{id:`state.tag.add.${o.id}`,type:"source",position:t($).Bottom,style:C(t(a)),class:"handle"},{default:g(()=>[Ws]),_:1},8,["id","position","style"]),h(t(S),{id:`state.tag.add.target.${o.id}`,type:"target",position:t($).Top,style:C(t(l)),class:"handle"},{default:g(()=>[Es]),_:1},8,["id","position","style"])]))}},Us={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Os={class:"bg-white p-3 rounded-3"},Hs=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),Rs={class:"mb-3"},zs=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Message",-1),Ps=["value"],Is={class:"d-flex justify-content-end"},qs=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),Gs=[qs],Xs={class:"condition-box"},Ys=e("span",{class:"condition-box__icon"},[e("span",null,[e("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"-10 -10 84 84","enable-background":"new -10 -10 84 84","xml:space":"preserve"},[e("g",null,[e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"36",y1:"9",x2:"45",y2:"9"}),e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"19",y1:"17",x2:"45",y2:"17"}),e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"19",y1:"25",x2:"45",y2:"25"}),e("g",null,[e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"1,26 32,45.434 63,26"}),e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"11.334,21.667 1,26 1,63 63,63 63,26 63,26 52.666,21.667"}),e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"11,32 11,1 53,1 53,32"})])])])])],-1),Ks=e("span",{class:"circle"},null,-1),Qs=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1),Js=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),pe={__name:"MessageOpened",props:{id:String,label:String,type:String},setup(o){const n=o,s=b(!1),l=F(()=>({backgroundColor:"green",left:"48px",width:"14px",height:"14px",right:"auto",bottom:"-7px"})),a=F(()=>({backgroundColor:"red",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"})),_=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-6px"}));let p=window.messagesOpened;const{findNode:c,onNodeClick:v,removeNodes:x,onPaneClick:m}=j(),r=b(c(n.id));v(d=>{d.event.target.classList.contains("handle")||d.node.id===r.value.id&&(s.value=!s.value)}),m(()=>{s.value=!1});const i=d=>{x([d],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(d,u)=>(f(),y("div",Us,[h(t(E),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":o.id,position:t($).Right},{default:g(()=>[h(V,{mode:"in-out",appear:""},{default:g(()=>[e("div",Os,[Hs,e("div",Rs,[zs,T(e("select",{name:"argument",class:"form-select form-select-sm","onUpdate:modelValue":u[0]||(u[0]=B=>r.value.data=B),id:"argument"},[(f(!0),y(M,null,A(t(p),B=>(f(),y("option",{value:B},w(B.title),9,Ps))),256))],512),[[W,r.value.data]])]),e("div",Is,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:u[1]||(u[1]=B=>i(r.value))},Gs)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",Xs,[Ys,k(" "+w(r.value.data.title??"Message Opened"),1)]),h(t(S),{id:`state.message.opened.target.${o.id}`,type:"target",position:t($).Top,style:C(t(_)),class:"handle"},{default:g(()=>[Ks]),_:1},8,["id","position","style"]),h(t(S),{id:`state.message.opened.${o.id}`,type:"source",position:t($).Bottom,style:C(t(l)),class:"handle"},{default:g(()=>[Qs]),_:1},8,["id","position","style"]),h(t(S),{id:`state.message.not_opened.${o.id}`,type:"source",position:t($).Bottom,style:C(t(a)),class:"handle"},{default:g(()=>[Js]),_:1},8,["id","position","style"])]))}},Zs={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},eo={class:"bg-white p-3 rounded-3"},to=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),so={class:"mb-3"},oo=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose List",-1),no=["value"],io={class:"d-flex justify-content-end"},lo=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),ao=[lo],ro={class:"action-box ps-1"},co=L('<span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list align-middle"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></span>',1),po=e("span",{class:"circle"},null,-1),uo=e("span",{class:"circle"},null,-1),ue={__name:"MoveToList",props:{id:String,label:String,type:String},setup(o){const n=o,s=b(!1),l=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),a=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let _=window.contactLists;const{findNode:p,onNodeClick:c,removeNodes:v,onPaneClick:x}=j(),m=b(p(n.id));c(i=>{i.event.target.classList.contains("handle")||i.node.id===m.value.id&&(s.value=!s.value)}),x(()=>{s.value=!1});const r=i=>{v([i],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(i,d)=>(f(),y("div",Zs,[h(t(E),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":o.id,position:t($).Right},{default:g(()=>[h(V,{mode:"in-out",appear:""},{default:g(()=>[e("div",eo,[to,e("div",so,[oo,T(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":d[0]||(d[0]=u=>m.value.data=u)},[(f(!0),y(M,null,A(t(_),u=>(f(),y("option",{value:u},w(u.title),9,no))),256))],512),[[W,m.value.data]])]),e("div",io,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:d[1]||(d[1]=u=>r(m.value))},ao)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",ro,[co,k(" "+w(m.value.data.title??"Move To List"),1)]),h(t(S),{id:`state.move_to_list.${o.id}`,type:"source",position:t($).Bottom,style:C(t(a)),class:"handle"},{default:g(()=>[po]),_:1},8,["id","position","style"]),h(t(S),{id:`state.move_to_list.target.${o.id}`,type:"target",position:t($).Top,style:C(t(l)),class:"handle"},{default:g(()=>[uo]),_:1},8,["id","position","style"])]))}},ho={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},go={class:"bg-white p-3 rounded-3"},mo=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),fo={class:"mb-3"},_o=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose split",-1),yo=["value"],wo={class:"d-flex justify-content-end"},vo=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),bo=[vo],xo={class:"action-box ps-1"},ko=L('<span class="action-box__icon"><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg></span>',1),$o=e("span",{class:"circle"},null,-1),Fo=e("span",{class:"circle"},null,-1),Co=e("span",{class:"circle"},null,-1),he={__name:"ABSplit",props:{id:String,label:String,type:String},setup(o){const n=o,s=b(!1),l=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),a=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",left:"48px",right:"auto",bottom:"-7px"})),_=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"}));let p=window.abSplit;const{findNode:c,onNodeClick:v,removeNodes:x,onPaneClick:m}=j(),r=b(c(n.id));v(d=>{d.event.target.classList.contains("handle")||d.node.id===r.value.id&&(s.value=!s.value)}),m(()=>{s.value=!1});const i=d=>{x([d],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(d,u)=>(f(),y("div",ho,[h(t(E),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":o.id,position:t($).Right},{default:g(()=>[h(V,{mode:"in-out",appear:""},{default:g(()=>[e("div",go,[mo,e("div",fo,[_o,T(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":u[0]||(u[0]=B=>r.value.data=B)},[(f(!0),y(M,null,A(t(p),B=>(f(),y("option",{value:B},w(B.title),9,yo))),256))],512),[[W,r.value.data]])]),e("div",wo,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:u[1]||(u[1]=B=>i(r.value))},bo)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",xo,[ko,k(" "+w(r.value.data.title??"A/B Split"),1)]),h(t(S),{id:`state.abSplit.target.${o.id}`,type:"target",position:t($).Top,style:C(t(l)),class:"handle"},{default:g(()=>[$o]),_:1},8,["id","position","style"]),h(t(S),{id:`state.abSplit.left.${o.id}`,type:"source",position:t($).Bottom,style:C(t(a)),class:"handle"},{default:g(()=>[Fo]),_:1},8,["id","position","style"]),h(t(S),{id:`state.abSplit.right.${o.id}`,type:"source",position:t($).Bottom,style:C(t(_)),class:"handle"},{default:g(()=>[Co]),_:1},8,["id","position","style"])]))}},So={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},No={class:"bg-white p-3 rounded-3"},Bo=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),To={class:"d-flex justify-content-end"},Lo=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),Do=[Lo],Mo={class:"condition-box"},Ao=e("span",{class:"condition-box__icon"},[e("span",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-play-circle align-middle"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polygon",{points:"10 8 16 12 10 16 10 8"})])])],-1),jo=e("span",{class:"circle"},null,-1),Vo=e("span",{class:"circle"},null,-1),ge={__name:"Run",props:{id:String,label:String,type:String},setup(o){const n=o,s=b(!1),l=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),a=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"})),{findNode:_,onNodeClick:p,removeNodes:c,onPaneClick:v}=j(),x=b(_(n.id));x.value.data={argument:window.workflowId},p(r=>{r.event.target.classList.contains("handle")||r.node.id===x.value.id&&(s.value=!s.value)}),v(()=>{s.value=!1});const m=r=>{c([r],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(r,i)=>(f(),y("div",So,[h(t(E),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":o.id,position:t($).Right},{default:g(()=>[h(V,{mode:"in-out",appear:""},{default:g(()=>[e("div",No,[Bo,e("div",To,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:i[0]||(i[0]=d=>m(x.value))},Do)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",Mo,[Ao,k(" "+w(x.value.data.title??"On Run"),1)]),h(t(S),{id:`state.run.target.${o.id}`,type:"target",position:t($).Top,style:C(t(l)),class:"handle"},{default:g(()=>[jo]),_:1},8,["id","position","style"]),h(t(S),{id:`state.run.${o.id}`,type:"source",position:t($).Bottom,style:C(t(a)),class:"handle"},{default:g(()=>[Vo]),_:1},8,["id","position","style"])]))}},Wo={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Eo={class:"bg-white p-3 rounded-3"},Uo=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),Oo={class:"mb-3"},Ho=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Stage",-1),Ro=["value"],zo={class:"d-flex justify-content-end"},Po=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),Io=[Po],qo={class:"action-box ps-1"},Go=L('<span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span>',1),Xo=e("span",{class:"circle"},null,-1),Yo=e("span",{class:"circle"},null,-1),me={__name:"ChangeStage",props:{id:String,label:String,type:String},setup(o){const n=o,s=b(!1),l=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),a=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let _=window.stageActions;const{findNode:p,onNodeClick:c,removeNodes:v,onPaneClick:x}=j(),m=b(p(n.id));c(i=>{i.event.target.classList.contains("handle")||i.node.id===m.value.id&&(s.value=!s.value)}),x(()=>{s.value=!1});const r=i=>{v([i],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(i,d)=>(f(),y("div",Wo,[h(t(E),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":o.id,position:t($).Right},{default:g(()=>[h(V,{mode:"in-out",appear:""},{default:g(()=>[e("div",Eo,[Uo,e("div",Oo,[Ho,T(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":d[0]||(d[0]=u=>m.value.data=u)},[(f(!0),y(M,null,A(t(_),u=>(f(),y("option",{value:u},w(u.title),9,Ro))),256))],512),[[W,m.value.data]])]),e("div",zo,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:d[1]||(d[1]=u=>r(m.value))},Io)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",qo,[Go,k(" "+w(m.value.data.title??"Change Stage"),1)]),h(t(S),{id:`state.change.stage.target.${o.id}`,type:"target",position:t($).Top,style:C(t(l)),class:"handle"},{default:g(()=>[Xo]),_:1},8,["id","position","style"]),h(t(S),{id:`state.change.stage.${o.id}`,type:"source",position:t($).Bottom,style:C(t(a)),class:"handle"},{default:g(()=>[Yo]),_:1},8,["id","position","style"])]))}},Ko={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Qo={class:"bg-white p-3 rounded-3"},Jo=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),Zo={class:"mb-3"},en=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Message",-1),tn=["value"],sn={key:0,class:"mb-3"},on=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Link",-1),nn=["value"],ln={class:"d-flex justify-content-end"},an=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),dn=[an],rn=e("span",{class:"condition-box"},[e("span",{class:"condition-box__icon"},[e("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 52.965 52.965",width:"15",height:"15","xml:space":"preserve"},[e("path",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:`M24.008,13.401L33.2,4.208
                        c4.278-4.278,11.278-4.278,15.556,0l0,0c4.278,4.278,4.278,11.278,0,15.556L36.735,31.786c-4.278,4.278-11.278,4.278-15.556,0l0,0`}),e("path",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:`M27.543,40.978l-7.778,7.778
                        c-4.278,4.278-11.278,4.278-15.556,0l0,0c-4.278-4.278-4.278-11.278,0-15.556l11.314-11.314c4.278-4.278,11.278-4.278,15.556,0l0,0`}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"33.965",y1:"45",x2:"33.965",y2:"51"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"37.722",y1:"43",x2:"41.965",y2:"47.243"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"38.965",y1:"39",x2:"44.965",y2:"39"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"15.965",y1:"10",x2:"15.965",y2:"4"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"12.207",y1:"12",x2:"7.965",y2:"7.757"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"10.965",y1:"16",x2:"4.965",y2:"16"})])]),k(" Link Clicked ")],-1),cn=e("span",{class:"circle"},null,-1),pn=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1),un=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),fe={__name:"LinkClicked",props:{id:String,label:String,type:String},setup(o){const n=o,s=b(!1),l=F(()=>({backgroundColor:"green",left:"48px",width:"14px",height:"14px",right:"auto",bottom:"-7px"})),a=F(()=>({backgroundColor:"red",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"})),_=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-6px"}));let p=b(window.messagesWithLinks);const{findNode:c,onNodeClick:v,removeNodes:x,onPaneClick:m}=j(),r=b(c(n.id)),i=F(()=>p.value.find(u=>u.argument===r.value.data.message)||{links:[]});r.value.data.argument=F(()=>r.value.data.message&&r.value.data.link?`${r.value.data.message}.${r.value.data.link}`:""),v(u=>{u.event.target.classList.contains("handle")||u.node.id===r.value.id&&(s.value=!s.value)}),m(()=>{s.value=!1});const d=u=>{x([u],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(u,B)=>(f(),y("div",Ko,[h(t(E),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":o.id,position:t($).Right},{default:g(()=>[h(V,{mode:"in-out",appear:""},{default:g(()=>[e("div",Qo,[Jo,e("div",Zo,[en,T(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":B[0]||(B[0]=U=>r.value.data.message=U)},[(f(!0),y(M,null,A(t(p),U=>(f(),y("option",{value:U.argument},w(U.title),9,tn))),256))],512),[[W,r.value.data.message]])]),h(V,{mode:"in-out",appear:""},{default:g(()=>{var U,I;return[(I=(U=t(i))==null?void 0:U.links)!=null&&I.length?(f(),y("div",sn,[on,T(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":B[1]||(B[1]=H=>r.value.data.link=H)},[(f(!0),y(M,null,A(t(i).links,H=>(f(),y("option",{value:H.url},w(H.text),9,nn))),256))],512),[[W,r.value.data.link]])])):q("",!0)]}),_:1}),e("div",ln,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:B[2]||(B[2]=U=>d(r.value))},dn)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),rn,h(t(S),{id:`state.link.clicked.target.${o.id}`,type:"target",position:t($).Top,style:C(t(_)),class:"handle"},{default:g(()=>[cn]),_:1},8,["id","position","style"]),h(t(S),{id:`state.link.clicked.${o.id}`,type:"source",position:t($).Bottom,style:C(t(l)),class:"handle"},{default:g(()=>[pn]),_:1},8,["id","position","style"]),h(t(S),{id:`state.link.not_clicked.${o.id}`,type:"source",position:t($).Bottom,style:C(t(a)),class:"handle"},{default:g(()=>[un]),_:1},8,["id","position","style"])]))}};const hn={class:"col-lg-7 col-xl-8 col-xxl-9 pe-0"},gn={class:"d-flex gap-2"},mn=["href"],fn=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-arrow-left-circle align-middle me-2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12 8 8 12 12 16"}),e("line",{x1:"16",y1:"12",x2:"8",y2:"12"})],-1),_n={class:"h3 mb-3 px-4 py-2 bg-white"},yn={class:"d-flex gap-2"},wn={class:"d-flex align-items-center"},vn=e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-save align-middle me-2"},[e("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),e("polyline",{points:"17 21 17 13 7 13 7 21"}),e("polyline",{points:"7 3 7 8 15 8"})],-1),bn={class:"col-lg-5 col-xl-4 col-xxl-3 px-0"},xn={__name:"WorkFlow",props:{workflowName:{type:String,default:"Untitled"},workflowId:{type:Number,default:null},saveUrl:{type:String,default:"/automation/workflow/save"},elementsData:{type:Array,default:[]},messages:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesOpened:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesWithLinks:{type:Array},stages:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},tags:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},stageActions:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},abSplit:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},contactLists:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},waitOptions:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},backUrl:{type:String,default:"/"}},setup(o){const n=o,s={"condition.stage.changed":N(le),"condition.message.opened":N(pe),"condition.run":N(ge),"condition.link.clicked":N(fe),"action.message.sent":N(ae),"action.wait":N(de),"action.start":N(re),"action.add.tag":N(ce),"action.move.to.list":N(ue),"action.ab.split":N(he),"action.change.stage":N(me)},l=b(n.elementsData),a=b(n.workflowName);let _=0;const p=()=>Math.floor(Math.random()*1e4+1)+`_${_++}`,{findNode:c,onConnect:v,nodes:x,edges:m,onNodeClick:r,addEdges:i,addNodes:d,viewport:u,project:B,vueFlowRef:U}=j({nodes:[]});window.messages=n.messages,window.messagesOpened=n.messagesOpened,window.contactLists=n.contactLists,window.waitOptions=n.waitOptions,window.abSplit=n.abSplit,window.stages=n.stages,window.tags=n.tags,window.workflowId=n.workflowId,window.stageActions=n.stageActions,window.messagesWithLinks=n.messagesWithLinks;const I=D=>{D.preventDefault(),D.dataTransfer&&(D.dataTransfer.dropEffect="move")};v(D=>i([D]));const H=D=>{var ee;const O=(ee=D.dataTransfer)==null?void 0:ee.getData("application/vueflow"),{left:P,top:ve}=U.value.getBoundingClientRect(),be=B({x:D.clientX-P,y:D.clientY-ve}),Z={id:p(),type:O,position:be,label:`${O} node`};d([Z]),ke(()=>{const R=c(Z.id),xe=$e(()=>R.dimensions,te=>{te.width>0&&te.height>0&&(R.position={x:R.position.x-R.dimensions.width/2,y:R.position.y-R.dimensions.height/2},xe())},{deep:!0,flush:"post"})})},we=function(){axios.post(n.saveUrl,{elements:l.value,title:a.value}).then(function(D){window.notyf.open({type:"success",message:"Workflow successfully saved!",duration:"5000",ripple:!0,dismissible:!0})}).catch(function(D){console.log(D),window.notyf.open({type:"warning",message:"Something went wrong!",duration:"5000",ripple:!0,dismissible:!0})})};return(D,O)=>(f(),y("div",{class:"row w-100 h-100 mx-0",onDrop:H},[e("div",hn,[h(t(oe),{onDragover:I,modelValue:l.value,"onUpdate:modelValue":O[1]||(O[1]=P=>l.value=P),"node-types":s,"default-edge-options":{type:"smoothstep"}},{default:g(()=>[h(t(ne)),h(t(X),null,{default:g(()=>[e("div",gn,[e("a",{class:"d-flex align-items-center h4 mb-3 px-4 py-2 text-white bg-info text-decoration-none",href:o.backUrl},[fn,e("span",null,w(D.$t("Back")),1)],8,mn),e("h1",_n,w(a.value),1)])]),_:1}),h(t(X),{position:t(Fe).BottomRight},{default:g(()=>[e("div",yn,[T(e("input",{type:"text",class:"form-control","onUpdate:modelValue":O[0]||(O[0]=P=>a.value=P),style:{"min-width":"200px"}},null,512),[[z,a.value]]),e("button",{class:"btn btn-success text-uppercase px-4",onClick:we},[e("span",wn,[vn,k(" "+w(D.$t("Save")),1)])])])]),_:1},8,["position"])]),_:1},8,["modelValue"])]),e("div",bn,[h(Mt)])],32))}};const kn={class:"row w-100 h-100 mx-0"},$n={class:"col-lg-12 col-xl-12 col-xxl-12 pe-0"},Fn={class:"d-flex gap-2"},Cn=["href"],Sn=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-arrow-left-circle align-middle me-2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12 8 8 12 12 16"}),e("line",{x1:"16",y1:"12",x2:"8",y2:"12"})],-1),Nn={class:"h3 mb-3 px-4 py-2 bg-white"},Bn={__name:"ShowWorkFlow",props:{workflowName:{type:String,default:"Untitled"},workflowId:{type:Number,default:null},elementsData:{type:Array,default:[]},messages:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesOpened:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesWithLinks:{type:Array},stages:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},tags:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},stageActions:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},abSplit:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},contactLists:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},waitOptions:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},backUrl:{type:String,default:"/"}},setup(o){const n=o,s={"condition.stage.changed":N(le),"condition.message.opened":N(pe),"condition.run":N(ge),"condition.link.clicked":N(fe),"action.message.sent":N(ae),"action.wait":N(de),"action.start":N(re),"action.add.tag":N(ce),"action.move.to.list":N(ue),"action.ab.split":N(he),"action.change.stage":N(me)},l=b(n.elementsData),a=b(n.workflowName);return j({nodes:[]}),window.messages=n.messages,window.messagesOpened=n.messagesOpened,window.contactLists=n.contactLists,window.waitOptions=n.waitOptions,window.abSplit=n.abSplit,window.stages=n.stages,window.tags=n.tags,window.workflowId=n.workflowId,window.stageActions=n.stageActions,window.messagesWithLinks=n.messagesWithLinks,(_,p)=>(f(),y("div",kn,[e("div",$n,[h(t(oe),{modelValue:l.value,"onUpdate:modelValue":p[0]||(p[0]=c=>l.value=c),"node-types":s},{default:g(()=>[h(t(ne)),h(t(X),null,{default:g(()=>[e("div",Fn,[e("a",{class:"d-flex align-items-center h4 mb-3 px-4 py-2 text-white bg-info text-decoration-none",href:o.backUrl},[Sn,e("span",null,w(_.$t("Back")),1)],8,Cn),e("h1",Nn,w(a.value),1)])]),_:1})]),_:1},8,["modelValue"])])]))}};const Tn={class:"row p-3"},Ln={class:"d-flex justify-content-between"},Dn=["onClick"],Mn=e("i",{class:"align-middle fas fa-fw fa-minus-circle"},null,-1),An=[Mn],jn=["onClick"],Vn=e("i",{class:"align-middle ms-2 fas fa-fw fa-plus-circle"},null,-1),Wn=[Vn],En={class:"col-md-4"},Un={class:"mb-3"},On=e("label",{for:"stage_name",class:"form-label"},"Stage name",-1),Hn=["name","onUpdate:modelValue"],Rn={class:"col-md-5"},zn={class:"mb-3"},Pn=e("label",{for:"stage_description",class:"form-label"},"Stage description",-1),In=["name","onUpdate:modelValue"],qn={class:"col-md-3"},Gn={class:"d-flex flex-column mb-3"},Xn=e("label",{for:"stage_color",class:"form-label"},"Stage color",-1),Yn={class:"d-flex align-items-center"},Kn=["name","onUpdate:modelValue"],Qn={class:"fs-4 ms-3"},Jn=["name","value"],Zn={__name:"PipelineStageRepeater",props:{stages:{type:Array}},setup(o){const n=o,s=b([{name:"Default",description:"This is some description",color:"#366dc7"}]);G(()=>{n.stages.length&&(s.value=n.stages)});const l=()=>{s.value.push({name:"",description:"",color:"#366dc7"})},a=_=>{const p=s.value.indexOf(_);p>-1&&s.value.splice(p,1)};return(_,p)=>(f(),Ce(Se,{name:"stage-list",appear:""},{default:g(()=>[(f(!0),y(M,null,A(s.value,(c,v)=>(f(),y("div",{class:"d-flex flex-column bg-light mb-3 rounded-3",key:v},[e("div",Tn,[e("div",Ln,[e("h6",null,"#"+w(v+1)+" - "+w(c.name),1),e("div",null,[T(e("button",{class:"btn text-danger btn-lg border-0 p-0",onClick:Y(x=>a(c),["prevent"]),title:"Remove Stage"},An,8,Dn),[[se,v||!v&&s.value.length>1]]),T(e("button",{class:"btn text-info btn-lg border-0 p-0",title:"Add New Stage",onClick:Y(l,["prevent"])},Wn,8,jn),[[se,v===s.value.length-1]])])]),e("div",En,[e("div",Un,[On,T(e("input",{class:"form-control",name:`pipeline_stages[${v}][name]`,placeholder:"Enter stage name",type:"text",id:"stage_name","onUpdate:modelValue":x=>c.name=x},null,8,Hn),[[z,c.name]])])]),e("div",Rn,[e("div",zn,[Pn,T(e("input",{class:"form-control",name:`pipeline_stages[${v}][description]`,placeholder:"Enter stage description",type:"text",id:"stage_description","onUpdate:modelValue":x=>c.description=x},null,8,In),[[z,c.description]])])]),e("div",qn,[e("div",Gn,[Xn,e("div",Yn,[T(e("input",{type:"color",name:`pipeline_stages[${v}][color]`,id:"stage_color","onUpdate:modelValue":x=>c.color=x,style:{height:"30px"}},null,8,Kn),[[z,c.color]]),e("span",Qn,w(c.color),1)])])]),e("input",{type:"hidden",name:`pipeline_stages[${v}][id]`,value:c.id},null,8,Jn)])]))),128))]),_:1}))}};const _e=(o,n)=>{const s=o.__vccOpts||o;for(const[l,a]of n)s[l]=a;return s},ei={class:"mb-3 position-relative d-flex flex-column align-items-center"},ti={for:"body",class:"form-label align-self-start"},si=["name"],oi={class:"placeholder-buttons bg-light"},ni={class:"d-flex gap-1"},ii={key:0,class:"invalid-feedback"},li={__name:"TextArea",props:{errorMessage:{type:String,required:!0},messageBody:{type:String},name:{type:String,required:!0}},setup(o){const n=o,s=b(""),l=b(null);G(()=>{s.value=n.messageBody});const a=(_,p)=>{_.preventDefault();const c=l.value,v=c.selectionStart,x=`[[${p}]]`;s.value=`${s.value.substring(0,v)} ${x}${s.value.substring(v)}`,c.focus()};return(_,p)=>(f(),y("div",ei,[e("label",ti,w(_.$t("Message Body")),1),T(e("textarea",{ref_key:"textarea",ref:l,"onUpdate:modelValue":p[0]||(p[0]=c=>s.value=c),name:o.name,id:"body",class:K([{"is-invalid":o.errorMessage},"form-control"]),cols:"10",rows:"10"},`
         `,10,si),[[z,s.value]]),e("div",oi,[e("span",null,w(_.$t("Add message placeholders"))+":",1),e("div",ni,[e("button",{onClick:p[1]||(p[1]=c=>a(c,"firstname")),class:"btn btn-sm btn-info"},w(_.$t("Firstname")),1),e("button",{onClick:p[2]||(p[2]=c=>a(c,"lastname")),class:"btn btn-sm btn-info"},w(_.$t("Lastname")),1),e("button",{onClick:p[3]||(p[3]=c=>a(c,"email")),class:"btn btn-sm btn-info"},w(_.$t("Email")),1)])]),o.errorMessage?(f(),y("small",ii,w(o.errorMessage),1)):q("",!0)]))}},ai=_e(li,[["__scopeId","data-v-0c41e744"]]);const di={class:"mb-3"},ri={class:"d-block form-label"},ci=["name","value"],pi={__name:"MultiSelectList",props:{selected:{type:Array},options:{type:Array,required:!0},name:{type:String},label:{type:String},placeholder:{type:String},labelBy:{type:String},trackBy:{type:String},syncTagsUrl:{type:String},modelId:{type:String}},setup(o){const n=o,s=b([]);G(()=>{n.selected.length&&(s.value=n.selected)});function l(a,_){if(n.syncTagsUrl){let p=new FormData;p.append("modelId",n.modelId);for(let c=0;c<s.value.length;c++)p.append("tags[]",s.value[c].id);axios.post(n.syncTagsUrl,p,{headers:{"Content-Type":"application/json"}}).then(c=>{c.status===200&&window.notyf.open({type:"success",message:"Tags synced!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0})}).catch(c=>{console.log(c.message),c.response.status===422&&(errors.value=c.response.data.errors)})}}return(a,_)=>(f(),y("div",di,[e("span",ri,w(o.label),1),h(t(Ne),{modelValue:s.value,"onUpdate:modelValue":_[0]||(_[0]=p=>s.value=p),options:o.options,multiple:!0,"close-on-select":!1,placeholder:o.placeholder,label:o.labelBy,"track-by":o.trackBy,onRemove:l,onSelect:l},null,8,["modelValue","options","placeholder","label","track-by"]),(f(!0),y(M,null,A(s.value,p=>(f(),y("input",{type:"hidden",name:o.name,value:p.id,key:p.id},null,8,ci))),128))]))}},ui=["onSubmit"],hi={for:"note",class:"form-label fw-bold"},gi={class:"d-flex align-items-center"},mi=e("i",{class:"align-middle me-2 fas fa-fw fa-clipboard-list"},null,-1),fi=["placeholder"],_i=e("option",{value:"Note"},"Note",-1),yi=e("option",{value:"Call Accepted"},"Call Accepted",-1),wi=e("option",{value:"Call Declined"},"Call Declined",-1),vi=e("option",{value:"Meeting"},"Meeting",-1),bi=[_i,yi,wi,vi],xi=["disabled"],ki={key:0,class:"invalid-feedback"},$i=e("hr",null,null,-1),Fi={class:"d-flex flex-column"},Ci={class:"d-flex flex-column"},Si={class:"mb-1"},Ni={key:0,style:{"font-size":"11px"}},Bi={style:{"font-size":"11px"}},Ti={class:"d-flex gap-1"},Li=["onClick"],Di=e("i",{class:"align-middle me-2 fas fa-fw fa-trash text-danger"},null,-1),Mi=[Di],Ai={__name:"Notes",props:{url:{type:String},deleteUrl:{type:String},leadId:{type:String},leadNotes:{type:Array}},setup(o){const n=o,s=b([]),l=b(""),a=b("Note"),_=b({}),p=b(!1);G(()=>{s.value=[...n.leadNotes]});const c=()=>{p.value=!0;let r=new FormData;r.append("note",l.value),r.append("note_type",a.value),r.append("lead_id",n.leadId),axios.post(n.url,r,{headers:{"Content-Type":"application/json"}}).then(i=>{i.status===200&&(s.value=[...s.value,i.data.leadNote],l.value="",p.value=!1,_.value={},window.notyf.open({type:"success",message:"Note saved!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}))}).catch(i=>{console.log(i.message),i.response.status===422&&(_.value=i.response.data.errors,p.value=!1)})},v=r=>{axios.delete(n.deleteUrl.replace(":noteId",r)).then(i=>{i.status===200&&(s.value=s.value.filter(d=>d.id!==r),window.notyf.open({type:"success",message:"Note deleted!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}))}).catch(i=>{console.log(i.message),window.notyf.open({type:"danger",message:i.message,duration:"2500",ripple:!0,position:"bottom right",dismissible:!0})})},x=r=>Object.keys(r).length!==0,m=r=>{let i=new Date(r*1e3);return new Intl.DateTimeFormat("default",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}).format(i)};return(r,i)=>(f(),y(M,null,[e("form",{onSubmit:Y(c,["prevent"]),id:"notes-form",ref:"notesForm"},[e("div",null,[e("label",hi,[e("span",gi,[mi,k(w(r.$t("Notes")),1)])]),T(e("textarea",{id:"note","onUpdate:modelValue":i[0]||(i[0]=d=>l.value=d),class:K(["form-control",{"is-invalid":x(_.value)}]),name:"note",placeholder:r.$t("Note")},null,10,fi),[[z,l.value]]),T(e("select",{name:"note_type","onUpdate:modelValue":i[1]||(i[1]=d=>a.value=d),id:"note_type",class:"form-select mt-2"},bi,512),[[W,a.value]]),e("button",{type:"submit",class:"btn btn-success mt-2",disabled:p.value},"Add Note",8,xi),_.value&&_.value.note?(f(),y("small",ki,w(_.value.note[0]),1)):q("",!0)])],40,ui),$i,e("div",Fi,[(f(!0),y(M,null,A(s.value,d=>(f(),y("div",{key:d.id,class:"note mb-3"},[e("div",Ci,[e("p",Si,w(d.note),1),e("span",{class:K(d.type=="Call Declined"?"text-danger":"text-success")},w(d.type),3),d.user?(f(),y("span",Ni,[e("em",null,[e("strong",null,w(d.user.full_name),1)])])):q("",!0),e("span",Bi,[e("strong",null,[e("em",null,w(m(d.created_at)),1)])])]),e("div",Ti,[e("span",{class:"delete-icon",onClick:u=>v(d.id)},Mi,8,Li)])]))),128))])],64))}},ji={props:["chartData","chartType"],mounted(){this.createChart()},methods:{createChart(){const o=this.$refs.chart.getContext("2d");new Be(o,{type:this.chartType,data:{labels:this.chartData.labels,datasets:[{label:"Opens",data:this.chartData.opens,fill:this.chartType==="line",backgroundColor:this.chartType==="bar"?"#3B82EC":"transparent",borderColor:"#3B82EC",tension:this.chartType==="line"?.4:0},{label:"Clicks",data:this.chartData.clicks,fill:this.chartType==="line",backgroundColor:this.chartType==="bar"?"#E8EAED":"transparent",borderColor:"#E8EAED",borderDash:this.chartType==="line"?[4,4]:[],tension:this.chartType==="line"?.4:0}]},options:{maintainAspectRatio:!1,plugins:{legend:{display:!0},tooltip:{intersect:!1},filler:{propagate:!1}},interaction:{intersect:!0},scales:{x:{grid:{color:"rgba(0,0,0,0.05)"},ticks:{maxTicksLimit:15}},y:{ticks:{stepSize:500},display:!0,grid:{color:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",tickColor:"#fff"},borderDash:[5,5]}}}})}}},Vi={ref:"chart",width:"749",height:"350"};function Wi(o,n,s,l,a,_){return f(),y("div",null,[e("canvas",Vi,null,512)])}const Ei=_e(ji,[["render",Wi]]);document.addEventListener("DOMContentLoaded",()=>{if(document.getElementsByClassName("js-simplebar")[0]){new Te(document.getElementsByClassName("js-simplebar")[0]);const n=document.getElementsByClassName("sidebar")[0];document.getElementsByClassName("sidebar-toggle")[0].addEventListener("click",()=>{n.classList.toggle("collapsed"),n.addEventListener("transitionend",()=>{window.dispatchEvent(new Event("resize"))})})}});document.addEventListener("DOMContentLoaded",()=>{ie.replace()});window.feather=ie;window.notyf=new Le({duration:5e3,position:{x:"right",y:"top"},types:[{type:"default",backgroundColor:"#3B7DDD",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"info-bsha",backgroundColor:"#495e69",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"success",backgroundColor:"#28a745",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"warning",backgroundColor:"#ffc107",icon:{className:"notyf__icon--error",tagName:"i"}},{type:"danger",backgroundColor:"#dc3545",icon:{className:"notyf__icon--error",tagName:"i"}}]});window.dragula=De;window.jQuery=window.$=Me;const Ui={de:st},ye=Ae({locale:"de",fallbackLocale:"en",messages:Ui});ye.global.locale=document.documentElement.lang.substring(0,2);const Oi=We(),J=je({components:{WorkFlow:xn,ShowWorkFlow:Bn,PipelineStageRepeater:Zn,TextArea:ai,MultiSelectList:pi,Notes:Ai,OpenClicksChart:Ei}});J.config.globalProperties.emitter=Oi;J.use(ye);document.querySelector("#app")!==null&&J.mount("#app");window.DataTable=Ve;
