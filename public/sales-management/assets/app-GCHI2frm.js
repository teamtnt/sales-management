import{b as Te,a as Q,o as r,c as m,d as e,e as B,r as y,f as C,u as U,g as v,w as x,T as O,h as L,F as A,i as V,j as a,t as n,v as z,P as $,D as W,k,n as F,_ as N,l as D,m as j,p as je,q as ue,s as oe,x as Ae,y as R,z as pe,A as Me,B as J,C as E,E as De,G as de,H as G,I as q,J as Ve,K as Ie,L as ee,M as Oe,N as Ue,O as Ee,Q as ze,R as We,S as Pe,U as Re,V as qe,W as He,X as he,Y as Ze,Z as Je,$ as Xe,a0 as Ge,a1 as Ke,a2 as Ye,a3 as Qe}from"./vendor-DNhVQl4-.js";window.bootstrap=Te;let et=document.head.querySelector('meta[name="csrf-token"]').content;Q.defaults.headers.common["X-CSRF-TOKEN"]=et;Q.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.axios=Q;const tt="Dashboard",st="List",ot="Edit",at="Delete",nt="Remove",lt="Name",it="Description",dt="Count",rt="Speichern",ct="Stornieren",ut="Vorname",pt="Nachname",ht="Email",mt="Zurück",gt="USt-ID",ft="Anmerkungen",_t="Note",vt="Activities",bt="Profil",yt="Adresse",wt="Benutzer",xt="Telefon",kt="Firma",$t="Kontakt",Ct="Website",St="PLZ",Ft="Stadt",Nt="Land",Lt="Listen",Bt="Wählen",Tt="Von",jt="Betreff",At="Nachricht",Mt="Leads",Dt={"Good day":"Guten Tag",Dashboard:tt,"All Lists":"All Lists",List:st,Edit:ot,Delete:at,Remove:nt,Name:lt,Description:it,Count:dt,Save:rt,Cancel:ct,"Message Body":"Nachrichtentext",Firstname:ut,Lastname:pt,"Add message placeholders":"Nachrichtenplatzhalter hinzufügen",Email:ht,Back:mt,VAT:gt,Notes:ft,Note:_t,Activities:vt,Profile:bt,"Send E-Mail":"E-Mail senden",Address:yt,User:wt,"User ID":"Bentuzer ID","Job title":"Arbeit",Phone:xt,Company:kt,Contact:$t,Website:Ct,ZIP:St,City:Ft,Country:Nt,"Contact Tags":"Kontakt Tags",Lists:Lt,"Lead Tags":"Lead Tags",Select:Bt,From:Tt,Subject:jt,"Enter subject":"Betreff eingeben",Message:At,"Send Message":"Nachricht senden",Leads:Mt,"Create New List":"Neue Liste erstellen"},Vt={class:"bg-light h-100 shadow-lg"},It=B('<h5 class="sidebar-heading py-3 px-2"><span class="d-flex align-items-center justify-content-center fw-lighter text-center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-move align-middle me-2"><polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line></svg>You can drag these nodes to the pane</span></h5>',1),Ot={class:"d-flex flex-column gap-2"},Ut={class:"d-flex flex-wrap gap-2 align-items-center my-3 px-4"},Et=B('<span class="start-box px-3 justify-content-center"><span class="start-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-flag"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line></svg></span> Start </span>',1),zt=[Et],Wt=B('<div class="bg-white shadow-sm px-3 py-2"><h6 class="mb-0"><span class="d-flex align-items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-pull-request align-middle me-2"><circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line></svg> Conditions</span></h6></div>',1),Pt={class:"d-flex flex-wrap gap-4 align-items-center my-3 px-4"},Rt=B('<span class="condition-box pe-2 justify-content-center"><span class="condition-box__icon"><span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-play-circle align-middle"><circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon></svg></span></span> On Run</span>',1),qt=[Rt],Ht=B('<span class="condition-box pe-2 justify-content-end"><span class="condition-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Stage Changed</span>',1),Zt=[Ht],Jt=B('<span class="condition-box pe-2 justify-content-end"><span class="condition-box__icon"><span><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="20px" height="20px" viewBox="-10 -10 84 84" enable-background="new -10 -10 84 84" xml:space="preserve"><g><line fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" x1="36" y1="9" x2="45" y2="9"></line><line fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" x1="19" y1="17" x2="45" y2="17"></line><line fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" x1="19" y1="25" x2="45" y2="25"></line><g><polyline fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" points="1,26 32,45.434 63,26"></polyline><polyline fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" points="11.334,21.667 1,26 1,63 63,63 63,26 63,26 52.666,21.667"></polyline><polyline fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" points="11,32 11,1 53,1 53,32"></polyline></g></g></svg></span></span> Message Opened </span>',1),Xt=[Jt],Gt=B(`<span class="condition-box pe-2 justify-content-center"><span class="condition-box__icon"><svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 52.965 52.965" width="15" height="15" xml:space="preserve"><path style="fill:none;stroke:#FFFFFF;stroke-width:2;stroke-linecap:round;stroke-miterlimit:10;" d="M24.008,13.401L33.2,4.208
                                    c4.278-4.278,11.278-4.278,15.556,0l0,0c4.278,4.278,4.278,11.278,0,15.556L36.735,31.786c-4.278,4.278-11.278,4.278-15.556,0l0,0"></path><path style="fill:none;stroke:#FFFFFF;stroke-width:2;stroke-linecap:round;stroke-miterlimit:10;" d="M27.543,40.978l-7.778,7.778
                                    c-4.278,4.278-11.278,4.278-15.556,0l0,0c-4.278-4.278-4.278-11.278,0-15.556l11.314-11.314c4.278-4.278,11.278-4.278,15.556,0l0,0"></path><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="33.965" y1="45" x2="33.965" y2="51"></line><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="37.722" y1="43" x2="41.965" y2="47.243"></line><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="38.965" y1="39" x2="44.965" y2="39"></line><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="15.965" y1="10" x2="15.965" y2="4"></line><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="12.207" y1="12" x2="7.965" y2="7.757"></line><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="10.965" y1="16" x2="4.965" y2="16"></line></svg></span> Link Clicked </span>`,1),Kt=[Gt],Yt=B('<div class="bg-white shadow-sm px-3 py-2"><h6 class="mb-0"><span class="d-flex align-items-center"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-repeat align-middle me-2"><polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path></svg> Actions</span></h6></div>',1),Qt={class:"d-flex flex-wrap gap-4 align-items-center my-3 px-4"},es=B('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail align-middle"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></span> Send Message </span>',1),ts=[es],ss=B('<span class="action-box px-3 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock align-middle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></span> Wait </span>',1),os=[ss],as=B('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag align-middle"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg></span> Add Tag </span>',1),ns=[as],ls=B('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list align-middle"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></span> Move To List </span>',1),is=[ls],ds=B('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg></span> A/B Split </span>',1),rs=[ds],cs=B('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Change Stage</span>',1),us=[cs],ps={__name:"Sidebar",setup(t){const c=(s,l,u)=>{s.dataTransfer&&(s.dataTransfer.setData("application/vueflow",l),s.dataTransfer.effectAllowed="move")};return(s,l)=>(r(),m("aside",Vt,[It,e("div",Ot,[e("div",Ut,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[0]||(l[0]=u=>c(u,"action.start"))},zt,32)]),Wt,e("div",Pt,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[1]||(l[1]=u=>c(u,"condition.run"))},qt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[2]||(l[2]=u=>c(u,"condition.stage.changed"))},Zt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[3]||(l[3]=u=>c(u,"condition.message.opened"))},Xt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[4]||(l[4]=u=>c(u,"condition.link.clicked"))},Kt,32)]),Yt,e("div",Qt,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[5]||(l[5]=u=>c(u,"action.message.sent"))},ts,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[6]||(l[6]=u=>c(u,"action.wait"))},os,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[7]||(l[7]=u=>c(u,"action.add.tag"))},ns,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[8]||(l[8]=u=>c(u,"action.move.to.list"))},is,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[9]||(l[9]=u=>c(u,"action.ab.split"))},rs,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[10]||(l[10]=u=>c(u,"action.change.stage"))},us,32)])])]))}},hs={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},ms={class:"bg-white p-3 rounded-3"},gs=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),fs={class:"mb-3"},_s=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Stage",-1),vs=["value"],bs={class:"d-flex justify-content-end"},ys=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),ws=[ys],xs={class:"condition-box"},ks=B('<span class="condition-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span>',1),$s=e("span",{class:"circle"},null,-1),Cs=e("span",{class:"circle"},null,-1),me={__name:"StageChanged",props:{id:String,label:String,type:String},setup(t){const c=t,s=y(!1),l=C(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),u=C(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let f=window.stages;const{findNode:h,onNodeClick:o,removeNodes:g,onPaneClick:w}=U(),_=y(h(c.id));o(p=>{p.event.target.classList.contains("handle")||p.node.id===_.value.id&&(s.value=!s.value)}),w(()=>{s.value=!1});const b=p=>{g([p],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(p,d)=>(r(),m("div",hs,[v(a(W),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:a($).Right},{default:x(()=>[v(O,{mode:"in-out",appear:""},{default:x(()=>[e("div",ms,[gs,e("div",fs,[_s,L(e("select",{name:"argument",class:"form-select form-select-sm","onUpdate:modelValue":d[0]||(d[0]=i=>_.value.data=i),id:"argument"},[(r(!0),m(A,null,V(a(f),i=>(r(),m("option",{value:i},n(i.title),9,vs))),256))],512),[[z,_.value.data]])]),e("div",bs,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:d[1]||(d[1]=i=>b(_.value))},ws)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",xs,[ks,k(" "+n(_.value.data.title??"Stage Changed"),1)]),v(a(N),{id:`state.stage.changed.target.${t.id}`,type:"target",position:a($).Top,style:F(l.value),class:"handle"},{default:x(()=>[$s]),_:1},8,["id","position","style"]),v(a(N),{id:`state.stage.changed.${t.id}`,type:"source",position:a($).Bottom,style:F(u.value),class:"handle"},{default:x(()=>[Cs]),_:1},8,["id","position","style"])]))}},Ss={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Fs={class:"bg-white p-3 rounded-3"},Ns=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),Ls={class:"mb-3"},Bs=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Message",-1),Ts=["value"],js={class:"d-flex justify-content-end"},As=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),Ms=[As],Ds={class:"action-box ps-1"},Vs=e("span",{class:"action-box__icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-mail align-middle"},[e("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),e("polyline",{points:"22,6 12,13 2,6"})])],-1),Is=e("span",{class:"circle"},null,-1),Os=e("span",{class:"circle"},null,-1),ge={__name:"SendMessage",props:{id:String,label:String,type:String},setup(t){const c=t,s=y(!1),l=C(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),u=C(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let f=window.messages;const{findNode:h,onNodeClick:o,removeNodes:g,onPaneClick:w}=U(),_=y(h(c.id));o(p=>{p.event.target.classList.contains("handle")||p.node.id===_.value.id&&(s.value=!s.value)}),w(()=>{s.value=!1});const b=p=>{g([p],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(p,d)=>(r(),m("div",Ss,[v(a(W),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:a($).Right},{default:x(()=>[v(O,{mode:"in-out",appear:""},{default:x(()=>[e("div",Fs,[Ns,e("div",Ls,[Bs,L(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":d[0]||(d[0]=i=>_.value.data=i)},[(r(!0),m(A,null,V(a(f),i=>(r(),m("option",{value:i},n(i.title),9,Ts))),256))],512),[[z,_.value.data]])]),e("div",js,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:d[1]||(d[1]=i=>b(_.value))},Ms)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",Ds,[Vs,k(" "+n(_.value.data.title??"Send Message"),1)]),v(a(N),{id:`state.message.sent.${t.id}`,type:"source",position:a($).Bottom,style:F(u.value),class:"handle"},{default:x(()=>[Is]),_:1},8,["id","position","style"]),v(a(N),{id:`state.message.sent.target.${t.id}`,type:"target",position:a($).Top,style:F(l.value),class:"handle"},{default:x(()=>[Os]),_:1},8,["id","position","style"])]))}},Us={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Es={class:"bg-white p-3 rounded-3"},zs=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),Ws={class:"mb-3"},Ps=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Wait Time",-1),Rs=["value"],qs={class:"d-flex justify-content-end"},Hs=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),Zs=[Hs],Js={class:"action-box ps-1"},Xs=e("span",{class:"action-box__icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-clock align-middle"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12 6 12 12 16 14"})])],-1),Gs=e("span",{class:"circle"},null,-1),Ks=e("span",{class:"circle"},null,-1),fe={__name:"Wait",props:{id:String,label:String,type:String},setup(t){const c=t,s=y(!1),l=C(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),u=C(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let f=window.waitOptions;const{findNode:h,onNodeClick:o,removeNodes:g,onPaneClick:w}=U(),_=y(h(c.id));o(p=>{p.event.target.classList.contains("handle")||p.node.id===_.value.id&&(s.value=!s.value)});const b=p=>{g([p],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return w(()=>{s.value=!1}),(p,d)=>(r(),m("div",Us,[v(a(W),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:a($).Right},{default:x(()=>[v(O,{mode:"in-out",appear:""},{default:x(()=>[e("div",Es,[zs,e("div",Ws,[Ps,L(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":d[0]||(d[0]=i=>_.value.data=i)},[(r(!0),m(A,null,V(a(f),i=>(r(),m("option",{value:i},n(i.title),9,Rs))),256))],512),[[z,_.value.data]])]),e("div",qs,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:d[1]||(d[1]=i=>b(_.value))},Zs)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",Js,[Xs,k(" Wait "+n(_.value.data.title??""),1)]),v(a(N),{id:`state.wait.target.${t.id}`,type:"target",position:a($).Top,style:F(l.value),class:"handle"},{default:x(()=>[Gs]),_:1},8,["id","position","style"]),v(a(N),{id:`state.wait.${t.id}`,type:"source",position:a($).Bottom,style:F(u.value),class:"handle"},{default:x(()=>[Ks]),_:1},8,["id","position","style"])]))}},Ys={class:"bg-white p-3 rounded-3"},Qs=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),eo={class:"d-flex justify-content-end"},to=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),so=[to],oo=B('<span class="start-box pe-2 justify-content-center"><span class="start-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-flag"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line></svg></span> Start </span>',1),ao=e("span",{class:"circle"},null,-1),_e={__name:"Start",props:{id:String,label:String,type:String},setup(t){const c=t,s=y(!1),l=y(),u=y(),f=C(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-6px"})),{findNode:h,onNodeClick:o,removeNodes:g,onPaneClick:w}=U(),_=y(h(c.id));o(p=>{p.event.target.classList.contains("handle")||p.node.id===_.value.id&&(s.value=!s.value)}),w(()=>{s.value=!1});const b=p=>{g([p],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(p,d)=>(r(),m("div",{class:"vue-flow__node-input shadow-sm",ref_key:"nodeWrapper",ref:l},[v(a(W),{ref_key:"nodeToolbar",ref:u,style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:a($).Right},{default:x(()=>[v(O,{mode:"in-out",appear:""},{default:x(()=>[e("div",Ys,[Qs,e("div",eo,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:d[0]||(d[0]=i=>b(_.value))},so)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),oo,v(a(N),{id:"start",type:"source",position:a($).Bottom,style:F(f.value),class:"handle"},{default:x(()=>[ao]),_:1},8,["position","style"])],512))}},no={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},lo={class:"bg-white p-3 rounded-3"},io=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),ro={class:"mb-3"},co=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Tag",-1),uo=["value"],po={class:"d-flex justify-content-end"},ho=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),mo=[ho],go={class:"action-box ps-1"},fo=e("span",{class:"action-box__icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-tag align-middle"},[e("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),e("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})])],-1),_o=e("span",{class:"circle"},null,-1),vo=e("span",{class:"circle"},null,-1),ve={__name:"AddTag",props:{id:String,label:String,type:String},setup(t){const c=t,s=y(!1),l=C(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),u=C(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let f=window.tags;const{findNode:h,onNodeClick:o,removeNodes:g,onPaneClick:w}=U(),_=y(h(c.id));o(p=>{p.event.target.classList.contains("handle")||p.node.id===_.value.id&&(s.value=!s.value)}),w(()=>{s.value=!1});const b=p=>{g([p],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(p,d)=>(r(),m("div",no,[v(a(W),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:a($).Right},{default:x(()=>[v(O,{mode:"in-out",appear:""},{default:x(()=>[e("div",lo,[io,e("div",ro,[co,L(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":d[0]||(d[0]=i=>_.value.data=i)},[(r(!0),m(A,null,V(a(f),i=>(r(),m("option",{value:i},n(i.title),9,uo))),256))],512),[[z,_.value.data]])]),e("div",po,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:d[1]||(d[1]=i=>b(_.value))},mo)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",go,[fo,k(" "+n(_.value.data.title??"Add Tag"),1)]),v(a(N),{id:`state.tag.add.${t.id}`,type:"source",position:a($).Bottom,style:F(u.value),class:"handle"},{default:x(()=>[_o]),_:1},8,["id","position","style"]),v(a(N),{id:`state.tag.add.target.${t.id}`,type:"target",position:a($).Top,style:F(l.value),class:"handle"},{default:x(()=>[vo]),_:1},8,["id","position","style"])]))}},bo={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},yo={class:"bg-white p-3 rounded-3"},wo=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),xo={class:"mb-3"},ko=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Message",-1),$o=["value"],Co={class:"d-flex justify-content-end"},So=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),Fo=[So],No={class:"condition-box"},Lo=B('<span class="condition-box__icon"><span><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="20px" height="20px" viewBox="-10 -10 84 84" enable-background="new -10 -10 84 84" xml:space="preserve"><g><line fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" x1="36" y1="9" x2="45" y2="9"></line><line fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" x1="19" y1="17" x2="45" y2="17"></line><line fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" x1="19" y1="25" x2="45" y2="25"></line><g><polyline fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" points="1,26 32,45.434 63,26"></polyline><polyline fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" points="11.334,21.667 1,26 1,63 63,63 63,26 63,26 52.666,21.667"></polyline><polyline fill="none" stroke="#FFFFFF" stroke-width="3" stroke-miterlimit="10" points="11,32 11,1 53,1 53,32"></polyline></g></g></svg></span></span>',1),Bo=e("span",{class:"circle"},null,-1),To=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1),jo=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),be={__name:"MessageOpened",props:{id:String,label:String,type:String},setup(t){const c=t,s=y(!1),l=C(()=>({backgroundColor:"green",left:"48px",width:"14px",height:"14px",right:"auto",bottom:"-7px"})),u=C(()=>({backgroundColor:"red",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"})),f=C(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-6px"}));let h=window.messagesOpened;const{findNode:o,onNodeClick:g,removeNodes:w,onPaneClick:_}=U(),b=y(o(c.id));g(d=>{d.event.target.classList.contains("handle")||d.node.id===b.value.id&&(s.value=!s.value)}),_(()=>{s.value=!1});const p=d=>{w([d],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(d,i)=>(r(),m("div",bo,[v(a(W),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:a($).Right},{default:x(()=>[v(O,{mode:"in-out",appear:""},{default:x(()=>[e("div",yo,[wo,e("div",xo,[ko,L(e("select",{name:"argument",class:"form-select form-select-sm","onUpdate:modelValue":i[0]||(i[0]=S=>b.value.data=S),id:"argument"},[(r(!0),m(A,null,V(a(h),S=>(r(),m("option",{value:S},n(S.title),9,$o))),256))],512),[[z,b.value.data]])]),e("div",Co,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:i[1]||(i[1]=S=>p(b.value))},Fo)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",No,[Lo,k(" "+n(b.value.data.title??"Message Opened"),1)]),v(a(N),{id:`state.message.opened.target.${t.id}`,type:"target",position:a($).Top,style:F(f.value),class:"handle"},{default:x(()=>[Bo]),_:1},8,["id","position","style"]),v(a(N),{id:`state.message.opened.${t.id}`,type:"source",position:a($).Bottom,style:F(l.value),class:"handle"},{default:x(()=>[To]),_:1},8,["id","position","style"]),v(a(N),{id:`state.message.not_opened.${t.id}`,type:"source",position:a($).Bottom,style:F(u.value),class:"handle"},{default:x(()=>[jo]),_:1},8,["id","position","style"])]))}},Ao={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Mo={class:"bg-white p-3 rounded-3"},Do=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),Vo={class:"mb-3"},Io=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose List",-1),Oo=["value"],Uo={class:"d-flex justify-content-end"},Eo=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),zo=[Eo],Wo={class:"action-box ps-1"},Po=B('<span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list align-middle"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></span>',1),Ro=e("span",{class:"circle"},null,-1),qo=e("span",{class:"circle"},null,-1),ye={__name:"MoveToList",props:{id:String,label:String,type:String},setup(t){const c=t,s=y(!1),l=C(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),u=C(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let f=window.contactLists;const{findNode:h,onNodeClick:o,removeNodes:g,onPaneClick:w}=U(),_=y(h(c.id));o(p=>{p.event.target.classList.contains("handle")||p.node.id===_.value.id&&(s.value=!s.value)}),w(()=>{s.value=!1});const b=p=>{g([p],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(p,d)=>(r(),m("div",Ao,[v(a(W),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:a($).Right},{default:x(()=>[v(O,{mode:"in-out",appear:""},{default:x(()=>[e("div",Mo,[Do,e("div",Vo,[Io,L(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":d[0]||(d[0]=i=>_.value.data=i)},[(r(!0),m(A,null,V(a(f),i=>(r(),m("option",{value:i},n(i.title),9,Oo))),256))],512),[[z,_.value.data]])]),e("div",Uo,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:d[1]||(d[1]=i=>b(_.value))},zo)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",Wo,[Po,k(" "+n(_.value.data.title??"Move To List"),1)]),v(a(N),{id:`state.move_to_list.${t.id}`,type:"source",position:a($).Bottom,style:F(u.value),class:"handle"},{default:x(()=>[Ro]),_:1},8,["id","position","style"]),v(a(N),{id:`state.move_to_list.target.${t.id}`,type:"target",position:a($).Top,style:F(l.value),class:"handle"},{default:x(()=>[qo]),_:1},8,["id","position","style"])]))}},Ho={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Zo={class:"bg-white p-3 rounded-3"},Jo=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),Xo={class:"mb-3"},Go=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose split",-1),Ko=["value"],Yo={class:"d-flex justify-content-end"},Qo=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),ea=[Qo],ta={class:"action-box ps-1"},sa=B('<span class="action-box__icon"><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg></span>',1),oa=e("span",{class:"circle"},null,-1),aa=e("span",{class:"circle"},null,-1),na=e("span",{class:"circle"},null,-1),we={__name:"ABSplit",props:{id:String,label:String,type:String},setup(t){const c=t,s=y(!1),l=C(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),u=C(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",left:"48px",right:"auto",bottom:"-7px"})),f=C(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"}));let h=window.abSplit;const{findNode:o,onNodeClick:g,removeNodes:w,onPaneClick:_}=U(),b=y(o(c.id));g(d=>{d.event.target.classList.contains("handle")||d.node.id===b.value.id&&(s.value=!s.value)}),_(()=>{s.value=!1});const p=d=>{w([d],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(d,i)=>(r(),m("div",Ho,[v(a(W),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:a($).Right},{default:x(()=>[v(O,{mode:"in-out",appear:""},{default:x(()=>[e("div",Zo,[Jo,e("div",Xo,[Go,L(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":i[0]||(i[0]=S=>b.value.data=S)},[(r(!0),m(A,null,V(a(h),S=>(r(),m("option",{value:S},n(S.title),9,Ko))),256))],512),[[z,b.value.data]])]),e("div",Yo,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:i[1]||(i[1]=S=>p(b.value))},ea)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",ta,[sa,k(" "+n(b.value.data.title??"A/B Split"),1)]),v(a(N),{id:`state.abSplit.target.${t.id}`,type:"target",position:a($).Top,style:F(l.value),class:"handle"},{default:x(()=>[oa]),_:1},8,["id","position","style"]),v(a(N),{id:`state.abSplit.left.${t.id}`,type:"source",position:a($).Bottom,style:F(u.value),class:"handle"},{default:x(()=>[aa]),_:1},8,["id","position","style"]),v(a(N),{id:`state.abSplit.right.${t.id}`,type:"source",position:a($).Bottom,style:F(f.value),class:"handle"},{default:x(()=>[na]),_:1},8,["id","position","style"])]))}},la={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},ia={class:"bg-white p-3 rounded-3"},da=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),ra={class:"d-flex justify-content-end"},ca=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),ua=[ca],pa={class:"condition-box"},ha=e("span",{class:"condition-box__icon"},[e("span",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-play-circle align-middle"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polygon",{points:"10 8 16 12 10 16 10 8"})])])],-1),ma=e("span",{class:"circle"},null,-1),ga=e("span",{class:"circle"},null,-1),xe={__name:"Run",props:{id:String,label:String,type:String},setup(t){const c=t,s=y(!1),l=C(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),u=C(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"})),{findNode:f,onNodeClick:h,removeNodes:o,onPaneClick:g}=U(),w=y(f(c.id));w.value.data={argument:window.workflowId},h(b=>{b.event.target.classList.contains("handle")||b.node.id===w.value.id&&(s.value=!s.value)}),g(()=>{s.value=!1});const _=b=>{o([b],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(b,p)=>(r(),m("div",la,[v(a(W),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:a($).Right},{default:x(()=>[v(O,{mode:"in-out",appear:""},{default:x(()=>[e("div",ia,[da,e("div",ra,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:p[0]||(p[0]=d=>_(w.value))},ua)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",pa,[ha,k(" "+n(w.value.data.title??"On Run"),1)]),v(a(N),{id:`state.run.target.${t.id}`,type:"target",position:a($).Top,style:F(l.value),class:"handle"},{default:x(()=>[ma]),_:1},8,["id","position","style"]),v(a(N),{id:`state.run.${t.id}`,type:"source",position:a($).Bottom,style:F(u.value),class:"handle"},{default:x(()=>[ga]),_:1},8,["id","position","style"])]))}},fa={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},_a={class:"bg-white p-3 rounded-3"},va=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),ba={class:"mb-3"},ya=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Stage",-1),wa=["value"],xa={class:"d-flex justify-content-end"},ka=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),$a=[ka],Ca={class:"action-box ps-1"},Sa=B('<span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span>',1),Fa=e("span",{class:"circle"},null,-1),Na=e("span",{class:"circle"},null,-1),ke={__name:"ChangeStage",props:{id:String,label:String,type:String},setup(t){const c=t,s=y(!1),l=C(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),u=C(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let f=window.stageActions;const{findNode:h,onNodeClick:o,removeNodes:g,onPaneClick:w}=U(),_=y(h(c.id));o(p=>{p.event.target.classList.contains("handle")||p.node.id===_.value.id&&(s.value=!s.value)}),w(()=>{s.value=!1});const b=p=>{g([p],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(p,d)=>(r(),m("div",fa,[v(a(W),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:a($).Right},{default:x(()=>[v(O,{mode:"in-out",appear:""},{default:x(()=>[e("div",_a,[va,e("div",ba,[ya,L(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":d[0]||(d[0]=i=>_.value.data=i)},[(r(!0),m(A,null,V(a(f),i=>(r(),m("option",{value:i},n(i.title),9,wa))),256))],512),[[z,_.value.data]])]),e("div",xa,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:d[1]||(d[1]=i=>b(_.value))},$a)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",Ca,[Sa,k(" "+n(_.value.data.title??"Change Stage"),1)]),v(a(N),{id:`state.change.stage.target.${t.id}`,type:"target",position:a($).Top,style:F(l.value),class:"handle"},{default:x(()=>[Fa]),_:1},8,["id","position","style"]),v(a(N),{id:`state.change.stage.${t.id}`,type:"source",position:a($).Bottom,style:F(u.value),class:"handle"},{default:x(()=>[Na]),_:1},8,["id","position","style"])]))}},La={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Ba={class:"bg-white p-3 rounded-3"},Ta=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),k("Node Properties")])],-1),ja={class:"mb-3"},Aa=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Message",-1),Ma=["value"],Da={key:0,class:"mb-3"},Va=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Link",-1),Ia=["value"],Oa={class:"d-flex justify-content-end"},Ua=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),k("Delete Node ")],-1),Ea=[Ua],za=B(`<span class="condition-box"><span class="condition-box__icon"><svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 52.965 52.965" width="15" height="15" xml:space="preserve"><path style="fill:none;stroke:#FFFFFF;stroke-width:2;stroke-linecap:round;stroke-miterlimit:10;" d="M24.008,13.401L33.2,4.208
                        c4.278-4.278,11.278-4.278,15.556,0l0,0c4.278,4.278,4.278,11.278,0,15.556L36.735,31.786c-4.278,4.278-11.278,4.278-15.556,0l0,0"></path><path style="fill:none;stroke:#FFFFFF;stroke-width:2;stroke-linecap:round;stroke-miterlimit:10;" d="M27.543,40.978l-7.778,7.778
                        c-4.278,4.278-11.278,4.278-15.556,0l0,0c-4.278-4.278-4.278-11.278,0-15.556l11.314-11.314c4.278-4.278,11.278-4.278,15.556,0l0,0"></path><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="33.965" y1="45" x2="33.965" y2="51"></line><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="37.722" y1="43" x2="41.965" y2="47.243"></line><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="38.965" y1="39" x2="44.965" y2="39"></line><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="15.965" y1="10" x2="15.965" y2="4"></line><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="12.207" y1="12" x2="7.965" y2="7.757"></line><line style="fill:none;stroke:#FFFFFF;stroke-width:3;stroke-linecap:round;stroke-miterlimit:10;" x1="10.965" y1="16" x2="4.965" y2="16"></line></svg></span> Link Clicked </span>`,1),Wa=e("span",{class:"circle"},null,-1),Pa=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1),Ra=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),$e={__name:"LinkClicked",props:{id:String,label:String,type:String},setup(t){const c=t,s=y(!1),l=C(()=>({backgroundColor:"green",left:"48px",width:"14px",height:"14px",right:"auto",bottom:"-7px"})),u=C(()=>({backgroundColor:"red",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"})),f=C(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-6px"}));let h=y(window.messagesWithLinks);const{findNode:o,onNodeClick:g,removeNodes:w,onPaneClick:_}=U(),b=y(o(c.id)),p=C(()=>h.value.find(i=>i.argument===b.value.data.message)||{links:[]});b.value.data.argument=C(()=>b.value.data.message&&b.value.data.link?`${b.value.data.message}.${b.value.data.link}`:""),g(i=>{i.event.target.classList.contains("handle")||i.node.id===b.value.id&&(s.value=!s.value)}),_(()=>{s.value=!1});const d=i=>{w([i],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(i,S)=>(r(),m("div",La,[v(a(W),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":t.id,position:a($).Right},{default:x(()=>[v(O,{mode:"in-out",appear:""},{default:x(()=>[e("div",Ba,[Ta,e("div",ja,[Aa,L(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":S[0]||(S[0]=M=>b.value.data.message=M)},[(r(!0),m(A,null,V(a(h),M=>(r(),m("option",{value:M.argument},n(M.title),9,Ma))),256))],512),[[z,b.value.data.message]])]),v(O,{mode:"in-out",appear:""},{default:x(()=>{var M,T;return[(T=(M=p.value)==null?void 0:M.links)!=null&&T.length?(r(),m("div",Da,[Va,L(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":S[1]||(S[1]=P=>b.value.data.link=P)},[(r(!0),m(A,null,V(p.value.links,P=>(r(),m("option",{value:P.url},n(P.text),9,Ia))),256))],512),[[z,b.value.data.link]])])):D("",!0)]}),_:1}),e("div",Oa,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:S[2]||(S[2]=M=>d(b.value))},Ea)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),za,v(a(N),{id:`state.link.clicked.target.${t.id}`,type:"target",position:a($).Top,style:F(f.value),class:"handle"},{default:x(()=>[Wa]),_:1},8,["id","position","style"]),v(a(N),{id:`state.link.clicked.${t.id}`,type:"source",position:a($).Bottom,style:F(l.value),class:"handle"},{default:x(()=>[Pa]),_:1},8,["id","position","style"]),v(a(N),{id:`state.link.not_clicked.${t.id}`,type:"source",position:a($).Bottom,style:F(u.value),class:"handle"},{default:x(()=>[Ra]),_:1},8,["id","position","style"])]))}},qa={class:"col-lg-7 col-xl-8 col-xxl-9 pe-0"},Ha={class:"d-flex gap-2"},Za=["href"],Ja=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-arrow-left-circle align-middle me-2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12 8 8 12 12 16"}),e("line",{x1:"16",y1:"12",x2:"8",y2:"12"})],-1),Xa={class:"h3 mb-3 px-4 py-2 bg-white"},Ga={class:"d-flex gap-2"},Ka={class:"d-flex align-items-center"},Ya=e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-save align-middle me-2"},[e("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),e("polyline",{points:"17 21 17 13 7 13 7 21"}),e("polyline",{points:"7 3 7 8 15 8"})],-1),Qa={class:"col-lg-5 col-xl-4 col-xxl-3 px-0"},en={__name:"WorkFlow",props:{workflowName:{type:String,default:"Untitled"},workflowId:{type:Number,default:null},saveUrl:{type:String,default:"/automation/workflow/save"},elementsData:{type:Array,default:[]},messages:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesOpened:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesWithLinks:{type:Array},stages:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},tags:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},stageActions:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},abSplit:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},contactLists:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},waitOptions:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},backUrl:{type:String,default:"/"}},setup(t){const c={"condition.stage.changed":j(me),"condition.message.opened":j(be),"condition.run":j(xe),"condition.link.clicked":j($e),"action.message.sent":j(ge),"action.wait":j(fe),"action.start":j(_e),"action.add.tag":j(ve),"action.move.to.list":j(ye),"action.ab.split":j(we),"action.change.stage":j(ke)},s=t,l=y(s.elementsData),u=y(s.workflowName);let f=0;const h=()=>Math.floor(Math.random()*1e4+1)+`_${f++}`,{findNode:o,onConnect:g,nodes:w,edges:_,onNodeClick:b,addEdges:p,addNodes:d,viewport:i,project:S,vueFlowRef:M}=U({nodes:[]});window.messages=s.messages,window.messagesOpened=s.messagesOpened,window.contactLists=s.contactLists,window.waitOptions=s.waitOptions,window.abSplit=s.abSplit,window.stages=s.stages,window.tags=s.tags,window.workflowId=s.workflowId,window.stageActions=s.stageActions,window.messagesWithLinks=s.messagesWithLinks;const T=I=>{I.preventDefault(),I.dataTransfer&&(I.dataTransfer.dropEffect="move")};g(I=>p([I]));const P=I=>{var le;const H=(le=I.dataTransfer)==null?void 0:le.getData("application/vueflow"),{left:X,top:Ne}=M.value.getBoundingClientRect(),Le=S({x:I.clientX-X,y:I.clientY-Ne}),ne={id:h(),type:H,position:Le,label:`${H} node`};d([ne]),je(()=>{const Z=o(ne.id),Be=Me(()=>Z.dimensions,ie=>{ie.width>0&&ie.height>0&&(Z.position={x:Z.position.x-Z.dimensions.width/2,y:Z.position.y-Z.dimensions.height/2},Be())},{deep:!0,flush:"post"})})},se=function(){axios.post(s.saveUrl,{elements:l.value,title:u.value}).then(function(I){window.notyf.open({type:"success",message:"Workflow successfully saved!",duration:"5000",ripple:!0,dismissible:!0})}).catch(function(I){console.log(I),window.notyf.open({type:"warning",message:"Something went wrong!",duration:"5000",ripple:!0,dismissible:!0})})};return(I,H)=>(r(),m("div",{class:"row w-100 h-100 mx-0",onDrop:P},[e("div",qa,[v(a(pe),{onDragover:T,modelValue:l.value,"onUpdate:modelValue":H[1]||(H[1]=X=>l.value=X),"node-types":c,"default-edge-options":{type:"smoothstep"}},{default:x(()=>[v(a(ue)),v(a(oe),null,{default:x(()=>[e("div",Ha,[e("a",{class:"d-flex align-items-center h4 mb-3 px-4 py-2 text-white bg-info text-decoration-none",href:t.backUrl},[Ja,e("span",null,n(I.$t("Back")),1)],8,Za),e("h1",Xa,n(u.value),1)])]),_:1}),v(a(oe),{position:a(Ae).BottomRight},{default:x(()=>[e("div",Ga,[L(e("input",{type:"text",class:"form-control","onUpdate:modelValue":H[0]||(H[0]=X=>u.value=X),style:{"min-width":"200px"}},null,512),[[R,u.value]]),e("button",{class:"btn btn-success text-uppercase px-4",onClick:se},[e("span",Ka,[Ya,k(" "+n(I.$t("Save")),1)])])])]),_:1},8,["position"])]),_:1},8,["modelValue"])]),e("div",Qa,[v(ps)])],32))}},tn={class:"row w-100 h-100 mx-0"},sn={class:"col-lg-12 col-xl-12 col-xxl-12 pe-0"},on={class:"d-flex gap-2"},an=["href"],nn=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-arrow-left-circle align-middle me-2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12 8 8 12 12 16"}),e("line",{x1:"16",y1:"12",x2:"8",y2:"12"})],-1),ln={class:"h3 mb-3 px-4 py-2 bg-white"},dn={__name:"ShowWorkFlow",props:{workflowName:{type:String,default:"Untitled"},workflowId:{type:Number,default:null},elementsData:{type:Array,default:[]},messages:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesOpened:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesWithLinks:{type:Array},stages:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},tags:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},stageActions:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},abSplit:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},contactLists:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},waitOptions:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},backUrl:{type:String,default:"/"}},setup(t){const c={"condition.stage.changed":j(me),"condition.message.opened":j(be),"condition.run":j(xe),"condition.link.clicked":j($e),"action.message.sent":j(ge),"action.wait":j(fe),"action.start":j(_e),"action.add.tag":j(ve),"action.move.to.list":j(ye),"action.ab.split":j(we),"action.change.stage":j(ke)},s=t,l=y(s.elementsData),u=y(s.workflowName);return U({nodes:[]}),window.messages=s.messages,window.messagesOpened=s.messagesOpened,window.contactLists=s.contactLists,window.waitOptions=s.waitOptions,window.abSplit=s.abSplit,window.stages=s.stages,window.tags=s.tags,window.workflowId=s.workflowId,window.stageActions=s.stageActions,window.messagesWithLinks=s.messagesWithLinks,(f,h)=>(r(),m("div",tn,[e("div",sn,[v(a(pe),{modelValue:l.value,"onUpdate:modelValue":h[0]||(h[0]=o=>l.value=o),"node-types":c},{default:x(()=>[v(a(ue)),v(a(oe),null,{default:x(()=>[e("div",on,[e("a",{class:"d-flex align-items-center h4 mb-3 px-4 py-2 text-white bg-info text-decoration-none",href:t.backUrl},[nn,e("span",null,n(f.$t("Back")),1)],8,an),e("h1",ln,n(u.value),1)])]),_:1})]),_:1},8,["modelValue"])])]))}},rn={class:"row p-3"},cn={class:"d-flex justify-content-between"},un=["onClick"],pn=e("i",{class:"align-middle fas fa-fw fa-minus-circle"},null,-1),hn=[pn],mn=e("i",{class:"align-middle ms-2 fas fa-fw fa-plus-circle"},null,-1),gn=[mn],fn={class:"col-md-4"},_n={class:"mb-3"},vn=e("label",{for:"stage_name",class:"form-label"},"Stage name",-1),bn=["name","onUpdate:modelValue"],yn={class:"col-md-5"},wn={class:"mb-3"},xn=e("label",{for:"stage_description",class:"form-label"},"Stage description",-1),kn=["name","onUpdate:modelValue"],$n={class:"col-md-3"},Cn={class:"d-flex flex-column mb-3"},Sn=e("label",{for:"stage_color",class:"form-label"},"Stage color",-1),Fn={class:"d-flex align-items-center"},Nn=["name","onUpdate:modelValue"],Ln={class:"fs-4 ms-3"},Bn=["name","value"],Tn={__name:"PipelineStageRepeater",props:{stages:{type:Array}},setup(t){const c=t,s=y([{name:"Default",description:"This is some description",color:"#366dc7"}]);J(()=>{c.stages.length&&(s.value=c.stages)});const l=()=>{s.value.push({name:"",description:"",color:"#366dc7"})},u=f=>{const h=s.value.indexOf(f);h>-1&&s.value.splice(h,1)};return(f,h)=>(r(),E(De,{name:"stage-list",appear:""},{default:x(()=>[(r(!0),m(A,null,V(s.value,(o,g)=>(r(),m("div",{class:"d-flex flex-column bg-light mb-3 rounded-3",key:g},[e("div",rn,[e("div",cn,[e("h6",null,"#"+n(g+1)+" - "+n(o.name),1),e("div",null,[L(e("button",{class:"btn text-danger btn-lg border-0 p-0",onClick:G(w=>u(o),["prevent"]),title:"Remove Stage"},hn,8,un),[[de,g||!g&&s.value.length>1]]),L(e("button",{class:"btn text-info btn-lg border-0 p-0",title:"Add New Stage",onClick:G(l,["prevent"])},gn,512),[[de,g===s.value.length-1]])])]),e("div",fn,[e("div",_n,[vn,L(e("input",{class:"form-control",name:`pipeline_stages[${g}][name]`,placeholder:"Enter stage name",type:"text",id:"stage_name","onUpdate:modelValue":w=>o.name=w},null,8,bn),[[R,o.name]])])]),e("div",yn,[e("div",wn,[xn,L(e("input",{class:"form-control",name:`pipeline_stages[${g}][description]`,placeholder:"Enter stage description",type:"text",id:"stage_description","onUpdate:modelValue":w=>o.description=w},null,8,kn),[[R,o.description]])])]),e("div",$n,[e("div",Cn,[Sn,e("div",Fn,[L(e("input",{type:"color",name:`pipeline_stages[${g}][color]`,id:"stage_color","onUpdate:modelValue":w=>o.color=w,style:{height:"30px"}},null,8,Nn),[[R,o.color]]),e("span",Ln,n(o.color),1)])])]),e("input",{type:"hidden",name:`pipeline_stages[${g}][id]`,value:o.id},null,8,Bn)])]))),128))]),_:1}))}},ae=(t,c)=>{const s=t.__vccOpts||t;for(const[l,u]of c)s[l]=u;return s},jn={class:"mb-3 position-relative d-flex flex-column align-items-center"},An={for:"body",class:"form-label align-self-start"},Mn=["name"],Dn={class:"placeholder-buttons bg-light"},Vn={class:"d-flex gap-1"},In={key:0,class:"invalid-feedback"},On={__name:"TextArea",props:{errorMessage:{type:String,required:!0},messageBody:{type:String},name:{type:String,required:!0}},setup(t){const c=t,s=y(""),l=y(null);J(()=>{s.value=c.messageBody});const u=(f,h)=>{f.preventDefault();const o=l.value,g=o.selectionStart,w=`[[${h}]]`;s.value=`${s.value.substring(0,g)} ${w}${s.value.substring(g)}`,o.focus()};return(f,h)=>(r(),m("div",jn,[e("label",An,n(f.$t("Message Body")),1),L(e("textarea",{ref_key:"textarea",ref:l,"onUpdate:modelValue":h[0]||(h[0]=o=>s.value=o),name:t.name,id:"body",class:q([{"is-invalid":t.errorMessage},"form-control"]),cols:"10",rows:"10"},`
         `,10,Mn),[[R,s.value]]),e("div",Dn,[e("span",null,n(f.$t("Add message placeholders"))+":",1),e("div",Vn,[e("button",{onClick:h[1]||(h[1]=o=>u(o,"firstname")),class:"btn btn-sm btn-info"},n(f.$t("Firstname")),1),e("button",{onClick:h[2]||(h[2]=o=>u(o,"lastname")),class:"btn btn-sm btn-info"},n(f.$t("Lastname")),1),e("button",{onClick:h[3]||(h[3]=o=>u(o,"email")),class:"btn btn-sm btn-info"},n(f.$t("Email")),1)])]),t.errorMessage?(r(),m("small",In,n(t.errorMessage),1)):D("",!0)]))}},Un=ae(On,[["__scopeId","data-v-0c41e744"]]),En={class:"mb-3"},zn={class:"d-block form-label"},Wn=["name","value"],Y={__name:"MultiSelectList",props:{selected:{type:Array},options:{type:Array,required:!0},name:{type:String},label:{type:String},placeholder:{type:String},labelBy:{type:String},trackBy:{type:String},syncTagsUrl:{type:String},modelId:{type:Number||String}},setup(t){const c=t,s=y([]);J(()=>{c.selected.length&&(s.value=c.selected)});function l(u,f){if(c.syncTagsUrl){let h=new FormData;h.append("modelId",c.modelId);for(let o=0;o<s.value.length;o++)h.append("tags[]",s.value[o].id);axios.post(c.syncTagsUrl,h,{headers:{"Content-Type":"application/json"}}).then(o=>{o.status===200&&window.notyf.open({type:"success",message:"Tags synced!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0})}).catch(o=>{console.log(o.message),o.response.status===422&&(errors.value=o.response.data.errors)})}}return(u,f)=>(r(),m("div",En,[e("span",zn,n(t.label),1),v(a(Ve),{modelValue:s.value,"onUpdate:modelValue":f[0]||(f[0]=h=>s.value=h),options:t.options,multiple:!0,"close-on-select":!1,placeholder:t.placeholder,label:t.labelBy,"track-by":t.trackBy,onRemove:l,onSelect:l},null,8,["modelValue","options","placeholder","label","track-by"]),(r(!0),m(A,null,V(s.value,h=>(r(),m("input",{type:"hidden",name:t.name,value:h.id,key:h.id},null,8,Wn))),128))]))}},Pn={for:"note",class:"form-label fw-bold"},Rn={class:"d-flex align-items-center"},qn=e("i",{class:"align-middle me-2 fas fa-fw fa-clipboard-list"},null,-1),Hn=["placeholder"],Zn={key:0,class:"invalid-feedback"},Jn=e("option",{value:"Note"},"Note",-1),Xn=e("option",{value:"Call Accepted"},"Call Accepted",-1),Gn=e("option",{value:"Call Declined"},"Call Declined",-1),Kn=e("option",{value:"Meeting"},"Meeting",-1),Yn=[Jn,Xn,Gn,Kn],Qn=["disabled"],el=e("hr",null,null,-1),tl={class:"notes-container"},sl={class:"d-flex flex-column"},ol={class:"mb-1"},al={key:0,style:{"font-size":"11px"}},nl={style:{"font-size":"11px"}},ll={class:"d-flex gap-1"},il=["onClick"],dl=e("i",{class:"align-middle me-2 fas fa-fw fa-trash text-danger"},null,-1),rl=[dl],Ce={__name:"Notes",props:{url:{type:String},deleteUrl:{type:String},fetchUrl:{type:String},leadId:{type:Number}},setup(t){const c=t,s=y([]),l=y(""),u=y("Note"),f=y({}),h=y(!1);J(()=>{o()});function o(){axios.get(c.fetchUrl,{params:{lead_id:c.leadId}}).then(p=>{p.status===200&&(s.value=[...p.data.leadNotes])}).catch(p=>{console.log(p.message)})}const g=()=>{h.value=!0;let p=new FormData;p.append("note",l.value),p.append("note_type",u.value),p.append("lead_id",c.leadId),axios.post(c.url,p,{headers:{"Content-Type":"application/json"}}).then(d=>{d.status===200&&(s.value=[...s.value,d.data.leadNote],l.value="",h.value=!1,f.value={},window.notyf.open({type:"success",message:"Note saved!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}))}).catch(d=>{console.log(d.message),d.response.status===422&&(f.value=d.response.data.errors,h.value=!1)})},w=p=>{axios.delete(c.deleteUrl.replace(":noteId",p)).then(d=>{d.status===200&&(s.value=s.value.filter(i=>i.id!==p),window.notyf.open({type:"success",message:"Note deleted!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}))}).catch(d=>{console.log(d.message),window.notyf.open({type:"danger",message:d.message,duration:"2500",ripple:!0,position:"bottom right",dismissible:!0})})},_=p=>Object.keys(p).length!==0,b=p=>{let d=new Date(p*1e3);return new Intl.DateTimeFormat("default",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}).format(d)};return(p,d)=>(r(),m(A,null,[e("form",{onSubmit:G(g,["prevent"]),id:"notes-form",ref:"notesForm"},[e("div",null,[e("label",Pn,[e("span",Rn,[qn,k(n(p.$t("Notes")),1)])]),L(e("textarea",{id:"note","onUpdate:modelValue":d[0]||(d[0]=i=>l.value=i),class:q(["form-control mb-2",{"is-invalid":_(f.value)}]),name:"note",placeholder:p.$t("Note")},null,10,Hn),[[R,l.value]]),f.value&&f.value.note?(r(),m("small",Zn,n(f.value.note[0]),1)):D("",!0),L(e("select",{name:"note_type","onUpdate:modelValue":d[1]||(d[1]=i=>u.value=i),id:"note_type",class:"form-select mt-2"},Yn,512),[[z,u.value]]),e("button",{type:"submit",class:"btn btn-success mt-2",disabled:h.value},"Add Note",8,Qn)])],544),el,e("div",tl,[(r(!0),m(A,null,V(s.value,i=>(r(),m("div",{key:i.id,class:"note mb-3"},[e("div",sl,[e("p",ol,n(i.note),1),e("span",{class:q(i.type=="Call Declined"?"text-danger":"text-success")},n(i.type),3),i.user?(r(),m("span",al,[e("em",null,[e("strong",null,n(i.user.full_name),1)])])):D("",!0),e("span",nl,[e("strong",null,[e("em",null,n(b(i.created_at)),1)])])]),e("div",ll,[e("span",{class:"delete-icon",onClick:S=>w(i.id)},rl,8,il)])]))),128))])],64))}},cl={for:"note",class:"form-label fw-bold"},ul={class:"d-flex align-items-center"},pl=e("i",{class:"align-middle me-2 fas fa-fw fa-clipboard-list"},null,-1),hl={class:"form-group mb-3"},ml=e("label",{for:"start_date"},"Typ",-1),gl=e("option",{value:"Call"},"Call",-1),fl=e("option",{value:"Meeting"},"Meeting",-1),_l=e("option",{value:"E-Mail"},"E-Mail",-1),vl=e("option",{value:"Task"},"Task",-1),bl=[gl,fl,_l,vl],yl={class:"form-group mb-3"},wl=e("label",{for:"start_date"},"Start Datum",-1),xl={key:0,class:"invalid-feedback"},kl={class:"form-group mb-3"},$l=e("label",{for:"end_date"},"Ende Datum",-1),Cl={class:"form-group"},Sl=e("label",{for:"start_date"},"Beschreibung",-1),Fl={key:0,class:"invalid-feedback"},Nl=["disabled"],Ll=e("hr",null,null,-1),Bl={class:"d-flex flex-column"},Tl={class:"d-flex flex-column"},jl={class:"mb-1"},Al={key:0,style:{"font-size":"11px"}},Ml={style:{"font-size":"11px"}},Dl={class:"d-flex gap-1"},Vl=["onClick"],Il=e("i",{class:"align-middle me-2 fas fa-fw fa-trash text-danger"},null,-1),Ol=[Il],Se={__name:"Activities",props:{url:{type:String},fetchUrl:{type:String},deleteUrl:{type:String},leadId:{type:Number},leadActivities:{type:Array}},setup(t){const c=t,s=y([]),l=y(""),u=y("Call"),f=y(new Date(new Date().getTime()+24*60*60*1e3).toISOString().slice(0,16).slice(0,11)+"00:00"),h=y(""),o=y({}),g=y(!1);J(()=>{w()});function w(){axios.get(c.fetchUrl,{params:{lead_id:c.leadId}}).then(d=>{d.status===200&&(s.value=[...d.data.leadActivities])}).catch(d=>{console.log(d.message)})}const _=()=>{g.value=!0;let d=new FormData;d.append("description",l.value),d.append("activity_type",u.value),d.append("activity_start_date",f.value),d.append("activity_end_date",h.value),d.append("lead_id",c.leadId),axios.post(c.url,d,{headers:{"Content-Type":"application/json"}}).then(i=>{i.status===200&&(s.value=[...s.value,i.data.leadActivity],l.value="",g.value=!1,o.value={},window.notyf.open({type:"success",message:"Activity saved!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}))}).catch(i=>{i.response.status===422&&(o.value=i.response.data.errors,console.log(i.response.data.errors),g.value=!1)})},b=d=>{axios.delete(c.deleteUrl.replace(":activityId",d)).then(i=>{i.status===200&&(s.value=s.value.filter(S=>S.id!==d),window.notyf.open({type:"success",message:"Activity deleted!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}))}).catch(i=>{console.log(i.message),window.notyf.open({type:"danger",message:i.message,duration:"2500",ripple:!0,position:"bottom right",dismissible:!0})})};function p(d){const i=new Date(d);let S=i.getUTCDate().toString().padStart(2,"0"),M=(i.getUTCMonth()+1).toString().padStart(2,"0"),T=i.getUTCFullYear(),P=i.getUTCHours().toString().padStart(2,"0"),se=i.getUTCMinutes().toString().padStart(2,"0");return`${S}.${M}.${T} ${P}:${se}`}return(d,i)=>{var S,M;return r(),m(A,null,[e("form",{onSubmit:G(_,["prevent"]),id:"activities-form",ref:"activitiesForm"},[e("div",null,[e("label",cl,[e("span",ul,[pl,k(n(d.$t("Activities")),1)])]),e("div",hl,[ml,L(e("select",{name:"activity_type","onUpdate:modelValue":i[0]||(i[0]=T=>u.value=T),id:"note_type",class:"form-select mt-2"},bl,512),[[z,u.value]])]),e("div",yl,[wl,L(e("input",{type:"datetime-local",class:q(["form-control",{"is-invalid":(S=o.value)==null?void 0:S.activity_start_date}]),id:"activity_start_date","onUpdate:modelValue":i[1]||(i[1]=T=>f.value=T)},null,2),[[R,f.value]]),o.value&&o.value.activity_start_date?(r(),m("small",xl,n(o.value.activity_start_date[0]),1)):D("",!0)]),e("div",kl,[$l,L(e("input",{type:"datetime-local",class:"form-control",id:"activity_end_date","onUpdate:modelValue":i[2]||(i[2]=T=>h.value=T)},null,512),[[R,h.value]])]),e("div",Cl,[Sl,L(e("textarea",{id:"activity","onUpdate:modelValue":i[3]||(i[3]=T=>l.value=T),class:q(["form-control",{"is-invalid":(M=o.value)==null?void 0:M.description}]),name:"activity"},null,2),[[R,l.value]]),o.value&&o.value.description?(r(),m("small",Fl,n(o.value.description[0]),1)):D("",!0)]),e("button",{type:"submit",class:"btn btn-success mt-2",disabled:g.value},"Add Activity",8,Nl)])],544),Ll,e("div",Bl,[(r(!0),m(A,null,V(s.value,T=>(r(),m("div",{key:T.id,class:"note mb-3"},[e("div",Tl,[e("p",jl,n(T.description),1),e("span",null,n(T.type),1),T.user?(r(),m("span",Al,[e("em",null,[e("strong",null,n(T.user.full_name),1)])])):D("",!0),e("span",Ml,[k("Start Datum: "),e("strong",null,[e("em",null,n(p(T.start_date)),1)])])]),e("div",Dl,[e("span",{class:"delete-icon",onClick:P=>b(T.id)},Ol,8,Vl)])]))),128))])],64)}}},Ul={props:["chartData","chartType"],mounted(){this.createChart()},methods:{createChart(){const t=this.$refs.chart.getContext("2d");new Ie(t,{type:this.chartType,data:{labels:this.chartData.labels,datasets:[{label:"Opens",data:this.chartData.opens,fill:this.chartType==="line",backgroundColor:this.chartType==="bar"?"#3B82EC":"transparent",borderColor:"#3B82EC",tension:this.chartType==="line"?.4:0},{label:"Clicks",data:this.chartData.clicks,fill:this.chartType==="line",backgroundColor:this.chartType==="bar"?"#E8EAED":"transparent",borderColor:"#E8EAED",borderDash:this.chartType==="line"?[4,4]:[],tension:this.chartType==="line"?.4:0}]},options:{maintainAspectRatio:!1,plugins:{legend:{display:!0},tooltip:{intersect:!1},filler:{propagate:!1}},interaction:{intersect:!0},scales:{x:{grid:{color:"rgba(0,0,0,0.05)"},ticks:{maxTicksLimit:15}},y:{ticks:{stepSize:500},display:!0,grid:{color:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",tickColor:"#fff"},borderDash:[5,5]}}}})}}},El={ref:"chart",width:"749",height:"350"};function zl(t,c,s,l,u,f){return r(),m("div",null,[e("canvas",El,null,512)])}const Wl=ae(Ul,[["render",zl]]);function Pl(t,c){const s=y([]),l=y(20),u=C(()=>t.stage&&t.stage.color?{"border-top":`8px solid ${t.stage.color}`}:{}),f=C(()=>t.stage&&t.stage.name?`${t.stage.name} (${t.leadsCount[t.stage.id]})`:`${c("Leads")} (${t.leadsCount})`),h=C(()=>{const b=Object.keys(t.stage).length===0?"leads":`stage-${t.stage.id}`,p=Object.keys(t.stage).length!==0?t.stage.id:0;return{id:b,dataStageId:p}}),o=C(()=>Object.keys(t.stage).length===0?t.leads:t.leads[t.stage.id]),g=C(()=>(s.value.length>0?s.value:o.value).slice(0,l.value));return{cardStyle:u,stageTitle:f,stageIdAttributes:h,getLeads:g,loadMoreLeads:()=>{console.log("load more leads"),l.value+=10},handleSearch:async b=>{const p=t.campaign.id,d=t.campaign.pipeline.id,i=t.stage.id||0,S=b.target.value.toLowerCase();try{const{data:{searchResults:M}}=await Q.get(`/sales/campaign/${p}/pipeline/${d}/stage/${i}/search`,{params:{query:S}});s.value=M}catch(M){console.error("Error fetching data:",M)}}}}const Rl=["width","height"],ql=e("circle",{cx:"11",cy:"11",r:"8"},null,-1),Hl=e("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},null,-1),Zl=[ql,Hl],Jl={__name:"Search",props:{width:{type:Number,default:15},height:{type:Number,default:15}},setup(t){return(c,s)=>(r(),m("svg",{width:t.width,height:t.height,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},Zl,8,Rl))}},Xl={class:"mb-3"},Gl={for:"from_email",class:"form-label"},Kl={value:"",selected:""},Yl=["value"],Ql={key:0,class:"invalid-feedback"},ei={class:"mb-3"},ti={for:"subject",class:"form-label"},si=["placeholder"],oi={key:0,class:"invalid-feedback"},ai={class:"mb-3"},ni={for:"body",class:"form-label"},li={key:0,class:"invalid-feedback"},ii={class:"my-3"},di=["disabled"],ri={class:"d-flex align-items-center justify-content-center"},ci={key:0,class:"spinner spinner-border spinner-border-sm text-light me-2",role:"status"},ui=e("span",{class:"visually-hidden"},"Loading...",-1),pi=[ui],hi={__name:"SendEmailForm",props:{leadId:{type:Number,required:!0}},setup(t){const c=t,s=y(null),l=y({}),u=y(!1),{emails:f,route:{messages:h}}=ee("data"),o=()=>{let g=new FormData(s.value);u.value=!0,axios.post(h.send.replace(":leadId",c.leadId),g,{headers:{"Content-Type":"application/json"}}).then(w=>{w.status===200&&(u.value=!1,l.value={},window.notyf.open({type:"success",message:w.data.message,duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}),s.value.reset())}).catch(w=>{w.response.status===422&&(l.value=w.response.data.errors,u.value=!1)})};return(g,w)=>{var _,b,p;return r(),m("form",{onSubmit:G(o,["prevent"]),ref_key:"form",ref:s},[e("div",Xl,[e("label",Gl,n(g.$t("From")),1),e("select",{id:"from_email",name:"from_email",class:q(["form-control",{"is-invalid":(_=l.value)==null?void 0:_.from_email}])},[e("option",Kl,n(g.$t("Select")),1),(r(!0),m(A,null,V(a(f),(d,i)=>(r(),m("option",{value:i,key:i},n(d),9,Yl))),128))],2),l.value&&l.value.from_email?(r(),m("small",Ql,n(l.value.from_email[0]),1)):D("",!0)]),e("div",ei,[e("label",ti,n(g.$t("Subject")),1),e("input",{type:"text",name:"subject",class:q(["form-control",{"is-invalid":(b=l.value)==null?void 0:b.subject}]),id:"subject",placeholder:g.$t("Enter subject")},null,10,si),l.value&&l.value.subject?(r(),m("small",oi,n(l.value.subject[0]),1)):D("",!0)]),e("div",ai,[e("label",ni,n(g.$t("Message")),1),e("textarea",{name:"body",id:"body",class:q(["form-control",{"is-invalid":(p=l.value)==null?void 0:p.body}]),rows:"4"},null,2),l.value&&l.value.body?(r(),m("small",li,n(l.value.body[0]),1)):D("",!0)]),e("div",ii,[e("button",{type:"submit",class:"btn btn-success me-2 w-100",disabled:u.value},[e("span",ri,[u.value?(r(),m("span",ci,pi)):D("",!0),k(n(g.$t("Send Message")),1)])],8,di)])],544)}}},K=t=>(Ee("data-v-7324935c"),t=t(),ze(),t),mi={class:"offcanvas-header bg-light border-bottom"},gi={class:"offcanvas-title",id:"offcanvasRightLabel"},fi={class:"d-flex align-items-center"},_i=K(()=>e("svg",{class:"me-2 flex-shrink-0",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),vi={class:"nav nav-tabs",id:"lead-tabs",role:"tablist",style:{"font-size":"12px"}},bi={class:"nav-item",role:"presentation"},yi={class:"nav-link active text-uppercase btn-tab",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile-tab-pane",type:"button",role:"tab","aria-controls":"profile-tab-pane","aria-selected":"true"},wi={class:"nav-item",role:"presentation"},xi={class:"nav-link text-uppercase btn-tab",id:"notes-tab","data-bs-toggle":"tab","data-bs-target":"#notes-tab-pane",type:"button",role:"tab","aria-controls":"notes-tab-pane","aria-selected":"false"},ki={class:"nav-item",role:"presentation"},$i={class:"nav-link text-uppercase btn-tab",id:"activities-tab","data-bs-toggle":"tab","data-bs-target":"#activities-tab-pane",type:"button",role:"tab","aria-controls":"activities-tab-pane","aria-selected":"false"},Ci={class:"nav-item",role:"presentation"},Si={class:"nav-link text-uppercase btn-tab",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#message-tab-pane",type:"button",role:"tab","aria-controls":"message-tab-pane","aria-selected":"false"},Fi={class:"tab-content",id:"myTabContent",style:{"overflow-y":"auto"}},Ni={class:"tab-pane fade show active",id:"profile-tab-pane",role:"tabpanel","aria-labelledby":"profile-tab",tabindex:"0"},Li={class:"offcanvas-body"},Bi={class:"row mb-4 data-list"},Ti={class:"col-4 col-xxl-3 mb-0"},ji={class:"col-8 col-xxl-9 mb-0"},Ai={class:"mb-1"},Mi={class:"col-4 col-xxl-3 mb-0"},Di={class:"col-8 col-xxl-9 mb-0"},Vi={class:"mb-1"},Ii={class:"col-4 col-xxl-3 mb-0"},Oi={class:"col-8 col-xxl-9 mb-0"},Ui={class:"mb-1"},Ei={class:"col-4 col-xxl-3 mb-0"},zi={class:"col-8 col-xxl-9 mb-0"},Wi={class:"mb-1"},Pi={class:"col-4 col-xxl-3 mb-0"},Ri={class:"col-8 col-xxl-9 mb-0"},qi={class:"mb-1"},Hi={class:"col-4 col-xxl-3 mb-0"},Zi={class:"col-8 col-xxl-9 mb-0"},Ji={class:"mb-1"},Xi={class:"col-4 col-xxl-3 mb-0"},Gi={class:"col-8 col-xxl-9 mb-0"},Ki={class:"mb-1"},Yi={class:"col-4 col-xxl-3 mb-0"},Qi={class:"col-8 col-xxl-9 mb-0"},ed={class:"mb-1"},td={class:"col-4 col-xxl-3 mb-0"},sd={class:"col-8 col-xxl-9 mb-0"},od={class:"mb-1"},ad={class:"col-4 col-xxl-3 mb-0"},nd={class:"col-8 col-xxl-9 mb-0"},ld={class:"mb-1"},id={class:"col-4 col-xxl-3 mb-0"},dd={class:"col-8 col-xxl-9 mb-0"},rd={class:"mb-1"},cd={class:"col-4 col-xxl-3 mb-0"},ud={class:"col-8 col-xxl-9 mb-0"},pd={class:"mb-1"},hd={class:"col-4 col-xxl-3 mb-0"},md={class:"col-8 col-xxl-9 mb-0"},gd={class:"mb-1"},fd={class:"col-4 col-xxl-3 mb-0"},_d={class:"col-8 col-xxl-9 mb-0"},vd={class:"mb-1"},bd={key:0,class:"col-4 col-xxl-3 mb-0"},yd={key:1,class:"col-8 col-xxl-9 mb-0"},wd={class:"mb-1"},xd=["href"],kd={class:"mb-4"},$d={class:"d-flex fw-bold align-items-center mb-2"},Cd=K(()=>e("svg",{class:"me-2",width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.25 2.25a3 3 0 00-3 3v4.318a3 3 0 00.879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 005.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 00-2.122-.879H5.25zM6.375 7.5a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z","clip-rule":"evenodd"})],-1)),Sd={class:"mb-4"},Fd={class:"d-flex fw-bold align-items-center mb-2"},Nd=K(()=>e("svg",{class:"me-2",width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.25 2.25a3 3 0 00-3 3v4.318a3 3 0 00.879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 005.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 00-2.122-.879H5.25zM6.375 7.5a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z","clip-rule":"evenodd"})],-1)),Ld={class:"mb-4"},Bd={class:"d-flex fw-bold align-items-center mb-2"},Td=K(()=>e("svg",{class:"me-2",width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.25 2.25a3 3 0 00-3 3v4.318a3 3 0 00.879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 005.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 00-2.122-.879H5.25zM6.375 7.5a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z","clip-rule":"evenodd"})],-1)),jd=K(()=>e("div",{style:{height:"50px","margin-bottom":"50px"}},null,-1)),Ad={class:"tab-pane fade",id:"notes-tab-pane",role:"tabpanel","aria-labelledby":"notes-tab",tabindex:"0"},Md={class:"offcanvas-body"},Dd={class:"tab-pane fade",id:"activities-tab-pane",role:"tabpanel","aria-labelledby":"activities-tab",tabindex:"0"},Vd={class:"offcanvas-body"},Id={class:"tab-pane fade",id:"message-tab-pane",role:"tabpanel","aria-labelledby":"message-tab",tabindex:"0"},Od={class:"offcanvas-body"},Ud={__name:"OffCanvas",props:{modelValue:{type:Boolean,default:!1},lead:{type:Object,required:!0},routes:{type:Object,required:!0},tags:{type:Array,required:!0},lists:{type:Array,required:!0}},emits:["update:modelValue"],setup(t,{emit:c}){const s=t,l=c,u=y(null);J(()=>{const o=document.getElementById("offcanvasRight");new bootstrap.Offcanvas(o).show()}),Oe(()=>{const o=document.getElementById("offcanvasRight"),g=new bootstrap.Offcanvas(o);u.value.addEventListener("hidden.bs.offcanvas",()=>{l("update:modelValue",!1)}),g.hide()}),Ue(u,()=>{l("update:modelValue",!1)});const f=C(()=>{var o,g;return`${((o=s.lead.contact)==null?void 0:o.firstname)??""} ${((g=s.lead.contact)==null?void 0:g.lastname)??""}`}),h=ee("data");return(o,g)=>t.modelValue?(r(),m("div",{key:0,ref_key:"offCanvasRef",ref:u,class:"offcanvas offcanvas-end",tabindex:"-1",id:"offcanvasRight","aria-labelledby":"offcanvasRightLabel"},[e("div",mi,[e("h5",gi,[e("span",fi,[_i,k(" "+n(o.$t("User"))+": "+n(f.value),1)])]),e("button",{onClick:g[0]||(g[0]=w=>l("update:modelValue",!1)),type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})]),e("ul",vi,[e("li",bi,[e("button",yi,n(o.$t("Profile")),1)]),e("li",wi,[e("button",xi,n(o.$t("Notes")),1)]),e("li",ki,[e("button",$i,n(o.$t("Activities")),1)]),e("li",Ci,[e("button",Si,n(o.$t("Send E-Mail")),1)])]),e("div",Fi,[e("div",Ni,[e("div",Li,[e("dl",Bi,[e("dt",Ti,[e("strong",null,n(o.$t("User ID"))+":",1)]),e("dd",ji,[e("p",Ai,n(t.lead.contact.id),1)]),e("dt",Mi,[e("strong",null,n(o.$t("Firstname"))+":",1)]),e("dd",Di,[e("p",Vi,n(t.lead.contact.firstname),1)]),e("dt",Ii,[e("strong",null,n(o.$t("Lastname"))+":",1)]),e("dd",Oi,[e("p",Ui,n(t.lead.contact.lastname),1)]),e("dt",Ei,[e("strong",null,n(o.$t("Job title"))+":",1)]),e("dd",zi,[e("p",Wi,n(t.lead.contact.job_title),1)]),e("dt",Pi,[e("strong",null,n(o.$t("Email"))+":",1)]),e("dd",Ri,[e("p",qi,n(t.lead.contact.email),1)]),e("dt",Hi,[e("strong",null,n(o.$t("Phone"))+":",1)]),e("dd",Zi,[e("p",Ji,n(t.lead.contact.phone),1)]),e("dt",Xi,[e("strong",null,n(o.$t("Company"))+":",1)]),e("dd",Gi,[e("p",Ki,n(t.lead.contact.company_name),1)]),e("dt",Yi,[e("strong",null,n(o.$t("VAT"))+":",1)]),e("dd",Qi,[e("p",ed,n(t.lead.contact.vat),1)]),e("dt",td,[e("strong",null,n(o.$t("Contact"))+":",1)]),e("dd",sd,[e("p",od,n(t.lead.contact.company_email),1)]),e("dt",ad,[e("strong",null,n(o.$t("Website"))+":",1)]),e("dd",nd,[e("p",ld,n(t.lead.contact.url),1)]),e("dt",id,[e("strong",null,n(o.$t("Address"))+":",1)]),e("dd",dd,[e("p",rd,n(t.lead.contact.address),1)]),e("dt",cd,[e("strong",null,n(o.$t("ZIP"))+":",1)]),e("dd",ud,[e("p",pd,n(t.lead.contact.postal),1)]),e("dt",hd,[e("strong",null,n(o.$t("City"))+":",1)]),e("dd",md,[e("p",gd,n(t.lead.contact.city),1)]),e("dt",fd,[e("strong",null,n(o.$t("Country"))+":",1)]),e("dd",_d,[e("p",vd,n(t.lead.contact.country),1)]),t.lead.contact.external_profile_url?(r(),m("dt",bd,[e("strong",null,n(o.$t("Profile"))+" URL:",1)])):D("",!0),t.lead.contact.external_profile_url?(r(),m("dd",yd,[e("p",wd,[e("a",{href:t.lead.contact.external_profile_url,target:"_blank"},n(t.lead.contact.external_profile_url),9,xd)])])):D("",!0)]),e("div",kd,[e("span",$d,[Cd,k(n(o.$t("Contact Tags")),1)]),(r(),E(Y,{name:"tags[]",label:"Add tag to contact",placeholder:"Choose tags...","label-by":"name","track-by":"name","sync-tags-url":a(h).route.contacts.syncTags.replace(":contactId",t.lead.contact.id),"model-id":t.lead.contact.id,selected:t.lead.contact.tags??[],options:t.tags??[],key:t.lead.contact.id},null,8,["sync-tags-url","model-id","selected","options"]))]),e("div",Sd,[e("span",Fd,[Nd,k(n(o.$t("Lists")),1)]),(r(),E(Y,{name:"tags[]",label:"Add to Lists",placeholder:"Choose list...","label-by":"name","track-by":"name","sync-tags-url":a(h).route.contacts.syncLists.replace(":contactId",t.lead.contact.id),"model-id":t.lead.contact.id,selected:t.lead.contact.lists??[],options:t.lists??[],key:t.lead.contact.id},null,8,["sync-tags-url","model-id","selected","options"]))]),e("div",Ld,[e("span",Bd,[Td,k(n(o.$t("Lead Tags")),1)]),(r(),E(Y,{name:"tags[]",label:"Add tag to lead",placeholder:"Choose tags...","label-by":"name","track-by":"name","sync-tags-url":a(h).route.leads.syncTags.replace(":contactId",t.lead.contact.id),"model-id":t.lead.id,selected:t.lead.tags??[],options:t.tags??[],key:t.lead.id},null,8,["sync-tags-url","model-id","selected","options"]))]),jd])]),e("div",Ad,[e("div",Md,[(r(),E(Ce,{"lead-id":t.lead.id,"fetch-url":a(h).route.notes.fetch.replace(":leadId",t.lead.id),url:a(h).route.notes.store.replace(":leadId",t.lead.id),"delete-url":a(h).route.notes.delete.replace(":leadId",t.lead.id),key:t.lead.id},null,8,["lead-id","fetch-url","url","delete-url"]))])]),e("div",Dd,[e("div",Vd,[(r(),E(Se,{"lead-id":t.lead.id,"fetch-url":a(h).route.activities.fetch.replace(":leadId",t.lead.id),url:a(h).route.activities.store.replace(":leadId",t.lead.id),"delete-url":a(h).route.activities.delete.replace(":leadId",t.lead.id),key:t.lead.id},null,8,["lead-id","fetch-url","url","delete-url"]))])]),e("div",Id,[e("div",Od,[v(hi,{"lead-id":t.lead.id},null,8,["lead-id"])])])])],512)):D("",!0)}},Ed=ae(Ud,[["__scopeId","data-v-7324935c"]]),zd={width:"26",height:"26",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",style:{"pointer-events":"none"}},Wd=e("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z","clip-rule":"evenodd"},null,-1),Pd=[Wd],Rd={__name:"LeadDetails",props:{leadId:{type:Number,required:!0},campaignId:{type:Number,required:!0}},setup(t){const c=t,s=y(!1),l=y(null),u=y([]),f=y([]);async function h(){try{const g=await axios.get(`/sales/campaign/${c.campaignId}/lead/${c.leadId}`);l.value=g.data.lead,u.value=JSON.parse(g.data.tags),f.value=JSON.parse(g.data.lists)}catch(g){console.error(g)}}const o=async()=>{await h(),s.value=!0};return(g,w)=>(r(),m("div",null,[e("span",{onClick:o,class:"info-icon","aria-controls":"offcanvasRight"},[(r(),m("svg",zd,Pd))]),s.value?(r(),E(Ed,{key:0,modelValue:s.value,"onUpdate:modelValue":w[0]||(w[0]=_=>s.value=_),lead:l.value,tags:u.value,lists:f.value,routes:[]},null,8,["modelValue","lead","tags","lists"])):D("",!0)]))}},qd=["width","height"],Hd=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),Zd=[Hd],Jd={__name:"User",props:{width:{type:Number,default:20},height:{type:Number,default:20}},setup(t){return(c,s)=>(r(),m("svg",{width:t.width,height:t.height,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Zd,8,qd))}},Xd=["width","height"],Gd=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"},null,-1),Kd=[Gd],Yd={__name:"Mail",props:{width:{type:Number,default:18},height:{type:Number,default:18}},setup(t){return(c,s)=>(r(),m("svg",{width:t.width,height:t.height,fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Kd,8,Xd))}},Qd=["width","height"],er=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"},null,-1),tr=[er],re={__name:"Phone",props:{width:{type:Number,default:18},height:{type:Number,default:18}},setup(t){return(c,s)=>(r(),m("svg",{width:t.width,height:t.height,fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},tr,8,Qd))}},sr=["width","height"],or=e("path",{"fill-rule":"evenodd",d:"M5.25 2.25a3 3 0 00-3 3v4.318a3 3 0 00.879 2.121l9.58 9.581c.92.92 2.39 1.186 3.548.428a18.849 18.849 0 005.441-5.44c.758-1.16.492-2.629-.428-3.548l-9.58-9.581a3 3 0 00-2.122-.879H5.25zM6.375 7.5a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z","clip-rule":"evenodd"},null,-1),ar=[or],nr={__name:"Tag",props:{width:{type:Number,default:18},height:{type:Number,default:18}},setup(t){return(c,s)=>(r(),m("svg",{width:t.width,height:t.height,viewBox:"0 0 24 24",fill:"currentColor"},ar,8,sr))}},lr=["data-lead-id"],ir={class:"drag-handle",style:{display:"inline-block",width:"20px",cursor:"grab","margin-bottom":"5px"}},dr={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-move align-middle",style:{"pointer-events":"none"}},rr=B('<polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line>',6),cr=[rr],ur={class:"d-flex align-items-center"},pr={class:"ms-2 lead-name"},hr=["href"],mr={class:"d-flex align-items-center"},gr={class:"ms-2 lead-email"},fr={class:"d-flex align-items-center"},_r={class:"ms-2"},vr={key:0,class:"d-flex align-items-center"},br={class:"list-unstyled d-flex flex-wrap m-0",style:{gap:"2px 3px"}},yr={key:1,class:"d-flex align-items-center"},wr={class:"ms-2"},xr={__name:"LeadItem",props:{lead:{type:Object,required:!0},campaign:{type:Object,required:!0}},setup(t){const c=t,s=C(()=>{var o,g;const u=(g=(o=c.lead)==null?void 0:o.next_call_activity)==null?void 0:g.start_date;if(!u)return null;const f=new Date(u);return new Intl.DateTimeFormat("de-DE",{day:"numeric",month:"2-digit",year:"numeric",hour:"numeric",minute:"numeric"}).format(f)}),l=ee("data");return(u,f)=>{var h,o,g,w,_,b;return r(),m("div",{class:"lead-item card mb-3 p-2 bg-light border gap-1","data-lead-id":t.lead.id},[e("span",ir,[(r(),m("svg",dr,cr))]),e("div",ur,[v(Jd,{class:"flex-shrink-0"}),e("span",pr,[e("a",{target:"_blank",href:a(l).route.contacts.edit.replace(":contactId",t.lead.contact.id)},n((h=t.lead.contact)==null?void 0:h.firstname)+" "+n((o=t.lead.contact)==null?void 0:o.lastname),9,hr)])]),e("div",mr,[v(Yd),e("span",gr,n((g=t.lead.contact)==null?void 0:g.email),1)]),e("div",fr,[v(re),e("span",_r,n((w=t.lead.contact)==null?void 0:w.phone),1)]),((_=t.lead.contact)==null?void 0:_.tags.length)>0||((b=t.lead)==null?void 0:b.tags.length)>0?(r(),m("div",vr,[v(nr,{class:"me-2 flex-shrink-0"}),e("ul",br,[(r(!0),m(A,null,V(t.lead.contact.tags,p=>(r(),m("li",{key:p.id,class:"badge rounded-pill bg-info fw-light"},n(p.name),1))),128)),(r(!0),m(A,null,V(t.lead.tags,p=>(r(),m("li",{key:p.id,class:"badge rounded-pill bg-info fw-light"},n(p.name),1))),128))])])):D("",!0),t.lead.next_call_activity?(r(),m("div",yr,[v(re),e("span",wr,n(s.value),1)])):D("",!0),(r(),E(Rd,{"lead-id":t.lead.id,"campaign-id":t.campaign.id,key:t.lead.contact.id},null,8,["lead-id","campaign-id"]))],8,lr)}}},kr={class:"campaign-card"},$r={class:"card-header"},Cr={key:0,class:"card-actions float-end"},Sr={class:"dropdown position-relative"},Fr=B('<a href="#" data-bs-toggle="dropdown" data-bs-display="static"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-horizontal align-middle"><circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle></svg></a>',1),Nr={class:"dropdown-menu dropdown-menu-end"},Lr=["href"],Br={class:"card-title"},Tr={key:1,class:"card-subtitle text-muted mb-2"},jr={class:"input-group"},Ar={class:"input-group-text"},Mr=["id","data-stage-id"],Dr=e("div",{class:"card mb-3 px-2 py-4 cursor-grab border-dashed align-items-center"},[e("span",{style:{"font-size":"10px"}},[e("i",null,"Drag / drop area")])],-1),ce={__name:"LeadList",props:{campaign:{type:Object,required:!0},leadsCount:{type:[Number,Object],required:!0},leads:{type:[Array,Object],required:!1,default:[]},stage:{type:Object,required:!1,default:{}}},setup(t){const c=t,{t:s}=We(),{cardStyle:l,stageTitle:u,stageIdAttributes:f,getLeads:h,loadMoreLeads:o,handleSearch:g}=Pl(c,s),{route:{list:w}}=ee("data");y(null);const _=y(null);return Pe(_,()=>{o()},{distance:20,direction:"bottom",canLoadMore:()=>Object.keys(c.stage).length===0?h.value.length<c.leadsCount:h.value.length<c.leadsCount[c.stage.id]}),(b,p)=>(r(),m("div",kr,[e("div",{class:"card",style:F(a(l))},[e("div",$r,[Object.keys(c.stage).length!==0?(r(),m("div",Cr,[e("div",Sr,[Fr,e("div",Nr,[e("a",{href:a(w).newList.replace(":stageId",t.stage.id),class:"dropdown-item"},n(b.$t("Create New List")),9,Lr)])])])):D("",!0),e("h5",Br,n(a(u)),1),t.stage.description?(r(),m("h6",Tr,n(t.stage.description),1)):D("",!0),e("div",jr,[e("span",Ar,[v(Jl)]),e("input",{class:"form-control lead-search",id:"",type:"search",name:"lead-search",placeholder:"Search leads by name or email...",onInput:p[0]||(p[0]=(...d)=>a(g)&&a(g)(...d))},null,32)])]),e("div",{class:"card-body scroll",ref_key:"scrollContainer",ref:_},[e("div",{id:a(f).id,"data-stage-id":a(f).dataStageId},[(r(!0),m(A,null,V(a(h),d=>(r(),E(xr,{key:d.id,lead:d,campaign:t.campaign},null,8,["lead","campaign"]))),128)),Dr],8,Mr)],512)],4)]))}},Vr=["data-pipeline-id"],Ir={__name:"LeadCampaign",props:{campaign:{type:Object,required:!0},initialLeadsCount:{type:Number,required:!0},initialLeads:{type:Array,required:!0},leadsCount:{type:Object,required:!0},stages:{type:Array,required:!0},leads:{type:Object,required:!0},routes:{type:Object,required:!1},emails:{type:Object,required:!1}},setup(t){const c=t,s=Re({route:c.routes,emails:c.emails});return qe("data",s),(l,u)=>(r(),E(O,{appear:""},{default:x(()=>[e("div",{class:"row",style:{"flex-wrap":"unset"},id:"pipeline","data-pipeline-id":t.campaign.pipeline_id},[(r(),E(ce,{campaign:t.campaign,"leads-count":t.initialLeadsCount,leads:t.initialLeads,key:0},null,8,["campaign","leads-count","leads"])),(r(!0),m(A,null,V(t.stages,f=>(r(),E(ce,{key:f.id,"leads-count":t.leadsCount,campaign:t.campaign,stage:f,leads:t.leads},null,8,["leads-count","campaign","stage","leads"]))),128))],8,Vr)]),_:1}))}};document.addEventListener("DOMContentLoaded",()=>{if(document.getElementsByClassName("js-simplebar")[0]){new He(document.getElementsByClassName("js-simplebar")[0]);const c=document.getElementsByClassName("sidebar")[0];document.getElementsByClassName("sidebar-toggle")[0].addEventListener("click",()=>{c.classList.toggle("collapsed"),c.addEventListener("transitionend",()=>{window.dispatchEvent(new Event("resize"))})})}});document.addEventListener("DOMContentLoaded",()=>{he.replace()});window.feather=he;window.notyf=new Ze({duration:5e3,position:{x:"right",y:"top"},types:[{type:"default",backgroundColor:"#3B7DDD",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"info-bsha",backgroundColor:"#495e69",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"success",backgroundColor:"#28a745",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"warning",backgroundColor:"#ffc107",icon:{className:"notyf__icon--error",tagName:"i"}},{type:"danger",backgroundColor:"#dc3545",icon:{className:"notyf__icon--error",tagName:"i"}}]});window.dragula=Je;window.jQuery=window.$=Xe;const Or={de:Dt},Fe=Ge({locale:"de",fallbackLocale:"en",messages:Or});Fe.global.locale=document.documentElement.lang.substring(0,2);const Ur=Qe(),te=Ke({components:{WorkFlow:en,ShowWorkFlow:dn,PipelineStageRepeater:Tn,TextArea:Un,MultiSelectList:Y,Notes:Ce,Activities:Se,OpenClicksChart:Wl,LeadCampaign:Ir}});te.config.globalProperties.emitter=Ur;te.config.compilerOptions.whitespace="preserve";te.use(Fe);document.querySelector("#app")!==null&&te.mount("#app");window.DataTable=Ye;
