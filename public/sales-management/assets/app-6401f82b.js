import{a as z,o as r,c,b as e,d as N,e as F,r as b,f as x,u as M,g as h,w as g,T as be,h as S,F as T,i as L,j as t,t as f,v as A,k as y,D,n as v,Y as k,m as $,_ as Y,l as ve,p as ke,E as Z,q as H,s as $e,x as W,y as U,z as Fe,A as Se,B as X,C as R,G as K,H as Q,I as Ce,J as Be,S as Te,K as J,N as Ne,L as Le,$ as Me,M as Ae,O as De,P as je,Q as Ve}from"./vendor-5106aa7c.js";let Ee=document.head.querySelector('meta[name="csrf-token"]').content;z.defaults.headers.common["X-CSRF-TOKEN"]=Ee;z.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.axios=z;const We="Dashboard",Oe="List",Ue="Edit",He="Delete",Re="Remove",ze="Name",Ie="Description",qe="Count",Pe="Speichern",Ge="Stornieren",Xe="Vorname",Ye="Nachname",Ze="Email",Ke="Zurück",Qe="USt-ID",Je="Notes",et="Note",tt={"Good day":"Guten Tag",Dashboard:We,"All Lists":"All Lists",List:Oe,Edit:Ue,Delete:He,Remove:Re,Name:ze,Description:Ie,Count:qe,Save:Pe,Cancel:Ge,"Message Body":"Nachrichtentext",Firstname:Xe,Lastname:Ye,"Add message placeholders":"Nachrichtenplatzhalter hinzufügen",Email:Ze,Back:Ke,VAT:Qe,Notes:Je,Note:et};const st={class:"bg-light h-100 shadow-lg"},ot=F('<h5 class="sidebar-heading py-3 px-2"><span class="d-flex align-items-center justify-content-center fw-lighter text-center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-move align-middle me-2"><polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line></svg>You can drag these nodes to the pane</span></h5>',1),nt={class:"d-flex flex-column gap-2"},it={class:"d-flex flex-wrap gap-2 align-items-center my-3 px-4"},lt=F('<span class="start-box px-3 justify-content-center"><span class="start-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-flag"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line></svg></span> Start </span>',1),at=[lt],dt=F('<div class="bg-white shadow-sm px-3 py-2"><h6 class="mb-0"><span class="d-flex align-items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-pull-request align-middle me-2"><circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line></svg> Conditions</span></h6></div>',1),rt={class:"d-flex flex-wrap gap-4 align-items-center my-3 px-4"},ct={class:"condition-box pe-2 justify-content-center"},pt={class:"condition-box__icon"},ut={xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24",style:{"margin-left":"5px","margin-top":"-1px"}},ht=e("path",{fill:"none",stroke:"#FFFFFF","stroke-width":"2",d:"M3,2 L21,12 L3,22 Z"},null,-1),gt=[ht],mt=F('<span class="condition-box pe-2 justify-content-end"><span class="condition-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Stage Changed</span>',1),yt=[mt],wt=e("span",{class:"condition-box pe-2 justify-content-end"},[e("span",{class:"condition-box__icon"},[e("span",null,[e("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"-10 -10 84 84","enable-background":"new -10 -10 84 84","xml:space":"preserve"},[e("g",null,[e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"36",y1:"9",x2:"45",y2:"9"}),e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"19",y1:"17",x2:"45",y2:"17"}),e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"19",y1:"25",x2:"45",y2:"25"}),e("g",null,[e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"1,26 32,45.434 63,26"}),e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"11.334,21.667 1,26 1,63 63,63 63,26 63,26 52.666,21.667"}),e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"11,32 11,1 53,1 53,32"})])])])])]),N(" Message Opened ")],-1),_t=[wt],ft=e("span",{class:"condition-box pe-2 justify-content-center"},[e("span",{class:"condition-box__icon"},[e("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 52.965 52.965",width:"15",height:"15","xml:space":"preserve"},[e("path",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:`M24.008,13.401L33.2,4.208
                                    c4.278-4.278,11.278-4.278,15.556,0l0,0c4.278,4.278,4.278,11.278,0,15.556L36.735,31.786c-4.278,4.278-11.278,4.278-15.556,0l0,0`}),e("path",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:`M27.543,40.978l-7.778,7.778
                                    c-4.278,4.278-11.278,4.278-15.556,0l0,0c-4.278-4.278-4.278-11.278,0-15.556l11.314-11.314c4.278-4.278,11.278-4.278,15.556,0l0,0`}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"33.965",y1:"45",x2:"33.965",y2:"51"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"37.722",y1:"43",x2:"41.965",y2:"47.243"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"38.965",y1:"39",x2:"44.965",y2:"39"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"15.965",y1:"10",x2:"15.965",y2:"4"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"12.207",y1:"12",x2:"7.965",y2:"7.757"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"10.965",y1:"16",x2:"4.965",y2:"16"})])]),N(" Link Clicked ")],-1),xt=[ft],bt=F('<div class="bg-white shadow-sm px-3 py-2"><h6 class="mb-0"><span class="d-flex align-items-center"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-repeat align-middle me-2"><polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path></svg> Actions</span></h6></div>',1),vt={class:"d-flex flex-wrap gap-4 align-items-center my-3 px-4"},kt=F('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail align-middle"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></span> Send Message </span>',1),$t=[kt],Ft=F('<span class="action-box px-3 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock align-middle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></span> Wait </span>',1),St=[Ft],Ct=F('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag align-middle"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg></span> Add Tag </span>',1),Bt=[Ct],Tt=F('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list align-middle"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></span> Move To List </span>',1),Nt=[Tt],Lt=F('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg></span> A/B Split </span>',1),Mt=[Lt],At=F('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Change Stage</span>',1),Dt=[At],jt={__name:"Sidebar",setup(s){const o=(l,i,n)=>{l.dataTransfer&&(l.dataTransfer.setData("application/vueflow",i),l.dataTransfer.effectAllowed="move")};return(l,i)=>(r(),c("aside",st,[ot,e("div",nt,[e("div",it,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:i[0]||(i[0]=n=>o(n,"action.start"))},at,32)]),dt,e("div",rt,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:i[1]||(i[1]=n=>o(n,"condition.run"))},[e("span",ct,[e("span",pt,[e("span",null,[(r(),c("svg",ut,gt))])]),N(" On Run")])],32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:i[2]||(i[2]=n=>o(n,"condition.stage.changed"))},yt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:i[3]||(i[3]=n=>o(n,"condition.message.opened"))},_t,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:i[4]||(i[4]=n=>o(n,"condition.link.clicked"))},xt,32)]),bt,e("div",vt,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:i[5]||(i[5]=n=>o(n,"action.message.sent"))},$t,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:i[6]||(i[6]=n=>o(n,"action.wait"))},St,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:i[7]||(i[7]=n=>o(n,"action.add.tag"))},Bt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:i[8]||(i[8]=n=>o(n,"action.move.to.list"))},Nt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:i[9]||(i[9]=n=>o(n,"action.ab.split"))},Mt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:i[10]||(i[10]=n=>o(n,"action.change.stage"))},Dt,32)])])]))}};const Vt={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem"}},Et={class:"bg-white p-3 rounded-3"},Wt=e("div",null,[e("h5",null,"Node Properties")],-1),Ot={class:"mb-3"},Ut=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Stage",-1),Ht=["value"],Rt={class:"d-flex justify-content-end"},zt=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),N("Delete Node ")],-1),It=[zt],qt={class:"condition-box pe-2"},Pt=F('<span class="condition-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span>',1),Gt=e("span",{class:"circle"},null,-1),Xt=e("span",{class:"circle"},null,-1),ee={__name:"StageChanged",props:{id:String,label:String,type:String},setup(s){const o=s,l=b(!1),i=x(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),n=x(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let p=window.stages;const{findNode:u,onNodeClick:a,removeNodes:m}=M(),d=b(u(o.id));a(w=>{w.node.id===d.value.id&&(l.value=!l.value)});const _=w=>{m([w],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(w,C)=>(r(),c("div",Vt,[h(t(D),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":l.value,"node-id":s.id,position:t(y).Right},{default:g(()=>[h(be,{mode:"in-out",appear:""},{default:g(()=>[e("div",Et,[Wt,e("div",Ot,[Ut,S(e("select",{name:"argument",class:"form-select form-select-sm","onUpdate:modelValue":C[0]||(C[0]=j=>d.value.data=j),id:"argument"},[(r(!0),c(T,null,L(t(p),j=>(r(),c("option",{value:j},f(j.title),9,Ht))),256))],512),[[A,d.value.data]])]),e("div",Rt,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:C[1]||(C[1]=j=>_(d.value))},It)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",qt,[Pt,N(" "+f(d.value.data.title??"Stage Changed"),1)]),h(t(k),{id:`state.stage.changed.target.${s.id}`,type:"target",position:t(y).Top,style:v(t(i)),class:"handle"},{default:g(()=>[Gt]),_:1},8,["id","position","style"]),h(t(k),{id:`state.stage.changed.${s.id}`,type:"source",position:t(y).Bottom,style:v(t(n)),class:"handle"},{default:g(()=>[Xt]),_:1},8,["id","position","style"])]))}},Yt={class:"vue-flow__node-input shadow-sm"},Zt=["value"],Kt=F('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail align-middle"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></span> Send Message </span>',1),Qt=e("span",{class:"circle"},null,-1),Jt=e("span",{class:"circle"},null,-1),te={__name:"SendMessage",props:{id:String,label:String,type:String},setup(s){const o=s,l=x(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),i=x(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let n=window.messages;const{findNode:p}=M(),u=b(p(o.id));return(a,m)=>(r(),c("div",Yt,[h(t(D),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":s.id,position:t(y).Right},{default:g(()=>[S(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":m[0]||(m[0]=d=>u.value.data=d)},[(r(!0),c(T,null,L(t(n),d=>(r(),c("option",{value:d},f(d.title),9,Zt))),256))],512),[[A,u.value.data]])]),_:1},8,["node-id","position"]),Kt,h(t(k),{id:`state.message.sent.${s.id}`,type:"source",position:t(y).Bottom,style:v(t(i)),class:"handle"},{default:g(()=>[Qt]),_:1},8,["id","position","style"]),h(t(k),{id:`state.message.sent.target.${s.id}`,type:"target",position:t(y).Top,style:v(t(l)),class:"handle"},{default:g(()=>[Jt]),_:1},8,["id","position","style"])]))}},es={class:"vue-flow__node-input shadow-sm"},ts=["value"],ss=F('<span class="action-box pe-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock align-middle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></span> Wait </span>',1),os=e("span",{class:"circle"},null,-1),ns=e("span",{class:"circle"},null,-1),se={__name:"Wait",props:{id:String,label:String,type:String},setup(s){const o=s,l=x(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),i=x(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let n=window.waitOptions;const{findNode:p}=M(),u=b(p(o.id));return(a,m)=>(r(),c("div",es,[h(t(D),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":s.id,position:t(y).Right},{default:g(()=>[S(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":m[0]||(m[0]=d=>u.value.data=d)},[(r(!0),c(T,null,L(t(n),d=>(r(),c("option",{value:d},f(d.title),9,ts))),256))],512),[[A,u.value.data]])]),_:1},8,["node-id","position"]),ss,h(t(k),{id:`state.wait.target.${s.id}`,type:"target",position:t(y).Top,style:v(t(l)),class:"handle"},{default:g(()=>[os]),_:1},8,["id","position","style"]),h(t(k),{id:`state.wait.${s.id}`,type:"source",position:t(y).Bottom,style:v(t(i)),class:"handle"},{default:g(()=>[ns]),_:1},8,["id","position","style"])]))}},is={class:"vue-flow__node-input shadow-sm"},ls=F('<span class="start-box pe-2 justify-content-center"><span class="start-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-flag"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line></svg></span> Start </span>',1),as=e("span",{class:"circle"},null,-1),oe={__name:"Start",props:{id:String,label:String,type:String},setup(s){const o=x(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-6px"}));return(l,i)=>(r(),c("div",is,[ls,h(t(k),{id:"start",type:"source",position:t(y).Bottom,style:v(t(o)),class:"handle"},{default:g(()=>[as]),_:1},8,["position","style"])]))}},ds={class:"vue-flow__node-input shadow-sm"},rs=["value"],cs=F('<span class="action-box pe-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag align-middle"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg></span> AddTag </span>',1),ps=e("span",{class:"circle"},null,-1),us=e("span",{class:"circle"},null,-1),ne={__name:"AddTag",props:{id:String,label:String,type:String},setup(s){const o=s,l=x(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),i=x(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let n=window.tags;const{findNode:p}=M(),u=b(p(o.id));return(a,m)=>(r(),c("div",ds,[h(t(D),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":s.id,position:t(y).Right},{default:g(()=>[S(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":m[0]||(m[0]=d=>u.value.data=d)},[(r(!0),c(T,null,L(t(n),d=>(r(),c("option",{value:d},f(d.title),9,rs))),256))],512),[[A,u.value.data]])]),_:1},8,["node-id","position"]),cs,h(t(k),{id:`state.tag.add.${s.id}`,type:"source",position:t(y).Bottom,style:v(t(i)),class:"handle"},{default:g(()=>[ps]),_:1},8,["id","position","style"]),h(t(k),{id:`state.tag.add.target.${s.id}`,type:"target",position:t(y).Top,style:v(t(l)),class:"handle"},{default:g(()=>[us]),_:1},8,["id","position","style"])]))}},hs={class:"vue-flow__node-input shadow-sm"},gs=["value"],ms=e("span",{class:"condition-box pe-2 justify-content-end"},[e("span",{class:"condition-box__icon"},[e("span",null,[e("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"-10 -10 84 84","enable-background":"new -10 -10 84 84","xml:space":"preserve"},[e("g",null,[e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"36",y1:"9",x2:"45",y2:"9"}),e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"19",y1:"17",x2:"45",y2:"17"}),e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"19",y1:"25",x2:"45",y2:"25"}),e("g",null,[e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"1,26 32,45.434 63,26"}),e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"11.334,21.667 1,26 1,63 63,63 63,26 63,26 52.666,21.667"}),e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"11,32 11,1 53,1 53,32"})])])])])]),N(" Message Opened ")],-1),ys=e("span",{class:"circle"},null,-1),ws=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1),_s=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),ie={__name:"MessageOpened",props:{id:String,label:String,type:String},setup(s){const o=s,l=x(()=>({backgroundColor:"green",left:"48px",width:"14px",height:"14px",right:"auto",bottom:"-7px"})),i=x(()=>({backgroundColor:"red",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"})),n=x(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-6px"}));let p=window.messagesOpened;const{findNode:u}=M(),a=b(u(o.id));return(m,d)=>(r(),c("div",hs,[h(t(D),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":s.id,position:t(y).Right},{default:g(()=>[S(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":d[0]||(d[0]=_=>a.value.data=_)},[(r(!0),c(T,null,L(t(p),_=>(r(),c("option",{value:_},f(_.title),9,gs))),256))],512),[[A,a.value.data]])]),_:1},8,["node-id","position"]),ms,h(t(k),{id:`state.message.opened.target.${s.id}`,type:"target",position:t(y).Top,style:v(t(n)),class:"handle"},{default:g(()=>[ys]),_:1},8,["id","position","style"]),h(t(k),{id:`state.message.opened.${s.id}`,type:"source",position:t(y).Bottom,style:v(t(l)),class:"handle"},{default:g(()=>[ws]),_:1},8,["id","position","style"]),h(t(k),{id:`state.message.not_opened.${s.id}`,type:"source",position:t(y).Bottom,style:v(t(i)),class:"handle"},{default:g(()=>[_s]),_:1},8,["id","position","style"])]))}},fs={class:"vue-flow__node-input shadow-sm"},xs=["value"],bs=F('<span class="action-box pe-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list align-middle"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></span> Move To List </span>',1),vs=e("span",{class:"circle"},null,-1),ks=e("span",{class:"circle"},null,-1),le={__name:"MoveToList",props:{id:String,label:String,type:String},setup(s){const o=s,l=x(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),i=x(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let n=window.contactLists;const{findNode:p}=M(),u=b(p(o.id));return(a,m)=>(r(),c("div",fs,[h(t(D),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":s.id,position:t(y).Right},{default:g(()=>[S(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":m[0]||(m[0]=d=>u.value.data=d)},[(r(!0),c(T,null,L(t(n),d=>(r(),c("option",{value:d},f(d.title),9,xs))),256))],512),[[A,u.value.data]])]),_:1},8,["node-id","position"]),bs,h(t(k),{id:`state.move_to_list.${s.id}`,type:"source",position:t(y).Bottom,style:v(t(i)),class:"handle"},{default:g(()=>[vs]),_:1},8,["id","position","style"]),h(t(k),{id:`state.move_to_list.target.${s.id}`,type:"target",position:t(y).Top,style:v(t(l)),class:"handle"},{default:g(()=>[ks]),_:1},8,["id","position","style"])]))}},$s={class:"vue-flow__node-input shadow-sm"},Fs=["value"],Ss=F('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg></span> A/B Split </span>',1),Cs=e("span",{class:"circle"},null,-1),Bs=e("span",{class:"circle"},null,-1),Ts=e("span",{class:"circle"},null,-1),ae={__name:"ABSplit",props:{id:String,label:String,type:String},setup(s){const o=s,l=x(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),i=x(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",left:"48px",right:"auto",bottom:"-7px"})),n=x(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"}));let p=window.abSplit;const{findNode:u}=M(),a=b(u(o.id));return(m,d)=>(r(),c("div",$s,[h(t(D),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":s.id,position:t(y).Right},{default:g(()=>[S(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":d[0]||(d[0]=_=>a.value.data=_)},[(r(!0),c(T,null,L(t(p),_=>(r(),c("option",{value:_},f(_.title),9,Fs))),256))],512),[[A,a.value.data]])]),_:1},8,["node-id","position"]),Ss,h(t(k),{id:`state.abSplit.target.${s.id}`,type:"target",position:t(y).Top,style:v(t(l)),class:"handle"},{default:g(()=>[Cs]),_:1},8,["id","position","style"]),h(t(k),{id:`state.abSplit.left.${s.id}`,type:"source",position:t(y).Bottom,style:v(t(i)),class:"handle"},{default:g(()=>[Bs]),_:1},8,["id","position","style"]),h(t(k),{id:`state.abSplit.right.${s.id}`,type:"source",position:t(y).Bottom,style:v(t(n)),class:"handle"},{default:g(()=>[Ts]),_:1},8,["id","position","style"])]))}},Ns={class:"vue-flow__node-input shadow-sm"},Ls={class:"condition-box pe-2 justify-content-center"},Ms={class:"condition-box__icon"},As={xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24",style:{"margin-left":"5px","margin-top":"-1px"}},Ds=e("path",{fill:"none",stroke:"#FFFFFF","stroke-width":"2",d:"M3,2 L21,12 L3,22 Z"},null,-1),js=[Ds],Vs=e("span",{class:"circle"},null,-1),Es=e("span",{class:"circle"},null,-1),de={__name:"Run",props:{id:String,label:String,type:String},setup(s){const o=s,l=x(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),i=x(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"})),{findNode:n}=M(),p=b(n(o.id));return p.value.data={argument:window.workflowId},(u,a)=>(r(),c("div",Ns,[e("span",Ls,[e("span",Ms,[e("span",null,[(r(),c("svg",As,js))])]),N(" On run")]),h(t(k),{id:`state.run.target.${s.id}`,type:"target",position:t(y).Top,style:v(t(l)),class:"handle"},{default:g(()=>[Vs]),_:1},8,["id","position","style"]),h(t(k),{id:`state.run.${s.id}`,type:"source",position:t(y).Bottom,style:v(t(i)),class:"handle"},{default:g(()=>[Es]),_:1},8,["id","position","style"])]))}},Ws={class:"vue-flow__node-input shadow-sm"},Os=["value"],Us=F('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Change Stage</span>',1),Hs=e("span",{class:"circle"},null,-1),Rs=e("span",{class:"circle"},null,-1),re={__name:"ChangeStage",props:{id:String,label:String,type:String},setup(s){const o=s,l=x(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),i=x(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let n=window.stageActions;const{findNode:p}=M(),u=b(p(o.id));return(a,m)=>(r(),c("div",Ws,[h(t(D),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":s.id,position:t(y).Right},{default:g(()=>[S(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":m[0]||(m[0]=d=>u.value.data=d)},[(r(!0),c(T,null,L(t(n),d=>(r(),c("option",{value:d},f(d.title),9,Os))),256))],512),[[A,u.value.data]])]),_:1},8,["node-id","position"]),Us,h(t(k),{id:`state.change.stage.target.${s.id}`,type:"target",position:t(y).Top,style:v(t(l)),class:"handle"},{default:g(()=>[Hs]),_:1},8,["id","position","style"]),h(t(k),{id:`state.change.stage.${s.id}`,type:"source",position:t(y).Bottom,style:v(t(i)),class:"handle"},{default:g(()=>[Rs]),_:1},8,["id","position","style"])]))}},zs={class:"vue-flow__node-input shadow-sm"},Is=["value"],qs=e("br",null,null,-1),Ps=e("br",null,null,-1),Gs=["value"],Xs=e("span",{class:"condition-box pe-2 justify-content-center"},[e("span",{class:"condition-box__icon"},[e("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 52.965 52.965",width:"15",height:"15","xml:space":"preserve"},[e("path",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:`M24.008,13.401L33.2,4.208
                        c4.278-4.278,11.278-4.278,15.556,0l0,0c4.278,4.278,4.278,11.278,0,15.556L36.735,31.786c-4.278,4.278-11.278,4.278-15.556,0l0,0`}),e("path",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:`M27.543,40.978l-7.778,7.778
                        c-4.278,4.278-11.278,4.278-15.556,0l0,0c-4.278-4.278-4.278-11.278,0-15.556l11.314-11.314c4.278-4.278,11.278-4.278,15.556,0l0,0`}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"33.965",y1:"45",x2:"33.965",y2:"51"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"37.722",y1:"43",x2:"41.965",y2:"47.243"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"38.965",y1:"39",x2:"44.965",y2:"39"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"15.965",y1:"10",x2:"15.965",y2:"4"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"12.207",y1:"12",x2:"7.965",y2:"7.757"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"10.965",y1:"16",x2:"4.965",y2:"16"})])]),N(" Link Clicked ")],-1),Ys=e("span",{class:"circle"},null,-1),Zs=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1),Ks=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),ce={__name:"LinkClicked",props:{id:String,label:String,type:String},setup(s){const o=s,l=x(()=>({backgroundColor:"green",left:"48px",width:"14px",height:"14px",right:"auto",bottom:"-7px"})),i=x(()=>({backgroundColor:"red",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"})),n=x(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-6px"}));let p=b(window.messagesWithLinks);const{findNode:u}=M(),a=b(u(o.id)),m=x(()=>p.value.find(d=>d.argument===a.value.data.message)||{links:[]});return a.value.data.argument=x(()=>a.value.data.message&&a.value.data.link?`${a.value.data.message}.${a.value.data.link}`:""),(d,_)=>(r(),c("div",zs,[h(t(D),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":!0,"node-id":s.id,position:t(y).Right},{default:g(()=>[S(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":_[0]||(_[0]=w=>a.value.data.message=w)},[(r(!0),c(T,null,L(t(p),w=>(r(),c("option",{value:w.argument},f(w.title),9,Is))),256))],512),[[A,a.value.data.message]]),N(),qs,N(),Ps,S(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":_[1]||(_[1]=w=>a.value.data.link=w)},[(r(!0),c(T,null,L(t(m).links,w=>(r(),c("option",{value:w.url},f(w.text),9,Gs))),256))],512),[[A,a.value.data.link]])]),_:1},8,["node-id","position"]),Xs,h(t(k),{id:`state.link.clicked.target.${s.id}`,type:"target",position:t(y).Top,style:v(t(n)),class:"handle"},{default:g(()=>[Ys]),_:1},8,["id","position","style"]),h(t(k),{id:`state.link.clicked.${s.id}`,type:"source",position:t(y).Bottom,style:v(t(l)),class:"handle"},{default:g(()=>[Zs]),_:1},8,["id","position","style"]),h(t(k),{id:`state.link.not_clicked.${s.id}`,type:"source",position:t(y).Bottom,style:v(t(i)),class:"handle"},{default:g(()=>[Ks]),_:1},8,["id","position","style"])]))}};const Qs={class:"col-lg-7 col-xl-8 col-xxl-9 pe-0"},Js={class:"d-flex gap-2"},eo=["href"],to=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-arrow-left-circle align-middle me-2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12 8 8 12 12 16"}),e("line",{x1:"16",y1:"12",x2:"8",y2:"12"})],-1),so={class:"h3 mb-3 px-4 py-2 bg-white"},oo={class:"d-flex gap-2"},no={class:"d-flex align-items-center"},io=e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-save align-middle me-2"},[e("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),e("polyline",{points:"17 21 17 13 7 13 7 21"}),e("polyline",{points:"7 3 7 8 15 8"})],-1),lo={class:"col-lg-5 col-xl-4 col-xxl-3 px-0"},ao={__name:"WorkFlow",props:{workflowName:{type:String,default:"Untitled"},workflowId:{type:Number,default:null},saveUrl:{type:String,default:"/automation/workflow/save"},elementsData:{type:Array,default:[]},messages:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesOpened:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesWithLinks:{type:Array},stages:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},tags:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},stageActions:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},abSplit:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},contactLists:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},waitOptions:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},backUrl:{type:String,default:"/"}},setup(s){const o=s,l={"condition.stage.changed":$(ee),"condition.message.opened":$(ie),"condition.run":$(de),"condition.link.clicked":$(ce),"action.message.sent":$(te),"action.wait":$(se),"action.start":$(oe),"action.add.tag":$(ne),"action.move.to.list":$(le),"action.ab.split":$(ae),"action.change.stage":$(re)},i=b(o.elementsData),n=b(o.workflowName);let p=0;const u=()=>Math.floor(Math.random()*1e4+1)+`_${p++}`,{findNode:a,onConnect:m,nodes:d,edges:_,onNodeClick:w,addEdges:C,addNodes:j,viewport:Sn,project:he,vueFlowRef:ge}=M({nodes:[]});window.messages=o.messages,window.messagesOpened=o.messagesOpened,window.contactLists=o.contactLists,window.waitOptions=o.waitOptions,window.abSplit=o.abSplit,window.stages=o.stages,window.tags=o.tags,window.workflowId=o.workflowId,window.stageActions=o.stageActions,window.messagesWithLinks=o.messagesWithLinks;const me=B=>{B.preventDefault(),B.dataTransfer&&(B.dataTransfer.dropEffect="move")};m(B=>C([B]));const ye=B=>{var P;const V=(P=B.dataTransfer)==null?void 0:P.getData("application/vueflow"),{left:O,top:_e}=ge.value.getBoundingClientRect(),fe=he({x:B.clientX-O,y:B.clientY-_e}),q={id:u(),type:V,position:fe,label:`${V} node`};j([q]),ve(()=>{const E=a(q.id),xe=ke(()=>E.dimensions,G=>{G.width>0&&G.height>0&&(E.position={x:E.position.x-E.dimensions.width/2,y:E.position.y-E.dimensions.height/2},xe())},{deep:!0,flush:"post"})})},we=function(){axios.post(o.saveUrl,{elements:i.value,title:n.value}).then(function(B){console.log(B),window.notyf.open({type:"success",message:"Workflow successfully saved!",duration:"5000",ripple:!0,dismissible:!0})}).catch(function(B){console.log(B),window.notyf.open({type:"warning",message:"Something went wrong!",duration:"5000",ripple:!0,dismissible:!0})})};return(B,V)=>(r(),c("div",{class:"row w-100 h-100 mx-0",onDrop:ye},[e("div",Qs,[h(t(Y),{onDragover:me,modelValue:i.value,"onUpdate:modelValue":V[1]||(V[1]=O=>i.value=O),"node-types":l,"default-edge-options":{type:"smoothstep"}},{default:g(()=>[h(t(Z)),h(t(H),null,{default:g(()=>[e("div",Js,[e("a",{class:"d-flex align-items-center h4 mb-3 px-4 py-2 text-white bg-info text-decoration-none",href:s.backUrl},[to,e("span",null,f(B.$t("Back")),1)],8,eo),e("h1",so,f(n.value),1)])]),_:1}),h(t(H),{position:t($e).BottomRight},{default:g(()=>[e("div",oo,[S(e("input",{type:"text",class:"form-control","onUpdate:modelValue":V[0]||(V[0]=O=>n.value=O),style:{"min-width":"200px"}},null,512),[[W,n.value]]),e("button",{class:"btn btn-success text-uppercase px-4",onClick:we},[e("span",no,[io,N(" "+f(B.$t("Save")),1)])])])]),_:1},8,["position"])]),_:1},8,["modelValue"])]),e("div",lo,[h(jt)])],32))}};const ro={class:"row w-100 h-100 mx-0"},co={class:"col-lg-12 col-xl-12 col-xxl-12 pe-0"},po={class:"d-flex gap-2"},uo=["href"],ho=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-arrow-left-circle align-middle me-2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12 8 8 12 12 16"}),e("line",{x1:"16",y1:"12",x2:"8",y2:"12"})],-1),go={class:"h3 mb-3 px-4 py-2 bg-white"},mo={__name:"ShowWorkFlow",props:{workflowName:{type:String,default:"Untitled"},workflowId:{type:Number,default:null},elementsData:{type:Array,default:[]},messages:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesOpened:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesWithLinks:{type:Array},stages:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},tags:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},stageActions:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},abSplit:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},contactLists:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},waitOptions:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},backUrl:{type:String,default:"/"}},setup(s){const o=s,l={"condition.stage.changed":$(ee),"condition.message.opened":$(ie),"condition.run":$(de),"condition.link.clicked":$(ce),"action.message.sent":$(te),"action.wait":$(se),"action.start":$(oe),"action.add.tag":$(ne),"action.move.to.list":$(le),"action.ab.split":$(ae),"action.change.stage":$(re)},i=b(o.elementsData),n=b(o.workflowName);return M({nodes:[]}),window.messages=o.messages,window.messagesOpened=o.messagesOpened,window.contactLists=o.contactLists,window.waitOptions=o.waitOptions,window.abSplit=o.abSplit,window.stages=o.stages,window.tags=o.tags,window.workflowId=o.workflowId,window.stageActions=o.stageActions,window.messagesWithLinks=o.messagesWithLinks,(p,u)=>(r(),c("div",ro,[e("div",co,[h(t(Y),{modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=a=>i.value=a),"node-types":l},{default:g(()=>[h(t(Z)),h(t(H),null,{default:g(()=>[e("div",po,[e("a",{class:"d-flex align-items-center h4 mb-3 px-4 py-2 text-white bg-info text-decoration-none",href:s.backUrl},[ho,e("span",null,f(p.$t("Back")),1)],8,uo),e("h1",go,f(n.value),1)])]),_:1})]),_:1},8,["modelValue"])])]))}};const yo={class:"row p-3"},wo={class:"d-flex justify-content-between"},_o=["onClick"],fo=e("i",{class:"align-middle fas fa-fw fa-minus-circle"},null,-1),xo=[fo],bo=["onClick"],vo=e("i",{class:"align-middle ms-2 fas fa-fw fa-plus-circle"},null,-1),ko=[vo],$o={class:"col-md-4"},Fo={class:"mb-3"},So=e("label",{for:"stage_name",class:"form-label"},"Stage name",-1),Co=["name","onUpdate:modelValue"],Bo={class:"col-md-5"},To={class:"mb-3"},No=e("label",{for:"stage_description",class:"form-label"},"Stage description",-1),Lo=["name","onUpdate:modelValue"],Mo={class:"col-md-3"},Ao={class:"d-flex flex-column mb-3"},Do=e("label",{for:"stage_color",class:"form-label"},"Stage color",-1),jo={class:"d-flex align-items-center"},Vo=["name","onUpdate:modelValue"],Eo={class:"fs-4 ms-3"},Wo=["name","value"],Oo={__name:"PipelineStageRepeater",props:{stages:{type:Array}},setup(s){const o=s,l=b([{name:"Default",description:"This is some description",color:"#366dc7"}]);U(()=>{o.stages.length&&(l.value=o.stages)});const i=()=>{l.value.push({name:"",description:"",color:"#366dc7"})},n=p=>{const u=l.value.indexOf(p);u>-1&&l.value.splice(u,1)};return(p,u)=>(r(),Fe(Se,{name:"stage-list",appear:""},{default:g(()=>[(r(!0),c(T,null,L(l.value,(a,m)=>(r(),c("div",{class:"d-flex flex-column bg-light mb-3 rounded-3",key:m},[e("div",yo,[e("div",wo,[e("h6",null,"#"+f(m+1)+" - "+f(a.name),1),e("div",null,[S(e("button",{class:"btn text-danger btn-lg border-0 p-0",onClick:R(d=>n(a),["prevent"]),title:"Remove Stage"},xo,8,_o),[[X,m||!m&&l.value.length>1]]),S(e("button",{class:"btn text-info btn-lg border-0 p-0",title:"Add New Stage",onClick:R(i,["prevent"])},ko,8,bo),[[X,m===l.value.length-1]])])]),e("div",$o,[e("div",Fo,[So,S(e("input",{class:"form-control",name:`pipeline_stages[${m}][name]`,placeholder:"Enter stage name",type:"text",id:"stage_name","onUpdate:modelValue":d=>a.name=d},null,8,Co),[[W,a.name]])])]),e("div",Bo,[e("div",To,[No,S(e("input",{class:"form-control",name:`pipeline_stages[${m}][description]`,placeholder:"Enter stage description",type:"text",id:"stage_description","onUpdate:modelValue":d=>a.description=d},null,8,Lo),[[W,a.description]])])]),e("div",Mo,[e("div",Ao,[Do,e("div",jo,[S(e("input",{type:"color",name:`pipeline_stages[${m}][color]`,id:"stage_color","onUpdate:modelValue":d=>a.color=d,style:{height:"30px"}},null,8,Vo),[[W,a.color]]),e("span",Eo,f(a.color),1)])])]),e("input",{type:"hidden",name:`pipeline_stages[${m}][id]`,value:a.id},null,8,Wo)])]))),128))]),_:1}))}};const pe=(s,o)=>{const l=s.__vccOpts||s;for(const[i,n]of o)l[i]=n;return l},Uo={class:"mb-3 position-relative d-flex flex-column align-items-center"},Ho={for:"body",class:"form-label align-self-start"},Ro=["name"],zo={class:"placeholder-buttons bg-light"},Io={class:"d-flex gap-1"},qo={key:0,class:"invalid-feedback"},Po={__name:"TextArea",props:{errorMessage:{type:String,required:!0},messageBody:{type:String},name:{type:String,required:!0}},setup(s){const o=s,l=b(""),i=b(null);U(()=>{l.value=o.messageBody});const n=(p,u)=>{p.preventDefault();const a=i.value,m=a.selectionStart,d=`[[${u}]]`;l.value=`${l.value.substring(0,m)} ${d}${l.value.substring(m)}`,a.focus()};return(p,u)=>(r(),c("div",Uo,[e("label",Ho,f(p.$t("Message Body")),1),S(e("textarea",{ref_key:"textarea",ref:i,"onUpdate:modelValue":u[0]||(u[0]=a=>l.value=a),name:s.name,id:"body",class:K([{"is-invalid":s.errorMessage},"form-control"]),cols:"10",rows:"10"},`
         `,10,Ro),[[W,l.value]]),e("div",zo,[e("span",null,f(p.$t("Add message placeholders"))+":",1),e("div",Io,[e("button",{onClick:u[1]||(u[1]=a=>n(a,"firstname")),class:"btn btn-sm btn-info"},f(p.$t("Firstname")),1),e("button",{onClick:u[2]||(u[2]=a=>n(a,"lastname")),class:"btn btn-sm btn-info"},f(p.$t("Lastname")),1),e("button",{onClick:u[3]||(u[3]=a=>n(a,"email")),class:"btn btn-sm btn-info"},f(p.$t("Email")),1)])]),s.errorMessage?(r(),c("small",qo,f(s.errorMessage),1)):Q("",!0)]))}},Go=pe(Po,[["__scopeId","data-v-0c41e744"]]);const Xo={class:"mb-3"},Yo={class:"d-block form-label"},Zo=["name","value"],Ko={__name:"MultiSelectList",props:{selected:{type:Array},options:{type:Array,required:!0},name:{type:String},label:{type:String},placeholder:{type:String},labelBy:{type:String},trackBy:{type:String}},setup(s){const o=s,l=b([]);return U(()=>{o.selected.length&&(l.value=o.selected)}),(i,n)=>(r(),c("div",Xo,[e("span",Yo,f(s.label),1),h(t(Ce),{modelValue:l.value,"onUpdate:modelValue":n[0]||(n[0]=p=>l.value=p),options:s.options,multiple:!0,"close-on-select":!1,placeholder:s.placeholder,label:s.labelBy,"track-by":s.trackBy},null,8,["modelValue","options","placeholder","label","track-by"]),(r(!0),c(T,null,L(l.value,p=>(r(),c("input",{type:"hidden",name:s.name,value:p.id,key:p.id},null,8,Zo))),128))]))}},Qo=["onSubmit"],Jo={for:"note",class:"form-label fw-bold"},en={class:"d-flex align-items-center"},tn=e("i",{class:"align-middle me-2 fas fa-fw fa-clipboard-list"},null,-1),sn={class:"input-group d-flex align-items-center"},on=["placeholder"],nn=["disabled"],ln={key:0,class:"invalid-feedback"},an=e("hr",null,null,-1),dn={class:"d-flex flex-column"},rn={class:"d-flex flex-column"},cn={class:"mb-1"},pn={style:{"font-size":"11px"}},un=e("strong",null,"Created by",-1),hn=e("strong",null,"this will be user name",-1),gn={style:{"font-size":"11px"}},mn={class:"d-flex gap-1"},yn=["onClick"],wn=e("i",{class:"align-middle me-2 fas fa-fw fa-trash text-danger"},null,-1),_n=[wn],fn={__name:"Notes",props:{url:{type:String},deleteUrl:{type:String},leadId:{type:String},leadNotes:{type:Array}},setup(s){const o=s,l=b([]),i=b(""),n=b({}),p=b(!1);U(()=>{l.value=[...o.leadNotes]});const u=()=>{p.value=!0;let _=new FormData;_.append("note",i.value),_.append("lead_id",o.leadId),axios.post(o.url,_,{headers:{"Content-Type":"application/json"}}).then(w=>{w.status===200&&(l.value=[...l.value,w.data.leadNote],i.value="",p.value=!1,n.value={},window.notyf.open({type:"success",message:"Note saved!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}))}).catch(w=>{console.log(w.message),w.response.status===422&&(n.value=w.response.data.errors,p.value=!1)})},a=_=>{axios.delete(o.deleteUrl.replace(":noteId",_)).then(w=>{w.status===200&&(l.value=l.value.filter(C=>C.id!==_),window.notyf.open({type:"success",message:"Note deleted!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}))}).catch(w=>{console.log(w.message),window.notyf.open({type:"danger",message:w.message,duration:"2500",ripple:!0,position:"bottom right",dismissible:!0})})},m=_=>Object.keys(_).length!==0,d=_=>{let w=new Date(_*1e3);return new Intl.DateTimeFormat("default",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}).format(w)};return(_,w)=>(r(),c(T,null,[e("form",{onSubmit:R(u,["prevent"]),id:"notes-form",ref:"notesForm"},[e("div",null,[e("label",Jo,[e("span",en,[tn,N(f(_.$t("Notes")),1)])]),e("div",sn,[S(e("input",{id:"note","onUpdate:modelValue":w[0]||(w[0]=C=>i.value=C),class:K(["form-control",{"is-invalid":m(n.value)}]),name:"note",placeholder:_.$t("Note")},null,10,on),[[W,i.value]]),e("button",{type:"submit",class:"btn btn-success",disabled:p.value},"Add Note",8,nn),n.value&&n.value.note?(r(),c("small",ln,f(n.value.note[0]),1)):Q("",!0)])])],40,Qo),an,e("div",dn,[(r(!0),c(T,null,L(l.value,C=>(r(),c("div",{key:C.id,class:"note mb-3"},[e("div",rn,[e("p",cn,f(C.note),1),e("span",pn,[e("em",null,[un,N(" ID:"+f(C.created_by)+" ",1),hn])]),e("span",gn,[e("strong",null,[e("em",null,f(d(C.created_at)),1)])])]),e("div",mn,[e("span",{class:"delete-icon",onClick:j=>a(C.id)},_n,8,yn)])]))),128))])],64))}},xn={props:["chartData","chartType"],mounted(){this.createChart()},methods:{createChart(){const s=this.$refs.chart.getContext("2d");new Be(s,{type:this.chartType,data:{labels:this.chartData.labels,datasets:[{label:"Opens",data:this.chartData.opens,fill:this.chartType==="line",backgroundColor:this.chartType==="bar"?"#3B82EC":"transparent",borderColor:"#3B82EC",tension:this.chartType==="line"?.4:0},{label:"Clicks",data:this.chartData.clicks,fill:this.chartType==="line",backgroundColor:this.chartType==="bar"?"#E8EAED":"transparent",borderColor:"#E8EAED",borderDash:this.chartType==="line"?[4,4]:[],tension:this.chartType==="line"?.4:0}]},options:{maintainAspectRatio:!1,plugins:{legend:{display:!0},tooltip:{intersect:!1},filler:{propagate:!1}},interaction:{intersect:!0},scales:{x:{grid:{color:"rgba(0,0,0,0.05)"},ticks:{maxTicksLimit:15}},y:{ticks:{stepSize:500},display:!0,grid:{color:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",tickColor:"#fff"},borderDash:[5,5]}}}})}}},bn={ref:"chart",width:"749",height:"350"};function vn(s,o,l,i,n,p){return r(),c("div",null,[e("canvas",bn,null,512)])}const kn=pe(xn,[["render",vn]]);document.addEventListener("DOMContentLoaded",()=>{if(document.getElementsByClassName("js-simplebar")[0]){new Te(document.getElementsByClassName("js-simplebar")[0]);const o=document.getElementsByClassName("sidebar")[0];document.getElementsByClassName("sidebar-toggle")[0].addEventListener("click",()=>{o.classList.toggle("collapsed"),o.addEventListener("transitionend",()=>{window.dispatchEvent(new Event("resize"))})})}});document.addEventListener("DOMContentLoaded",()=>{J.replace()});window.feather=J;window.notyf=new Ne({duration:5e3,position:{x:"right",y:"top"},types:[{type:"default",backgroundColor:"#3B7DDD",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"info-bsha",backgroundColor:"#495e69",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"success",backgroundColor:"#28a745",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"warning",backgroundColor:"#ffc107",icon:{className:"notyf__icon--error",tagName:"i"}},{type:"danger",backgroundColor:"#dc3545",icon:{className:"notyf__icon--error",tagName:"i"}}]});window.dragula=Le;window.jQuery=window.$=Me;const $n={de:tt},ue=Ae({locale:"de",fallbackLocale:"en",messages:$n});ue.global.locale=document.documentElement.lang.substring(0,2);const Fn=Ve(),I=De({components:{WorkFlow:ao,ShowWorkFlow:mo,PipelineStageRepeater:Oo,TextArea:Go,MultiSelectList:Ko,Notes:fn,OpenClicksChart:kn}});I.config.globalProperties.emitter=Fn;I.use(ue);document.querySelector("#app")!==null&&I.mount("#app");window.DataTable=je;
