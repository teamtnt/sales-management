import{a as M,o as u,c as h,b as e,d as _,e as p,u as n,j as v,Y as w,n as C,m as k,r as $,f as Q,w as S,_ as J,g as Z,h as ee,E as te,i as A,t as m,k as se,l as D,p as oe,T as ne,q as W,s as x,v as V,x as R,y as T,F as z,z as ae,A as le,S as ie,B as F,N as de,C as re,$ as ce,D as pe,G as ue,H as he,I as ge}from"./vendor-54f69326.js";let _e=document.head.querySelector('meta[name="csrf-token"]');M.defaults.headers.common["X-CSRF-TOKEN"]=_e.textContent;M.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.axios=M;const me="Dashboard",fe="List",ve="Edit",we="Delete",ye="Remove",xe="Name",be="Description",ke="Count",$e="Speichern",Ce="Stornieren",Se="Vorname",Te="Nachname",Be={"Good day":"Guten Tag",Dashboard:me,"All Lists":"All Lists",List:fe,Edit:ve,Delete:we,Remove:ye,Name:xe,Description:be,Count:ke,Save:$e,Cancel:Ce,"Message Body":"Nachrichtentext",Firstname:Se,Lastname:Te,"Add message placeholders":"Nachrichtenplatzhalter hinzuf√ºgen"};const Me={class:"bg-light h-100 shadow-lg"},De=_('<h5 class="sidebar-heading py-3 px-2"><span class="d-flex align-items-center justify-content-center fw-lighter text-center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-move align-middle me-2"><polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line></svg>You can drag these nodes to the pane</span></h5>',1),Ne={class:"d-flex flex-column gap-2"},je=_('<div class="bg-white shadow-sm px-3 py-2"><h6 class="mb-0"><span class="d-flex align-items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-pull-request align-middle me-2"><circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line></svg> Conditions</span></h6></div>',1),Le={class:"d-flex flex-wrap gap-2 align-items-center my-3 px-4"},Ee=_('<span class="condition-box pe-2 justify-content-end"><span class="condition-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Stage Changed</span>',1),Ae=[Ee],Ve=_('<div class="bg-white shadow-sm px-3 py-2"><h6 class="mb-0"><span class="d-flex align-items-center"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-repeat align-middle me-2"><polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path></svg> Actions</span></h6></div>',1),Re={class:"d-flex flex-wrap gap-4 align-items-center my-3 px-4"},We=_('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail align-middle"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></span> Send Message </span>',1),ze=[We],Fe=_('<span class="action-box px-3 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock align-middle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></span> Wait </span>',1),Ue=[Fe],qe=_('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag align-middle"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg></span> Add Tag </span>',1),Oe=[qe],Pe=_('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list align-middle"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></span> Move To List </span>',1),He=[Pe],Ge={__name:"Sidebar",setup(s){const o=(t,l,a)=>{t.dataTransfer&&(t.dataTransfer.setData("application/vueflow",l),t.dataTransfer.effectAllowed="move")};return(t,l)=>(u(),h("aside",Me,[De,e("div",Ne,[je,e("div",Le,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[0]||(l[0]=a=>o(a,"stageChanged"))},Ae,32)]),Ve,e("div",Re,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[1]||(l[1]=a=>o(a,"sendMessage"))},ze,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[2]||(l[2]=a=>o(a,"wait"))},Ue,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[3]||(l[3]=a=>o(a,"addTag"))},Oe,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:l[4]||(l[4]=a=>o(a,"moveToList"))},He,32)])])]))}},Ie={class:"vue-flow__node-input shadow-sm"},Xe=_('<span class="condition-box pe-2 justify-content-end"><span class="condition-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Stagge Changed</span>',1),Ye={__name:"StageChanged",props:{id:String,label:String,type:String},setup(s){return(o,t)=>(u(),h("div",Ie,[Xe,p(n(w),{type:"source",position:n(v).Bottom},null,8,["position"])]))}},Ke={class:"vue-flow__node-input shadow-sm"},Qe=["data-handleid","data-nodeid"],Je=_('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail align-middle"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></span> Send Message </span>',1),Ze={__name:"SendMessage",props:{id:String,label:String,type:String},setup(s){return(o,t)=>(u(),h("div",Ke,[e("div",{"data-handleid":`${s.id}__handle-top`,"data-nodeid":s.id,"data-handlepos":"top",class:C(`vue-flow__handle nodrag vue-flow__handle-top vue-flow__handle-${s.id}__handle-top target connectable`)},null,10,Qe),Je,p(n(w),{id:"source",type:"source",position:n(v).Bottom},null,8,["position"]),p(n(w),{id:"target",type:"target",position:n(v).Top},null,8,["position"])]))}},et={class:"vue-flow__node-input shadow-sm"},tt=["data-handleid","data-nodeid"],st=_('<span class="action-box pe-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock align-middle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></span> Wait </span>',1),ot={__name:"Wait",props:{id:String,label:String,type:String},setup(s){return(o,t)=>(u(),h("div",et,[e("div",{"data-handleid":`${s.id}__handle-top`,"data-nodeid":s.id,"data-handlepos":"top",class:C(`vue-flow__handle nodrag vue-flow__handle-top vue-flow__handle-${s.id}__handle-top target connectable`)},null,10,tt),st,p(n(w),{type:"target",position:n(v).Top},null,8,["position"]),p(n(w),{type:"source",position:n(v).Bottom},null,8,["position"])]))}},nt={class:"vue-flow__node-input shadow-sm"},at=["data-handleid","data-nodeid"],lt=_('<span class="action-box pe-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag align-middle"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg></span> AddTag </span>',1),it={__name:"AddTag",props:{id:String,label:String,type:String},setup(s){return(o,t)=>(u(),h("div",nt,[e("div",{"data-handleid":`${s.id}__handle-top`,"data-nodeid":s.id,"data-handlepos":"top",class:C(`vue-flow__handle nodrag vue-flow__handle-top vue-flow__handle-${s.id}__handle-top target connectable`)},null,10,at),lt,p(n(w),{id:"source",type:"source",position:n(v).Bottom},null,8,["position"]),p(n(w),{id:"target",type:"target",position:n(v).Top},null,8,["position"])]))}},dt={class:"vue-flow__node-input shadow-sm"},rt=["data-handleid","data-nodeid"],ct=_('<span class="action-box pe-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list align-middle"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></span> Move To List </span>',1),pt={__name:"MoveToList",props:{id:String,label:String,type:String},setup(s){return(o,t)=>(u(),h("div",dt,[e("div",{"data-handleid":`${s.id}__handle-top`,"data-nodeid":s.id,"data-handlepos":"top",class:C(`vue-flow__handle nodrag vue-flow__handle-top vue-flow__handle-${s.id}__handle-top target connectable`)},null,10,rt),ct,p(n(w),{id:"source",type:"source",position:n(v).Bottom},null,8,["position"]),p(n(w),{id:"target",type:"target",position:n(v).Top},null,8,["position"])]))}},ut={class:"col-lg-7 col-xl-8 col-xxl-9 pe-0"},ht={class:"h3 mb-3 px-4 py-2 bg-white"},gt={class:"btn btn-danger"},_t={class:"col-lg-5 col-xl-4 col-xxl-3 px-0"},mt={__name:"WorkFlow",props:{panelTitle:{type:String,default:"Workflow"}},setup(s){const o={stageChanged:k(Ye),sendMessage:k(Ze),wait:k(ot),addTag:k(it),moveToList:k(pt)},t=$([{id:"1",type:"stageChanged",label:"Stage Changed",position:{x:350,y:100}},{id:"2",type:"wait",label:"Wait",position:{x:350,y:180}},{id:"3",type:"sendMessage",label:"Send Message",position:{x:350,y:260}},{id:"4",type:"addTag",label:"Add Tag",position:{x:350,y:340}},{id:"5",type:"moveToList",label:"Move to list",position:{x:350,y:420}},{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e3-4",source:"3",target:"4"},{id:"e4-5",source:"4",target:"5"}]);let l=0;const a=()=>`dndnode_${l++}`,{findNode:r,onConnect:d,nodes:i,edges:g,addEdges:f,addNodes:q,viewport:es,project:O,vueFlowRef:P}=Q({nodes:[]}),H=c=>{c.preventDefault(),c.dataTransfer&&(c.dataTransfer.dropEffect="move")};d(c=>f([c]));const G=c=>{var L;const b=(L=c.dataTransfer)==null?void 0:L.getData("application/vueflow"),{left:B,top:X}=P.value.getBoundingClientRect(),Y=O({x:c.clientX-B,y:c.clientY-X}),j={id:a(),type:b,position:Y,label:`${b} node`};q([j]),Z(()=>{const y=r(j.id),K=ee(()=>y.dimensions,E=>{E.width>0&&E.height>0&&(y.position={x:y.position.x-y.dimensions.width/2,y:y.position.y-y.dimensions.height/2},K())},{deep:!0,flush:"post"})})},I=function(){axios.post("/workflow/save",{elements:t.value}).then(function(c){console.log(c)}).catch(function(c){console.log(c)}),console.log(t.value),alert("Workflow saved")};return(c,b)=>(u(),h("div",{class:"row w-100 h-100 mx-0",onDrop:G},[e("div",ut,[p(n(J),{onDragover:H,modelValue:t.value,"onUpdate:modelValue":b[0]||(b[0]=B=>t.value=B),"node-types":o},{default:S(()=>[p(n(te)),p(n(A),null,{default:S(()=>[e("h1",ht,m(s.panelTitle),1)]),_:1}),p(n(A),{position:n(se).BottomRight},{default:S(()=>[e("button",{class:"btn btn-success me-2",onClick:I},m(c.$t("Save")),1),e("button",gt,m(c.$t("Cancel")),1)]),_:1},8,["position"])]),_:1},8,["modelValue"])]),e("div",_t,[p(Ge)])],32))}};const ft={class:"row p-3"},vt={class:"d-flex justify-content-between"},wt=["onClick"],yt=e("i",{class:"align-middle fas fa-fw fa-minus-circle"},null,-1),xt=[yt],bt=["onClick"],kt=e("i",{class:"align-middle ms-2 fas fa-fw fa-plus-circle"},null,-1),$t=[kt],Ct={class:"col-md-4"},St={class:"mb-3"},Tt=e("label",{for:"stage_name",class:"form-label"},"Stage name",-1),Bt=["name","onUpdate:modelValue"],Mt={class:"col-md-5"},Dt={class:"mb-3"},Nt=e("label",{for:"stage_description",class:"form-label"},"Stage description",-1),jt=["name","onUpdate:modelValue"],Lt={class:"col-md-3"},Et={class:"d-flex flex-column mb-3"},At=e("label",{for:"stage_color",class:"form-label"},"Stage color",-1),Vt={class:"d-flex align-items-center"},Rt=["name","onUpdate:modelValue"],Wt={class:"fs-4 ms-3"},zt=["name","value"],Ft={__name:"PipelineStageRepeater",props:{stages:{type:Array}},setup(s){const o=s,t=$([{name:"Default",description:"This is some description",color:"#366dc7"}]);D(()=>{o.stages.length&&(t.value=o.stages)});const l=()=>{t.value.push({name:"",description:"",color:"#366dc7"})},a=r=>{const d=t.value.indexOf(r);d>-1&&t.value.splice(d,1)};return(r,d)=>(u(),oe(ne,{name:"stage-list",appear:""},{default:S(()=>[(u(!0),h(z,null,W(t.value,(i,g)=>(u(),h("div",{class:"d-flex flex-column bg-light mb-3 rounded-3",key:g},[e("div",ft,[e("div",vt,[e("h6",null,"#"+m(g+1)+" - "+m(i.name),1),e("div",null,[x(e("button",{class:"btn text-danger btn-lg border-0 p-0",onClick:R(f=>a(i),["prevent"]),title:"Remove Stage"},xt,8,wt),[[V,g||!g&&t.value.length>1]]),x(e("button",{class:"btn text-info btn-lg border-0 p-0",title:"Add New Stage",onClick:R(l,["prevent"])},$t,8,bt),[[V,g===t.value.length-1]])])]),e("div",Ct,[e("div",St,[Tt,x(e("input",{class:"form-control",name:`pipeline_stages[${g}][name]`,placeholder:"Enter stage name",type:"text",id:"stage_name","onUpdate:modelValue":f=>i.name=f},null,8,Bt),[[T,i.name]])])]),e("div",Mt,[e("div",Dt,[Nt,x(e("input",{class:"form-control",name:`pipeline_stages[${g}][description]`,placeholder:"Enter stage description",type:"text",id:"stage_description","onUpdate:modelValue":f=>i.description=f},null,8,jt),[[T,i.description]])])]),e("div",Lt,[e("div",Et,[At,e("div",Vt,[x(e("input",{type:"color",name:`pipeline_stages[${g}][color]`,id:"stage_color","onUpdate:modelValue":f=>i.color=f,style:{height:"30px"}},null,8,Rt),[[T,i.color]]),e("span",Wt,m(i.color),1)])])]),e("input",{type:"hidden",name:`pipeline_stages[${g}][id]`,value:i.id},null,8,zt)])]))),128))]),_:1}))}};const Ut=(s,o)=>{const t=s.__vccOpts||s;for(const[l,a]of o)t[l]=a;return t},qt={class:"mb-3 position-relative d-flex flex-column align-items-center"},Ot={for:"body",class:"form-label align-self-start"},Pt={class:"placeholder-buttons bg-light"},Ht={class:"d-flex gap-1"},Gt={key:0,class:"invalid-feedback"},It={__name:"TextArea",props:{errorMessage:{type:String,required:!0},messageBody:{type:String}},setup(s){const o=s,t=$(""),l=$(null);D(()=>{t.value=o.messageBody});const a=(r,d)=>{r.preventDefault();const i=l.value,g=i.selectionStart,f=`[[${d}]]`;t.value=`${t.value.substring(0,g)} ${f}${t.value.substring(g)}`,i.focus()};return(r,d)=>(u(),h("div",qt,[e("label",Ot,m(r.$t("Message Body")),1),x(e("textarea",{ref_key:"textarea",ref:l,"onUpdate:modelValue":d[0]||(d[0]=i=>t.value=i),name:"body",id:"body",class:C([{"is-invalid":s.errorMessage},"form-control"]),cols:"10",rows:"10"},`
         `,2),[[T,t.value]]),e("div",Pt,[e("span",null,m(r.$t("Add message placeholders"))+":",1),e("div",Ht,[e("button",{onClick:d[1]||(d[1]=i=>a(i,"firstname")),class:"btn btn-sm btn-info"},m(r.$t("Firstname")),1),e("button",{onClick:d[2]||(d[2]=i=>a(i,"lastname")),class:"btn btn-sm btn-info"},m(r.$t("Lastname")),1),e("button",{onClick:d[3]||(d[3]=i=>a(i,"email")),class:"btn btn-sm btn-info"},m(r.$t("Email")),1)])]),s.errorMessage?(u(),h("small",Gt,m(s.errorMessage),1)):ae("",!0)]))}},Xt=Ut(It,[["__scopeId","data-v-8a7f9951"]]);const Yt=e("label",{class:"typo__label"},"Select assignees",-1),Kt=["value"],Qt={__name:"AssigneeListMultiselect",props:{assignees:{type:Array},users:{type:Array}},setup(s){const o=s,t=$([]);return D(()=>{o.assignees.length&&(t.value=o.assignees)}),(l,a)=>(u(),h("div",null,[Yt,p(n(le),{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=r=>t.value=r),options:s.users,multiple:!0,"close-on-select":!0,placeholder:"Pick some",label:"email","track-by":"email"},null,8,["modelValue","options"]),(u(!0),h(z,null,W(t.value,(r,d)=>(u(),h("input",{type:"hidden",name:"assignees[]",value:r.id},null,8,Kt))),256))]))}};document.addEventListener("DOMContentLoaded",()=>{if(document.getElementsByClassName("js-simplebar")[0]){new ie(document.getElementsByClassName("js-simplebar")[0]);const o=document.getElementsByClassName("sidebar")[0];document.getElementsByClassName("sidebar-toggle")[0].addEventListener("click",()=>{o.classList.toggle("collapsed"),o.addEventListener("transitionend",()=>{window.dispatchEvent(new Event("resize"))})})}});document.addEventListener("DOMContentLoaded",()=>{F.replace()});window.feather=F;window.notyf=new de({duration:5e3,position:{x:"right",y:"top"},types:[{type:"default",backgroundColor:"#3B7DDD",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"info-bsha",backgroundColor:"#495e69",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"success",backgroundColor:"#28a745",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"warning",backgroundColor:"#ffc107",icon:{className:"notyf__icon--error",tagName:"i"}},{type:"danger",backgroundColor:"#dc3545",icon:{className:"notyf__icon--error",tagName:"i"}}]});window.dragula=re;window.jQuery=window.$=ce;const Jt={de:Be},U=pe({locale:"de",fallbackLocale:"en",messages:Jt});U.global.locale=document.documentElement.lang.substring(0,2);const Zt=ge(),N=ue({components:{WorkFlow:mt,PipelineStageRepeater:Ft,TextArea:Xt,AssigneeListMultiselect:Qt}});N.config.globalProperties.emitter=Zt;N.use(U);document.querySelector("#app")!==null&&N.mount("#app");window.DataTable=he;
