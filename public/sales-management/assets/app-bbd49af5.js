import{a as J,o as g,c as m,b as e,d as D,e as $,r as w,f as F,u as V,g as h,w as f,T as U,h as B,F as A,i as M,j as t,t as v,v as E,k as C,D as W,n as S,Y as N,l as I,m as T,_ as ne,p as ke,q as $e,E as ie,s as Q,x as Ce,y as O,z as Y,A as Fe,B as Se,C as oe,G,H as X,I as Ne,J as Be,S as Te,K as le,N as De,L as Ae,$ as Le,M as Me,O as je,P as Ve,Q as Ue}from"./vendor-b36b3129.js";let Ee=document.head.querySelector('meta[name="csrf-token"]').content;J.defaults.headers.common["X-CSRF-TOKEN"]=Ee;J.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";window.axios=J;const We="Dashboard",Oe="List",He="Edit",Pe="Delete",ze="Remove",Re="Name",Ie="Description",qe="Count",Ye="Speichern",Ge="Stornieren",Xe="Vorname",Ke="Nachname",Qe="Email",Je="Zurück",Ze="USt-ID",et="Anmerkungen",tt="Note",st="Activities",ot="Profil",nt={"Good day":"Guten Tag",Dashboard:We,"All Lists":"All Lists",List:Oe,Edit:He,Delete:Pe,Remove:ze,Name:Re,Description:Ie,Count:qe,Save:Ye,Cancel:Ge,"Message Body":"Nachrichtentext",Firstname:Xe,Lastname:Ke,"Add message placeholders":"Nachrichtenplatzhalter hinzufügen",Email:Qe,Back:Je,VAT:Ze,Notes:et,Note:tt,Activities:st,Profile:ot,"Send E-Mail":"E-Mail senden"};const it={class:"bg-light h-100 shadow-lg"},lt=D('<h5 class="sidebar-heading py-3 px-2"><span class="d-flex align-items-center justify-content-center fw-lighter text-center"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-move align-middle me-2"><polyline points="5 9 2 12 5 15"></polyline><polyline points="9 5 12 2 15 5"></polyline><polyline points="15 19 12 22 9 19"></polyline><polyline points="19 9 22 12 19 15"></polyline><line x1="2" y1="12" x2="22" y2="12"></line><line x1="12" y1="2" x2="12" y2="22"></line></svg>You can drag these nodes to the pane</span></h5>',1),at={class:"d-flex flex-column gap-2"},dt={class:"d-flex flex-wrap gap-2 align-items-center my-3 px-4"},rt=D('<span class="start-box px-3 justify-content-center"><span class="start-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-flag"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line></svg></span> Start </span>',1),ct=[rt],pt=D('<div class="bg-white shadow-sm px-3 py-2"><h6 class="mb-0"><span class="d-flex align-items-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-git-pull-request align-middle me-2"><circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line></svg> Conditions</span></h6></div>',1),ut={class:"d-flex flex-wrap gap-4 align-items-center my-3 px-4"},ht=D('<span class="condition-box pe-2 justify-content-center"><span class="condition-box__icon"><span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-play-circle align-middle"><circle cx="12" cy="12" r="10"></circle><polygon points="10 8 16 12 10 16 10 8"></polygon></svg></span></span> On Run</span>',1),gt=[ht],mt=D('<span class="condition-box pe-2 justify-content-end"><span class="condition-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Stage Changed</span>',1),ft=[mt],_t=e("span",{class:"condition-box pe-2 justify-content-end"},[e("span",{class:"condition-box__icon"},[e("span",null,[e("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"-10 -10 84 84","enable-background":"new -10 -10 84 84","xml:space":"preserve"},[e("g",null,[e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"36",y1:"9",x2:"45",y2:"9"}),e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"19",y1:"17",x2:"45",y2:"17"}),e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"19",y1:"25",x2:"45",y2:"25"}),e("g",null,[e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"1,26 32,45.434 63,26"}),e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"11.334,21.667 1,26 1,63 63,63 63,26 63,26 52.666,21.667"}),e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"11,32 11,1 53,1 53,32"})])])])])]),$(" Message Opened ")],-1),yt=[_t],vt=e("span",{class:"condition-box pe-2 justify-content-center"},[e("span",{class:"condition-box__icon"},[e("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 52.965 52.965",width:"15",height:"15","xml:space":"preserve"},[e("path",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:`M24.008,13.401L33.2,4.208
                                    c4.278-4.278,11.278-4.278,15.556,0l0,0c4.278,4.278,4.278,11.278,0,15.556L36.735,31.786c-4.278,4.278-11.278,4.278-15.556,0l0,0`}),e("path",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:`M27.543,40.978l-7.778,7.778
                                    c-4.278,4.278-11.278,4.278-15.556,0l0,0c-4.278-4.278-4.278-11.278,0-15.556l11.314-11.314c4.278-4.278,11.278-4.278,15.556,0l0,0`}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"33.965",y1:"45",x2:"33.965",y2:"51"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"37.722",y1:"43",x2:"41.965",y2:"47.243"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"38.965",y1:"39",x2:"44.965",y2:"39"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"15.965",y1:"10",x2:"15.965",y2:"4"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"12.207",y1:"12",x2:"7.965",y2:"7.757"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"10.965",y1:"16",x2:"4.965",y2:"16"})])]),$(" Link Clicked ")],-1),wt=[vt],bt=D('<div class="bg-white shadow-sm px-3 py-2"><h6 class="mb-0"><span class="d-flex align-items-center"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-repeat align-middle me-2"><polyline points="17 1 21 5 17 9"></polyline><path d="M3 11V9a4 4 0 0 1 4-4h14"></path><polyline points="7 23 3 19 7 15"></polyline><path d="M21 13v2a4 4 0 0 1-4 4H3"></path></svg> Actions</span></h6></div>',1),xt={class:"d-flex flex-wrap gap-4 align-items-center my-3 px-4"},kt=D('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail align-middle"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></span> Send Message </span>',1),$t=[kt],Ct=D('<span class="action-box px-3 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock align-middle"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></span> Wait </span>',1),Ft=[Ct],St=D('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag align-middle"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg></span> Add Tag </span>',1),Nt=[St],Bt=D('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list align-middle"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></span> Move To List </span>',1),Tt=[Bt],Dt=D('<span class="action-box ps-2 justify-content-center"><span class="action-box__icon"><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg></span> A/B Split </span>',1),At=[Dt],Lt=D('<span class="action-box pe-2 justify-content-end"><span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span> Change Stage</span>',1),Mt=[Lt],jt={__name:"Sidebar",setup(o){const n=(s,a,r)=>{s.dataTransfer&&(s.dataTransfer.setData("application/vueflow",a),s.dataTransfer.effectAllowed="move")};return(s,a)=>(g(),m("aside",it,[lt,e("div",at,[e("div",dt,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[0]||(a[0]=r=>n(r,"action.start"))},ct,32)]),pt,e("div",ut,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[1]||(a[1]=r=>n(r,"condition.run"))},gt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[2]||(a[2]=r=>n(r,"condition.stage.changed"))},ft,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[3]||(a[3]=r=>n(r,"condition.message.opened"))},yt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[4]||(a[4]=r=>n(r,"condition.link.clicked"))},wt,32)]),bt,e("div",xt,[e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[5]||(a[5]=r=>n(r,"action.message.sent"))},$t,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[6]||(a[6]=r=>n(r,"action.wait"))},Ft,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[7]||(a[7]=r=>n(r,"action.add.tag"))},Nt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[8]||(a[8]=r=>n(r,"action.move.to.list"))},Tt,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[9]||(a[9]=r=>n(r,"action.ab.split"))},At,32),e("div",{class:"vue-flow__node-input shadow-sm",draggable:!0,onDragstart:a[10]||(a[10]=r=>n(r,"action.change.stage"))},Mt,32)])])]))}},Vt={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Ut={class:"bg-white p-3 rounded-3"},Et=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),$("Node Properties")])],-1),Wt={class:"mb-3"},Ot=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Stage",-1),Ht=["value"],Pt={class:"d-flex justify-content-end"},zt=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),$("Delete Node ")],-1),Rt=[zt],It={class:"condition-box"},qt=D('<span class="condition-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span>',1),Yt=e("span",{class:"circle"},null,-1),Gt=e("span",{class:"circle"},null,-1),ae={__name:"StageChanged",props:{id:String,label:String,type:String},setup(o){const n=o,s=w(!1),a=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),r=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let _=window.stages;const{findNode:u,onNodeClick:c,removeNodes:b,onPaneClick:k}=V(),y=w(u(n.id));c(d=>{d.event.target.classList.contains("handle")||d.node.id===y.value.id&&(s.value=!s.value)}),k(()=>{s.value=!1});const p=d=>{b([d],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(d,l)=>(g(),m("div",Vt,[h(t(W),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":o.id,position:t(C).Right},{default:f(()=>[h(U,{mode:"in-out",appear:""},{default:f(()=>[e("div",Ut,[Et,e("div",Wt,[Ot,B(e("select",{name:"argument",class:"form-select form-select-sm","onUpdate:modelValue":l[0]||(l[0]=i=>y.value.data=i),id:"argument"},[(g(!0),m(A,null,M(t(_),i=>(g(),m("option",{value:i},v(i.title),9,Ht))),256))],512),[[E,y.value.data]])]),e("div",Pt,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:l[1]||(l[1]=i=>p(y.value))},Rt)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",It,[qt,$(" "+v(y.value.data.title??"Stage Changed"),1)]),h(t(N),{id:`state.stage.changed.target.${o.id}`,type:"target",position:t(C).Top,style:S(t(a)),class:"handle"},{default:f(()=>[Yt]),_:1},8,["id","position","style"]),h(t(N),{id:`state.stage.changed.${o.id}`,type:"source",position:t(C).Bottom,style:S(t(r)),class:"handle"},{default:f(()=>[Gt]),_:1},8,["id","position","style"])]))}},Xt={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Kt={class:"bg-white p-3 rounded-3"},Qt=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),$("Node Properties")])],-1),Jt={class:"mb-3"},Zt=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Message",-1),es=["value"],ts={class:"d-flex justify-content-end"},ss=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),$("Delete Node ")],-1),os=[ss],ns={class:"action-box ps-1"},is=e("span",{class:"action-box__icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-mail align-middle"},[e("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),e("polyline",{points:"22,6 12,13 2,6"})])],-1),ls=e("span",{class:"circle"},null,-1),as=e("span",{class:"circle"},null,-1),de={__name:"SendMessage",props:{id:String,label:String,type:String},setup(o){const n=o,s=w(!1),a=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),r=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let _=window.messages;const{findNode:u,onNodeClick:c,removeNodes:b,onPaneClick:k}=V(),y=w(u(n.id));c(d=>{d.event.target.classList.contains("handle")||d.node.id===y.value.id&&(s.value=!s.value)}),k(()=>{s.value=!1});const p=d=>{b([d],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(d,l)=>(g(),m("div",Xt,[h(t(W),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":o.id,position:t(C).Right},{default:f(()=>[h(U,{mode:"in-out",appear:""},{default:f(()=>[e("div",Kt,[Qt,e("div",Jt,[Zt,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":l[0]||(l[0]=i=>y.value.data=i)},[(g(!0),m(A,null,M(t(_),i=>(g(),m("option",{value:i},v(i.title),9,es))),256))],512),[[E,y.value.data]])]),e("div",ts,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:l[1]||(l[1]=i=>p(y.value))},os)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",ns,[is,$(" "+v(y.value.data.title??"Send Message"),1)]),h(t(N),{id:`state.message.sent.${o.id}`,type:"source",position:t(C).Bottom,style:S(t(r)),class:"handle"},{default:f(()=>[ls]),_:1},8,["id","position","style"]),h(t(N),{id:`state.message.sent.target.${o.id}`,type:"target",position:t(C).Top,style:S(t(a)),class:"handle"},{default:f(()=>[as]),_:1},8,["id","position","style"])]))}},ds={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},rs={class:"bg-white p-3 rounded-3"},cs=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),$("Node Properties")])],-1),ps={class:"mb-3"},us=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Wait Time",-1),hs=["value"],gs={class:"d-flex justify-content-end"},ms=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),$("Delete Node ")],-1),fs=[ms],_s={class:"action-box ps-1"},ys=e("span",{class:"action-box__icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-clock align-middle"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12 6 12 12 16 14"})])],-1),vs=e("span",{class:"circle"},null,-1),ws=e("span",{class:"circle"},null,-1),re={__name:"Wait",props:{id:String,label:String,type:String},setup(o){const n=o,s=w(!1),a=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),r=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let _=window.waitOptions;const{findNode:u,onNodeClick:c,removeNodes:b,onPaneClick:k}=V(),y=w(u(n.id));c(d=>{d.event.target.classList.contains("handle")||d.node.id===y.value.id&&(s.value=!s.value)});const p=d=>{b([d],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return k(()=>{s.value=!1}),(d,l)=>(g(),m("div",ds,[h(t(W),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":o.id,position:t(C).Right},{default:f(()=>[h(U,{mode:"in-out",appear:""},{default:f(()=>[e("div",rs,[cs,e("div",ps,[us,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":l[0]||(l[0]=i=>y.value.data=i)},[(g(!0),m(A,null,M(t(_),i=>(g(),m("option",{value:i},v(i.title),9,hs))),256))],512),[[E,y.value.data]])]),e("div",gs,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:l[1]||(l[1]=i=>p(y.value))},fs)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",_s,[ys,$(" Wait "+v(y.value.data.title??""),1)]),h(t(N),{id:`state.wait.target.${o.id}`,type:"target",position:t(C).Top,style:S(t(a)),class:"handle"},{default:f(()=>[vs]),_:1},8,["id","position","style"]),h(t(N),{id:`state.wait.${o.id}`,type:"source",position:t(C).Bottom,style:S(t(r)),class:"handle"},{default:f(()=>[ws]),_:1},8,["id","position","style"])]))}},bs={class:"bg-white p-3 rounded-3"},xs=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),$("Node Properties")])],-1),ks={class:"d-flex justify-content-end"},$s=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),$("Delete Node ")],-1),Cs=[$s],Fs=D('<span class="start-box pe-2 justify-content-center"><span class="start-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-flag"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line></svg></span> Start </span>',1),Ss=e("span",{class:"circle"},null,-1),ce={__name:"Start",props:{id:String,label:String,type:String},setup(o){const n=o,s=w(!1),a=w(),r=w(),_=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-6px"})),{findNode:u,onNodeClick:c,removeNodes:b,onPaneClick:k}=V(),y=w(u(n.id));c(d=>{d.event.target.classList.contains("handle")||d.node.id===y.value.id&&(s.value=!s.value)}),k(()=>{s.value=!1});const p=d=>{b([d],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(d,l)=>(g(),m("div",{class:"vue-flow__node-input shadow-sm",ref_key:"nodeWrapper",ref:a},[h(t(W),{ref_key:"nodeToolbar",ref:r,style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":o.id,position:t(C).Right},{default:f(()=>[h(U,{mode:"in-out",appear:""},{default:f(()=>[e("div",bs,[xs,e("div",ks,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:l[0]||(l[0]=i=>p(y.value))},Cs)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),Fs,h(t(N),{id:"start",type:"source",position:t(C).Bottom,style:S(t(_)),class:"handle"},{default:f(()=>[Ss]),_:1},8,["position","style"])],512))}},Ns={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Bs={class:"bg-white p-3 rounded-3"},Ts=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),$("Node Properties")])],-1),Ds={class:"mb-3"},As=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Tag",-1),Ls=["value"],Ms={class:"d-flex justify-content-end"},js=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),$("Delete Node ")],-1),Vs=[js],Us={class:"action-box ps-1"},Es=e("span",{class:"action-box__icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-tag align-middle"},[e("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}),e("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})])],-1),Ws=e("span",{class:"circle"},null,-1),Os=e("span",{class:"circle"},null,-1),pe={__name:"AddTag",props:{id:String,label:String,type:String},setup(o){const n=o,s=w(!1),a=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),r=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let _=window.tags;const{findNode:u,onNodeClick:c,removeNodes:b,onPaneClick:k}=V(),y=w(u(n.id));c(d=>{d.event.target.classList.contains("handle")||d.node.id===y.value.id&&(s.value=!s.value)}),k(()=>{s.value=!1});const p=d=>{b([d],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(d,l)=>(g(),m("div",Ns,[h(t(W),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":o.id,position:t(C).Right},{default:f(()=>[h(U,{mode:"in-out",appear:""},{default:f(()=>[e("div",Bs,[Ts,e("div",Ds,[As,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":l[0]||(l[0]=i=>y.value.data=i)},[(g(!0),m(A,null,M(t(_),i=>(g(),m("option",{value:i},v(i.title),9,Ls))),256))],512),[[E,y.value.data]])]),e("div",Ms,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:l[1]||(l[1]=i=>p(y.value))},Vs)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",Us,[Es,$(" "+v(y.value.data.title??"Add Tag"),1)]),h(t(N),{id:`state.tag.add.${o.id}`,type:"source",position:t(C).Bottom,style:S(t(r)),class:"handle"},{default:f(()=>[Ws]),_:1},8,["id","position","style"]),h(t(N),{id:`state.tag.add.target.${o.id}`,type:"target",position:t(C).Top,style:S(t(a)),class:"handle"},{default:f(()=>[Os]),_:1},8,["id","position","style"])]))}},Hs={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Ps={class:"bg-white p-3 rounded-3"},zs=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),$("Node Properties")])],-1),Rs={class:"mb-3"},Is=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Message",-1),qs=["value"],Ys={class:"d-flex justify-content-end"},Gs=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),$("Delete Node ")],-1),Xs=[Gs],Ks={class:"condition-box"},Qs=e("span",{class:"condition-box__icon"},[e("span",null,[e("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"-10 -10 84 84","enable-background":"new -10 -10 84 84","xml:space":"preserve"},[e("g",null,[e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"36",y1:"9",x2:"45",y2:"9"}),e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"19",y1:"17",x2:"45",y2:"17"}),e("line",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",x1:"19",y1:"25",x2:"45",y2:"25"}),e("g",null,[e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"1,26 32,45.434 63,26"}),e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"11.334,21.667 1,26 1,63 63,63 63,26 63,26 52.666,21.667"}),e("polyline",{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-miterlimit":"10",points:"11,32 11,1 53,1 53,32"})])])])])],-1),Js=e("span",{class:"circle"},null,-1),Zs=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1),eo=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),ue={__name:"MessageOpened",props:{id:String,label:String,type:String},setup(o){const n=o,s=w(!1),a=F(()=>({backgroundColor:"green",left:"48px",width:"14px",height:"14px",right:"auto",bottom:"-7px"})),r=F(()=>({backgroundColor:"red",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"})),_=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-6px"}));let u=window.messagesOpened;const{findNode:c,onNodeClick:b,removeNodes:k,onPaneClick:y}=V(),p=w(c(n.id));b(l=>{l.event.target.classList.contains("handle")||l.node.id===p.value.id&&(s.value=!s.value)}),y(()=>{s.value=!1});const d=l=>{k([l],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(l,i)=>(g(),m("div",Hs,[h(t(W),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":o.id,position:t(C).Right},{default:f(()=>[h(U,{mode:"in-out",appear:""},{default:f(()=>[e("div",Ps,[zs,e("div",Rs,[Is,B(e("select",{name:"argument",class:"form-select form-select-sm","onUpdate:modelValue":i[0]||(i[0]=x=>p.value.data=x),id:"argument"},[(g(!0),m(A,null,M(t(u),x=>(g(),m("option",{value:x},v(x.title),9,qs))),256))],512),[[E,p.value.data]])]),e("div",Ys,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:i[1]||(i[1]=x=>d(p.value))},Xs)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",Ks,[Qs,$(" "+v(p.value.data.title??"Message Opened"),1)]),h(t(N),{id:`state.message.opened.target.${o.id}`,type:"target",position:t(C).Top,style:S(t(_)),class:"handle"},{default:f(()=>[Js]),_:1},8,["id","position","style"]),h(t(N),{id:`state.message.opened.${o.id}`,type:"source",position:t(C).Bottom,style:S(t(a)),class:"handle"},{default:f(()=>[Zs]),_:1},8,["id","position","style"]),h(t(N),{id:`state.message.not_opened.${o.id}`,type:"source",position:t(C).Bottom,style:S(t(r)),class:"handle"},{default:f(()=>[eo]),_:1},8,["id","position","style"])]))}},to={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},so={class:"bg-white p-3 rounded-3"},oo=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),$("Node Properties")])],-1),no={class:"mb-3"},io=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose List",-1),lo=["value"],ao={class:"d-flex justify-content-end"},ro=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),$("Delete Node ")],-1),co=[ro],po={class:"action-box ps-1"},uo=D('<span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-list align-middle"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg></span>',1),ho=e("span",{class:"circle"},null,-1),go=e("span",{class:"circle"},null,-1),he={__name:"MoveToList",props:{id:String,label:String,type:String},setup(o){const n=o,s=w(!1),a=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),r=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let _=window.contactLists;const{findNode:u,onNodeClick:c,removeNodes:b,onPaneClick:k}=V(),y=w(u(n.id));c(d=>{d.event.target.classList.contains("handle")||d.node.id===y.value.id&&(s.value=!s.value)}),k(()=>{s.value=!1});const p=d=>{b([d],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(d,l)=>(g(),m("div",to,[h(t(W),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":o.id,position:t(C).Right},{default:f(()=>[h(U,{mode:"in-out",appear:""},{default:f(()=>[e("div",so,[oo,e("div",no,[io,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":l[0]||(l[0]=i=>y.value.data=i)},[(g(!0),m(A,null,M(t(_),i=>(g(),m("option",{value:i},v(i.title),9,lo))),256))],512),[[E,y.value.data]])]),e("div",ao,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:l[1]||(l[1]=i=>p(y.value))},co)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",po,[uo,$(" "+v(y.value.data.title??"Move To List"),1)]),h(t(N),{id:`state.move_to_list.${o.id}`,type:"source",position:t(C).Bottom,style:S(t(r)),class:"handle"},{default:f(()=>[ho]),_:1},8,["id","position","style"]),h(t(N),{id:`state.move_to_list.target.${o.id}`,type:"target",position:t(C).Top,style:S(t(a)),class:"handle"},{default:f(()=>[go]),_:1},8,["id","position","style"])]))}},mo={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},fo={class:"bg-white p-3 rounded-3"},_o=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),$("Node Properties")])],-1),yo={class:"mb-3"},vo=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose split",-1),wo=["value"],bo={class:"d-flex justify-content-end"},xo=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),$("Delete Node ")],-1),ko=[xo],$o={class:"action-box ps-1"},Co=D('<span class="action-box__icon"><svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="16" x2="12" y2="16"></line><line x1="12" y1="8" x2="12" y2="8"></line></svg></span>',1),Fo=e("span",{class:"circle"},null,-1),So=e("span",{class:"circle"},null,-1),No=e("span",{class:"circle"},null,-1),ge={__name:"ABSplit",props:{id:String,label:String,type:String},setup(o){const n=o,s=w(!1),a=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),r=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",left:"48px",right:"auto",bottom:"-7px"})),_=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"}));let u=window.abSplit;const{findNode:c,onNodeClick:b,removeNodes:k,onPaneClick:y}=V(),p=w(c(n.id));b(l=>{l.event.target.classList.contains("handle")||l.node.id===p.value.id&&(s.value=!s.value)}),y(()=>{s.value=!1});const d=l=>{k([l],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(l,i)=>(g(),m("div",mo,[h(t(W),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":o.id,position:t(C).Right},{default:f(()=>[h(U,{mode:"in-out",appear:""},{default:f(()=>[e("div",fo,[_o,e("div",yo,[vo,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":i[0]||(i[0]=x=>p.value.data=x)},[(g(!0),m(A,null,M(t(u),x=>(g(),m("option",{value:x},v(x.title),9,wo))),256))],512),[[E,p.value.data]])]),e("div",bo,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:i[1]||(i[1]=x=>d(p.value))},ko)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",$o,[Co,$(" "+v(p.value.data.title??"A/B Split"),1)]),h(t(N),{id:`state.abSplit.target.${o.id}`,type:"target",position:t(C).Top,style:S(t(a)),class:"handle"},{default:f(()=>[Fo]),_:1},8,["id","position","style"]),h(t(N),{id:`state.abSplit.left.${o.id}`,type:"source",position:t(C).Bottom,style:S(t(r)),class:"handle"},{default:f(()=>[So]),_:1},8,["id","position","style"]),h(t(N),{id:`state.abSplit.right.${o.id}`,type:"source",position:t(C).Bottom,style:S(t(_)),class:"handle"},{default:f(()=>[No]),_:1},8,["id","position","style"])]))}},Bo={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},To={class:"bg-white p-3 rounded-3"},Do=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),$("Node Properties")])],-1),Ao={class:"d-flex justify-content-end"},Lo=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),$("Delete Node ")],-1),Mo=[Lo],jo={class:"condition-box"},Vo=e("span",{class:"condition-box__icon"},[e("span",null,[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-play-circle align-middle"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polygon",{points:"10 8 16 12 10 16 10 8"})])])],-1),Uo=e("span",{class:"circle"},null,-1),Eo=e("span",{class:"circle"},null,-1),me={__name:"Run",props:{id:String,label:String,type:String},setup(o){const n=o,s=w(!1),a=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),r=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"})),{findNode:_,onNodeClick:u,removeNodes:c,onPaneClick:b}=V(),k=w(_(n.id));k.value.data={argument:window.workflowId},u(p=>{p.event.target.classList.contains("handle")||p.node.id===k.value.id&&(s.value=!s.value)}),b(()=>{s.value=!1});const y=p=>{c([p],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(p,d)=>(g(),m("div",Bo,[h(t(W),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":o.id,position:t(C).Right},{default:f(()=>[h(U,{mode:"in-out",appear:""},{default:f(()=>[e("div",To,[Do,e("div",Ao,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:d[0]||(d[0]=l=>y(k.value))},Mo)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",jo,[Vo,$(" "+v(k.value.data.title??"On Run"),1)]),h(t(N),{id:`state.run.target.${o.id}`,type:"target",position:t(C).Top,style:S(t(a)),class:"handle"},{default:f(()=>[Uo]),_:1},8,["id","position","style"]),h(t(N),{id:`state.run.${o.id}`,type:"source",position:t(C).Bottom,style:S(t(r)),class:"handle"},{default:f(()=>[Eo]),_:1},8,["id","position","style"])]))}},Wo={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Oo={class:"bg-white p-3 rounded-3"},Ho=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),$("Node Properties")])],-1),Po={class:"mb-3"},zo=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Stage",-1),Ro=["value"],Io={class:"d-flex justify-content-end"},qo=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),$("Delete Node ")],-1),Yo=[qo],Go={class:"action-box ps-1"},Xo=D('<span class="action-box__icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw align-middle"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span>',1),Ko=e("span",{class:"circle"},null,-1),Qo=e("span",{class:"circle"},null,-1),fe={__name:"ChangeStage",props:{id:String,label:String,type:String},setup(o){const n=o,s=w(!1),a=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-7px"})),r=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",bottom:"-7px"}));let _=window.stageActions;const{findNode:u,onNodeClick:c,removeNodes:b,onPaneClick:k}=V(),y=w(u(n.id));c(d=>{d.event.target.classList.contains("handle")||d.node.id===y.value.id&&(s.value=!s.value)}),k(()=>{s.value=!1});const p=d=>{b([d],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(d,l)=>(g(),m("div",Wo,[h(t(W),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":o.id,position:t(C).Right},{default:f(()=>[h(U,{mode:"in-out",appear:""},{default:f(()=>[e("div",Oo,[Ho,e("div",Po,[zo,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":l[0]||(l[0]=i=>y.value.data=i)},[(g(!0),m(A,null,M(t(_),i=>(g(),m("option",{value:i},v(i.title),9,Ro))),256))],512),[[E,y.value.data]])]),e("div",Io,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:l[1]||(l[1]=i=>p(y.value))},Yo)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),e("span",Go,[Xo,$(" "+v(y.value.data.title??"Change Stage"),1)]),h(t(N),{id:`state.change.stage.target.${o.id}`,type:"target",position:t(C).Top,style:S(t(a)),class:"handle"},{default:f(()=>[Ko]),_:1},8,["id","position","style"]),h(t(N),{id:`state.change.stage.${o.id}`,type:"source",position:t(C).Bottom,style:S(t(r)),class:"handle"},{default:f(()=>[Qo]),_:1},8,["id","position","style"])]))}},Jo={class:"vue-flow__node-input shadow-sm",style:{"min-width":"150px",width:"100%","padding-left":"2rem","padding-right":"2rem"}},Zo={class:"bg-white p-3 rounded-3"},en=e("h5",{class:"mb-3"},[e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-cogs"}),$("Node Properties")])],-1),tn={class:"mb-3"},sn=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Message",-1),on=["value"],nn={key:0,class:"mb-3"},ln=e("label",{for:"argument",class:"form-label",style:{"font-size":"12px"}},"Choose Link",-1),an=["value"],dn={class:"d-flex justify-content-end"},rn=e("span",{class:"d-flex align-items-center"},[e("i",{class:"align-middle me-1 fas fa-fw fa-trash"}),$("Delete Node ")],-1),cn=[rn],pn=e("span",{class:"condition-box"},[e("span",{class:"condition-box__icon"},[e("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 52.965 52.965",width:"15",height:"15","xml:space":"preserve"},[e("path",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:`M24.008,13.401L33.2,4.208
                        c4.278-4.278,11.278-4.278,15.556,0l0,0c4.278,4.278,4.278,11.278,0,15.556L36.735,31.786c-4.278,4.278-11.278,4.278-15.556,0l0,0`}),e("path",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-miterlimit":"10"},d:`M27.543,40.978l-7.778,7.778
                        c-4.278,4.278-11.278,4.278-15.556,0l0,0c-4.278-4.278-4.278-11.278,0-15.556l11.314-11.314c4.278-4.278,11.278-4.278,15.556,0l0,0`}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"33.965",y1:"45",x2:"33.965",y2:"51"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"37.722",y1:"43",x2:"41.965",y2:"47.243"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"38.965",y1:"39",x2:"44.965",y2:"39"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"15.965",y1:"10",x2:"15.965",y2:"4"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"12.207",y1:"12",x2:"7.965",y2:"7.757"}),e("line",{style:{fill:"none",stroke:"#FFFFFF","stroke-width":"3","stroke-linecap":"round","stroke-miterlimit":"10"},x1:"10.965",y1:"16",x2:"4.965",y2:"16"})])]),$(" Link Clicked ")],-1),un=e("span",{class:"circle"},null,-1),hn=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1),gn=e("svg",{width:"10",height:"10",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"white"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),_e={__name:"LinkClicked",props:{id:String,label:String,type:String},setup(o){const n=o,s=w(!1),a=F(()=>({backgroundColor:"green",left:"48px",width:"14px",height:"14px",right:"auto",bottom:"-7px"})),r=F(()=>({backgroundColor:"red",width:"14px",height:"14px",right:"40px",left:"auto",bottom:"-7px"})),_=F(()=>({backgroundColor:"white",borderColor:"#dcdbdb",borderStyle:"solid",borderWidth:"1px",width:"14px",height:"14px",top:"-6px"}));let u=w(window.messagesWithLinks);const{findNode:c,onNodeClick:b,removeNodes:k,onPaneClick:y}=V(),p=w(c(n.id)),d=F(()=>u.value.find(i=>i.argument===p.value.data.message)||{links:[]});p.value.data.argument=F(()=>p.value.data.message&&p.value.data.link?`${p.value.data.message}.${p.value.data.link}`:""),b(i=>{i.event.target.classList.contains("handle")||i.node.id===p.value.id&&(s.value=!s.value)}),y(()=>{s.value=!1});const l=i=>{k([i],!0),window.notyf.open({type:"success",message:"Node successfully deleted!",duration:"3000",ripple:!0,dismissible:!0})};return(i,x)=>(g(),m("div",Jo,[h(t(W),{style:{display:"flex",gap:"0.5rem","align-items":"center"},"is-visible":s.value,"node-id":o.id,position:t(C).Right},{default:f(()=>[h(U,{mode:"in-out",appear:""},{default:f(()=>[e("div",Zo,[en,e("div",tn,[sn,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":x[0]||(x[0]=j=>p.value.data.message=j)},[(g(!0),m(A,null,M(t(u),j=>(g(),m("option",{value:j.argument},v(j.title),9,on))),256))],512),[[E,p.value.data.message]])]),h(U,{mode:"in-out",appear:""},{default:f(()=>{var j,z;return[(z=(j=t(d))==null?void 0:j.links)!=null&&z.length?(g(),m("div",nn,[ln,B(e("select",{name:"argument",class:"form-select","onUpdate:modelValue":x[1]||(x[1]=H=>p.value.data.link=H)},[(g(!0),m(A,null,M(t(d).links,H=>(g(),m("option",{value:H.url},v(H.text),9,an))),256))],512),[[E,p.value.data.link]])])):I("",!0)]}),_:1}),e("div",dn,[e("button",{class:"btn btn-danger btn-sm rounded-2",onClick:x[2]||(x[2]=j=>l(p.value))},cn)])])]),_:1})]),_:1},8,["is-visible","node-id","position"]),pn,h(t(N),{id:`state.link.clicked.target.${o.id}`,type:"target",position:t(C).Top,style:S(t(_)),class:"handle"},{default:f(()=>[un]),_:1},8,["id","position","style"]),h(t(N),{id:`state.link.clicked.${o.id}`,type:"source",position:t(C).Bottom,style:S(t(a)),class:"handle"},{default:f(()=>[hn]),_:1},8,["id","position","style"]),h(t(N),{id:`state.link.not_clicked.${o.id}`,type:"source",position:t(C).Bottom,style:S(t(r)),class:"handle"},{default:f(()=>[gn]),_:1},8,["id","position","style"])]))}};const mn={class:"col-lg-7 col-xl-8 col-xxl-9 pe-0"},fn={class:"d-flex gap-2"},_n=["href"],yn=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-arrow-left-circle align-middle me-2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12 8 8 12 12 16"}),e("line",{x1:"16",y1:"12",x2:"8",y2:"12"})],-1),vn={class:"h3 mb-3 px-4 py-2 bg-white"},wn={class:"d-flex gap-2"},bn={class:"d-flex align-items-center"},xn=e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-save align-middle me-2"},[e("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),e("polyline",{points:"17 21 17 13 7 13 7 21"}),e("polyline",{points:"7 3 7 8 15 8"})],-1),kn={class:"col-lg-5 col-xl-4 col-xxl-3 px-0"},$n={__name:"WorkFlow",props:{workflowName:{type:String,default:"Untitled"},workflowId:{type:Number,default:null},saveUrl:{type:String,default:"/automation/workflow/save"},elementsData:{type:Array,default:[]},messages:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesOpened:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesWithLinks:{type:Array},stages:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},tags:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},stageActions:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},abSplit:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},contactLists:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},waitOptions:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},backUrl:{type:String,default:"/"}},setup(o){const n=o,s={"condition.stage.changed":T(ae),"condition.message.opened":T(ue),"condition.run":T(me),"condition.link.clicked":T(_e),"action.message.sent":T(de),"action.wait":T(re),"action.start":T(ce),"action.add.tag":T(pe),"action.move.to.list":T(he),"action.ab.split":T(ge),"action.change.stage":T(fe)},a=w(n.elementsData),r=w(n.workflowName);let _=0;const u=()=>Math.floor(Math.random()*1e4+1)+`_${_++}`,{findNode:c,onConnect:b,nodes:k,edges:y,onNodeClick:p,addEdges:d,addNodes:l,viewport:i,project:x,vueFlowRef:j}=V({nodes:[]});window.messages=n.messages,window.messagesOpened=n.messagesOpened,window.contactLists=n.contactLists,window.waitOptions=n.waitOptions,window.abSplit=n.abSplit,window.stages=n.stages,window.tags=n.tags,window.workflowId=n.workflowId,window.stageActions=n.stageActions,window.messagesWithLinks=n.messagesWithLinks;const z=L=>{L.preventDefault(),L.dataTransfer&&(L.dataTransfer.dropEffect="move")};b(L=>d([L]));const H=L=>{var te;const P=(te=L.dataTransfer)==null?void 0:te.getData("application/vueflow"),{left:q,top:we}=j.value.getBoundingClientRect(),be=x({x:L.clientX-q,y:L.clientY-we}),ee={id:u(),type:P,position:be,label:`${P} node`};l([ee]),ke(()=>{const R=c(ee.id),xe=$e(()=>R.dimensions,se=>{se.width>0&&se.height>0&&(R.position={x:R.position.x-R.dimensions.width/2,y:R.position.y-R.dimensions.height/2},xe())},{deep:!0,flush:"post"})})},K=function(){axios.post(n.saveUrl,{elements:a.value,title:r.value}).then(function(L){window.notyf.open({type:"success",message:"Workflow successfully saved!",duration:"5000",ripple:!0,dismissible:!0})}).catch(function(L){console.log(L),window.notyf.open({type:"warning",message:"Something went wrong!",duration:"5000",ripple:!0,dismissible:!0})})};return(L,P)=>(g(),m("div",{class:"row w-100 h-100 mx-0",onDrop:H},[e("div",mn,[h(t(ne),{onDragover:z,modelValue:a.value,"onUpdate:modelValue":P[1]||(P[1]=q=>a.value=q),"node-types":s,"default-edge-options":{type:"smoothstep"}},{default:f(()=>[h(t(ie)),h(t(Q),null,{default:f(()=>[e("div",fn,[e("a",{class:"d-flex align-items-center h4 mb-3 px-4 py-2 text-white bg-info text-decoration-none",href:o.backUrl},[yn,e("span",null,v(L.$t("Back")),1)],8,_n),e("h1",vn,v(r.value),1)])]),_:1}),h(t(Q),{position:t(Ce).BottomRight},{default:f(()=>[e("div",wn,[B(e("input",{type:"text",class:"form-control","onUpdate:modelValue":P[0]||(P[0]=q=>r.value=q),style:{"min-width":"200px"}},null,512),[[O,r.value]]),e("button",{class:"btn btn-success text-uppercase px-4",onClick:K},[e("span",bn,[xn,$(" "+v(L.$t("Save")),1)])])])]),_:1},8,["position"])]),_:1},8,["modelValue"])]),e("div",kn,[h(jt)])],32))}};const Cn={class:"row w-100 h-100 mx-0"},Fn={class:"col-lg-12 col-xl-12 col-xxl-12 pe-0"},Sn={class:"d-flex gap-2"},Nn=["href"],Bn=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-arrow-left-circle align-middle me-2"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12 8 8 12 12 16"}),e("line",{x1:"16",y1:"12",x2:"8",y2:"12"})],-1),Tn={class:"h3 mb-3 px-4 py-2 bg-white"},Dn={__name:"ShowWorkFlow",props:{workflowName:{type:String,default:"Untitled"},workflowId:{type:Number,default:null},elementsData:{type:Array,default:[]},messages:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesOpened:{type:Array,default:[{argument:3,action:"Message 3",title:"Message 3"}]},messagesWithLinks:{type:Array},stages:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},tags:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},stageActions:{type:Array,default:[{argument:"default",action:"default",title:"default",type:"default"}]},abSplit:{type:Array,default:[{argument:"50/50",action:"ABSplit",title:"50/50"}]},contactLists:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},waitOptions:{type:Array,default:[{argument:2,action:"contactList 2",title:"contactList 2"}]},backUrl:{type:String,default:"/"}},setup(o){const n=o,s={"condition.stage.changed":T(ae),"condition.message.opened":T(ue),"condition.run":T(me),"condition.link.clicked":T(_e),"action.message.sent":T(de),"action.wait":T(re),"action.start":T(ce),"action.add.tag":T(pe),"action.move.to.list":T(he),"action.ab.split":T(ge),"action.change.stage":T(fe)},a=w(n.elementsData),r=w(n.workflowName);return V({nodes:[]}),window.messages=n.messages,window.messagesOpened=n.messagesOpened,window.contactLists=n.contactLists,window.waitOptions=n.waitOptions,window.abSplit=n.abSplit,window.stages=n.stages,window.tags=n.tags,window.workflowId=n.workflowId,window.stageActions=n.stageActions,window.messagesWithLinks=n.messagesWithLinks,(_,u)=>(g(),m("div",Cn,[e("div",Fn,[h(t(ne),{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=c=>a.value=c),"node-types":s},{default:f(()=>[h(t(ie)),h(t(Q),null,{default:f(()=>[e("div",Sn,[e("a",{class:"d-flex align-items-center h4 mb-3 px-4 py-2 text-white bg-info text-decoration-none",href:o.backUrl},[Bn,e("span",null,v(_.$t("Back")),1)],8,Nn),e("h1",Tn,v(r.value),1)])]),_:1})]),_:1},8,["modelValue"])])]))}};const An={class:"row p-3"},Ln={class:"d-flex justify-content-between"},Mn=["onClick"],jn=e("i",{class:"align-middle fas fa-fw fa-minus-circle"},null,-1),Vn=[jn],Un=["onClick"],En=e("i",{class:"align-middle ms-2 fas fa-fw fa-plus-circle"},null,-1),Wn=[En],On={class:"col-md-4"},Hn={class:"mb-3"},Pn=e("label",{for:"stage_name",class:"form-label"},"Stage name",-1),zn=["name","onUpdate:modelValue"],Rn={class:"col-md-5"},In={class:"mb-3"},qn=e("label",{for:"stage_description",class:"form-label"},"Stage description",-1),Yn=["name","onUpdate:modelValue"],Gn={class:"col-md-3"},Xn={class:"d-flex flex-column mb-3"},Kn=e("label",{for:"stage_color",class:"form-label"},"Stage color",-1),Qn={class:"d-flex align-items-center"},Jn=["name","onUpdate:modelValue"],Zn={class:"fs-4 ms-3"},ei=["name","value"],ti={__name:"PipelineStageRepeater",props:{stages:{type:Array}},setup(o){const n=o,s=w([{name:"Default",description:"This is some description",color:"#366dc7"}]);Y(()=>{n.stages.length&&(s.value=n.stages)});const a=()=>{s.value.push({name:"",description:"",color:"#366dc7"})},r=_=>{const u=s.value.indexOf(_);u>-1&&s.value.splice(u,1)};return(_,u)=>(g(),Fe(Se,{name:"stage-list",appear:""},{default:f(()=>[(g(!0),m(A,null,M(s.value,(c,b)=>(g(),m("div",{class:"d-flex flex-column bg-light mb-3 rounded-3",key:b},[e("div",An,[e("div",Ln,[e("h6",null,"#"+v(b+1)+" - "+v(c.name),1),e("div",null,[B(e("button",{class:"btn text-danger btn-lg border-0 p-0",onClick:G(k=>r(c),["prevent"]),title:"Remove Stage"},Vn,8,Mn),[[oe,b||!b&&s.value.length>1]]),B(e("button",{class:"btn text-info btn-lg border-0 p-0",title:"Add New Stage",onClick:G(a,["prevent"])},Wn,8,Un),[[oe,b===s.value.length-1]])])]),e("div",On,[e("div",Hn,[Pn,B(e("input",{class:"form-control",name:`pipeline_stages[${b}][name]`,placeholder:"Enter stage name",type:"text",id:"stage_name","onUpdate:modelValue":k=>c.name=k},null,8,zn),[[O,c.name]])])]),e("div",Rn,[e("div",In,[qn,B(e("input",{class:"form-control",name:`pipeline_stages[${b}][description]`,placeholder:"Enter stage description",type:"text",id:"stage_description","onUpdate:modelValue":k=>c.description=k},null,8,Yn),[[O,c.description]])])]),e("div",Gn,[e("div",Xn,[Kn,e("div",Qn,[B(e("input",{type:"color",name:`pipeline_stages[${b}][color]`,id:"stage_color","onUpdate:modelValue":k=>c.color=k,style:{height:"30px"}},null,8,Jn),[[O,c.color]]),e("span",Zn,v(c.color),1)])])]),e("input",{type:"hidden",name:`pipeline_stages[${b}][id]`,value:c.id},null,8,ei)])]))),128))]),_:1}))}};const ye=(o,n)=>{const s=o.__vccOpts||o;for(const[a,r]of n)s[a]=r;return s},si={class:"mb-3 position-relative d-flex flex-column align-items-center"},oi={for:"body",class:"form-label align-self-start"},ni=["name"],ii={class:"placeholder-buttons bg-light"},li={class:"d-flex gap-1"},ai={key:0,class:"invalid-feedback"},di={__name:"TextArea",props:{errorMessage:{type:String,required:!0},messageBody:{type:String},name:{type:String,required:!0}},setup(o){const n=o,s=w(""),a=w(null);Y(()=>{s.value=n.messageBody});const r=(_,u)=>{_.preventDefault();const c=a.value,b=c.selectionStart,k=`[[${u}]]`;s.value=`${s.value.substring(0,b)} ${k}${s.value.substring(b)}`,c.focus()};return(_,u)=>(g(),m("div",si,[e("label",oi,v(_.$t("Message Body")),1),B(e("textarea",{ref_key:"textarea",ref:a,"onUpdate:modelValue":u[0]||(u[0]=c=>s.value=c),name:o.name,id:"body",class:X([{"is-invalid":o.errorMessage},"form-control"]),cols:"10",rows:"10"},`
         `,10,ni),[[O,s.value]]),e("div",ii,[e("span",null,v(_.$t("Add message placeholders"))+":",1),e("div",li,[e("button",{onClick:u[1]||(u[1]=c=>r(c,"firstname")),class:"btn btn-sm btn-info"},v(_.$t("Firstname")),1),e("button",{onClick:u[2]||(u[2]=c=>r(c,"lastname")),class:"btn btn-sm btn-info"},v(_.$t("Lastname")),1),e("button",{onClick:u[3]||(u[3]=c=>r(c,"email")),class:"btn btn-sm btn-info"},v(_.$t("Email")),1)])]),o.errorMessage?(g(),m("small",ai,v(o.errorMessage),1)):I("",!0)]))}},ri=ye(di,[["__scopeId","data-v-0c41e744"]]);const ci={class:"mb-3"},pi={class:"d-block form-label"},ui=["name","value"],hi={__name:"MultiSelectList",props:{selected:{type:Array},options:{type:Array,required:!0},name:{type:String},label:{type:String},placeholder:{type:String},labelBy:{type:String},trackBy:{type:String},syncTagsUrl:{type:String},modelId:{type:String}},setup(o){const n=o,s=w([]);Y(()=>{n.selected.length&&(s.value=n.selected)});function a(r,_){if(n.syncTagsUrl){let u=new FormData;u.append("modelId",n.modelId);for(let c=0;c<s.value.length;c++)u.append("tags[]",s.value[c].id);axios.post(n.syncTagsUrl,u,{headers:{"Content-Type":"application/json"}}).then(c=>{c.status===200&&window.notyf.open({type:"success",message:"Tags synced!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0})}).catch(c=>{console.log(c.message),c.response.status===422&&(errors.value=c.response.data.errors)})}}return(r,_)=>(g(),m("div",ci,[e("span",pi,v(o.label),1),h(t(Ne),{modelValue:s.value,"onUpdate:modelValue":_[0]||(_[0]=u=>s.value=u),options:o.options,multiple:!0,"close-on-select":!1,placeholder:o.placeholder,label:o.labelBy,"track-by":o.trackBy,onRemove:a,onSelect:a},null,8,["modelValue","options","placeholder","label","track-by"]),(g(!0),m(A,null,M(s.value,u=>(g(),m("input",{type:"hidden",name:o.name,value:u.id,key:u.id},null,8,ui))),128))]))}};const gi=["onSubmit"],mi={for:"note",class:"form-label fw-bold"},fi={class:"d-flex align-items-center"},_i=e("i",{class:"align-middle me-2 fas fa-fw fa-clipboard-list"},null,-1),yi=["placeholder"],vi=e("option",{value:"Note"},"Note",-1),wi=e("option",{value:"Call Accepted"},"Call Accepted",-1),bi=e("option",{value:"Call Declined"},"Call Declined",-1),xi=e("option",{value:"Meeting"},"Meeting",-1),ki=[vi,wi,bi,xi],$i=["disabled"],Ci={key:0,class:"invalid-feedback"},Fi=e("hr",null,null,-1),Si={class:"notes-container"},Ni={class:"d-flex flex-column"},Bi={class:"mb-1"},Ti={key:0,style:{"font-size":"11px"}},Di={style:{"font-size":"11px"}},Ai={class:"d-flex gap-1"},Li=["onClick"],Mi=e("i",{class:"align-middle me-2 fas fa-fw fa-trash text-danger"},null,-1),ji=[Mi],Vi={__name:"Notes",props:{url:{type:String},deleteUrl:{type:String},leadId:{type:String},leadNotes:{type:Array}},setup(o){const n=o,s=w([]),a=w(""),r=w("Note"),_=w({}),u=w(!1);Y(()=>{s.value=[...n.leadNotes]});const c=()=>{u.value=!0;let p=new FormData;p.append("note",a.value),p.append("note_type",r.value),p.append("lead_id",n.leadId),axios.post(n.url,p,{headers:{"Content-Type":"application/json"}}).then(d=>{d.status===200&&(s.value=[...s.value,d.data.leadNote],a.value="",u.value=!1,_.value={},window.notyf.open({type:"success",message:"Note saved!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}))}).catch(d=>{console.log(d.message),d.response.status===422&&(_.value=d.response.data.errors,u.value=!1)})},b=p=>{axios.delete(n.deleteUrl.replace(":noteId",p)).then(d=>{d.status===200&&(s.value=s.value.filter(l=>l.id!==p),window.notyf.open({type:"success",message:"Note deleted!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}))}).catch(d=>{console.log(d.message),window.notyf.open({type:"danger",message:d.message,duration:"2500",ripple:!0,position:"bottom right",dismissible:!0})})},k=p=>Object.keys(p).length!==0,y=p=>{let d=new Date(p*1e3);return new Intl.DateTimeFormat("default",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}).format(d)};return(p,d)=>(g(),m(A,null,[e("form",{onSubmit:G(c,["prevent"]),id:"notes-form",ref:"notesForm"},[e("div",null,[e("label",mi,[e("span",fi,[_i,$(v(p.$t("Notes")),1)])]),B(e("textarea",{id:"note","onUpdate:modelValue":d[0]||(d[0]=l=>a.value=l),class:X(["form-control mb-2",{"is-invalid":k(_.value)}]),name:"note",placeholder:p.$t("Note")},null,10,yi),[[O,a.value]]),B(e("select",{name:"note_type","onUpdate:modelValue":d[1]||(d[1]=l=>r.value=l),id:"note_type",class:"form-select mt-2"},ki,512),[[E,r.value]]),e("button",{type:"submit",class:"btn btn-success mt-2",disabled:u.value},"Add Note",8,$i),_.value&&_.value.note?(g(),m("small",Ci,v(_.value.note[0]),1)):I("",!0)])],40,gi),Fi,e("div",Si,[(g(!0),m(A,null,M(s.value,l=>(g(),m("div",{key:l.id,class:"note mb-3"},[e("div",Ni,[e("p",Bi,v(l.note),1),e("span",{class:X(l.type=="Call Declined"?"text-danger":"text-success")},v(l.type),3),l.user?(g(),m("span",Ti,[e("em",null,[e("strong",null,v(l.user.full_name),1)])])):I("",!0),e("span",Di,[e("strong",null,[e("em",null,v(y(l.created_at)),1)])])]),e("div",Ai,[e("span",{class:"delete-icon",onClick:i=>b(l.id)},ji,8,Li)])]))),128))])],64))}},Ui=["onSubmit"],Ei={for:"note",class:"form-label fw-bold"},Wi={class:"d-flex align-items-center"},Oi=e("i",{class:"align-middle me-2 fas fa-fw fa-clipboard-list"},null,-1),Hi={class:"form-group mb-3"},Pi=e("label",{for:"start_date"},"Typ",-1),zi=e("option",{value:"Call"},"Call",-1),Ri=e("option",{value:"Meeting"},"Meeting",-1),Ii=e("option",{value:"E-Mail"},"E-Mail",-1),qi=e("option",{value:"Task"},"Task",-1),Yi=[zi,Ri,Ii,qi],Gi={class:"form-group mb-3"},Xi=e("label",{for:"start_date"},"Start Datum",-1),Ki={class:"form-group mb-3"},Qi=e("label",{for:"end_date"},"Ende Datum",-1),Ji={class:"form-group"},Zi=e("label",{for:"start_date"},"Beschreibung",-1),el=["disabled"],tl={key:0,class:"invalid-feedback"},sl=e("hr",null,null,-1),ol={class:"d-flex flex-column"},nl={class:"d-flex flex-column"},il={class:"mb-1"},ll={key:0,style:{"font-size":"11px"}},al={style:{"font-size":"11px"}},dl={class:"d-flex gap-1"},rl=["onClick"],cl=e("i",{class:"align-middle me-2 fas fa-fw fa-trash text-danger"},null,-1),pl=[cl],ul={__name:"Activities",props:{url:{type:String},deleteUrl:{type:String},leadId:{type:String},leadActivities:{type:Array}},setup(o){const n=o,s=w([]),a=w(""),r=w("Call"),_=w(""),u=w(""),c=w({}),b=w(!1);Y(()=>{s.value=[...n.leadActivities]});const k=()=>{b.value=!0;let l=new FormData;l.append("description",a.value),l.append("activity_type",r.value),l.append("activity_start_date",_.value),l.append("activity_end_date",u.value),l.append("lead_id",n.leadId),console.log(l),axios.post(n.url,l,{headers:{"Content-Type":"application/json"}}).then(i=>{i.status===200&&(s.value=[...s.value,i.data.leadActivity],a.value="",b.value=!1,c.value={},window.notyf.open({type:"success",message:"Activity saved!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}))}).catch(i=>{console.log(i.message),i.response.status===422&&(c.value=i.response.data.errors,b.value=!1)})},y=l=>{axios.delete(n.deleteUrl.replace(":activityId",l)).then(i=>{i.status===200&&(s.value=s.value.filter(x=>x.id!==l),window.notyf.open({type:"success",message:"Activity deleted!",duration:"2500",ripple:!0,position:"bottom right",dismissible:!0}))}).catch(i=>{console.log(i.message),window.notyf.open({type:"danger",message:i.message,duration:"2500",ripple:!0,position:"bottom right",dismissible:!0})})},p=l=>Object.keys(l).length!==0;function d(l){const i=new Date(l);let x=i.getUTCDate().toString().padStart(2,"0"),j=(i.getUTCMonth()+1).toString().padStart(2,"0"),z=i.getUTCFullYear(),H=i.getUTCHours().toString().padStart(2,"0"),K=i.getUTCMinutes().toString().padStart(2,"0");return`${x}.${j}.${z} ${H}:${K}`}return(l,i)=>(g(),m(A,null,[e("form",{onSubmit:G(k,["prevent"]),id:"activities-form",ref:"activitiesForm"},[e("div",null,[e("label",Ei,[e("span",Wi,[Oi,$(v(l.$t("Activities")),1)])]),e("div",Hi,[Pi,B(e("select",{name:"activity_type","onUpdate:modelValue":i[0]||(i[0]=x=>r.value=x),id:"note_type",class:"form-select mt-2"},Yi,512),[[E,r.value]])]),e("div",Gi,[Xi,B(e("input",{type:"datetime-local",class:"form-control",id:"activity_start_date","onUpdate:modelValue":i[1]||(i[1]=x=>_.value=x)},null,512),[[O,_.value]])]),e("div",Ki,[Qi,B(e("input",{type:"datetime-local",class:"form-control",id:"activity_end_date","onUpdate:modelValue":i[2]||(i[2]=x=>u.value=x)},null,512),[[O,u.value]])]),e("div",Ji,[Zi,B(e("textarea",{id:"activity","onUpdate:modelValue":i[3]||(i[3]=x=>a.value=x),class:X(["form-control",{"is-invalid":p(c.value)}]),name:"activity"},null,2),[[O,a.value]])]),e("button",{type:"submit",class:"btn btn-success mt-2",disabled:b.value},"Add Activity",8,el),c.value&&c.value.activity?(g(),m("small",tl,v(c.value.activity[0]),1)):I("",!0)])],40,Ui),sl,e("div",ol,[(g(!0),m(A,null,M(s.value,x=>(g(),m("div",{key:x.id,class:"note mb-3"},[e("div",nl,[e("p",il,v(x.description),1),e("span",null,v(x.type),1),x.user?(g(),m("span",ll,[e("em",null,[e("strong",null,v(x.user.full_name),1)])])):I("",!0),e("span",al,[$("Start Datum: "),e("strong",null,[e("em",null,v(d(x.start_date)),1)])])]),e("div",dl,[e("span",{class:"delete-icon",onClick:j=>y(x.id)},pl,8,rl)])]))),128))])],64))}},hl={props:["chartData","chartType"],mounted(){this.createChart()},methods:{createChart(){const o=this.$refs.chart.getContext("2d");new Be(o,{type:this.chartType,data:{labels:this.chartData.labels,datasets:[{label:"Opens",data:this.chartData.opens,fill:this.chartType==="line",backgroundColor:this.chartType==="bar"?"#3B82EC":"transparent",borderColor:"#3B82EC",tension:this.chartType==="line"?.4:0},{label:"Clicks",data:this.chartData.clicks,fill:this.chartType==="line",backgroundColor:this.chartType==="bar"?"#E8EAED":"transparent",borderColor:"#E8EAED",borderDash:this.chartType==="line"?[4,4]:[],tension:this.chartType==="line"?.4:0}]},options:{maintainAspectRatio:!1,plugins:{legend:{display:!0},tooltip:{intersect:!1},filler:{propagate:!1}},interaction:{intersect:!0},scales:{x:{grid:{color:"rgba(0,0,0,0.05)"},ticks:{maxTicksLimit:15}},y:{ticks:{stepSize:500},display:!0,grid:{color:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",tickColor:"#fff"},borderDash:[5,5]}}}})}}},gl={ref:"chart",width:"749",height:"350"};function ml(o,n,s,a,r,_){return g(),m("div",null,[e("canvas",gl,null,512)])}const fl=ye(hl,[["render",ml]]);document.addEventListener("DOMContentLoaded",()=>{if(document.getElementsByClassName("js-simplebar")[0]){new Te(document.getElementsByClassName("js-simplebar")[0]);const n=document.getElementsByClassName("sidebar")[0];document.getElementsByClassName("sidebar-toggle")[0].addEventListener("click",()=>{n.classList.toggle("collapsed"),n.addEventListener("transitionend",()=>{window.dispatchEvent(new Event("resize"))})})}});document.addEventListener("DOMContentLoaded",()=>{le.replace()});window.feather=le;window.notyf=new De({duration:5e3,position:{x:"right",y:"top"},types:[{type:"default",backgroundColor:"#3B7DDD",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"info-bsha",backgroundColor:"#495e69",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"success",backgroundColor:"#28a745",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"warning",backgroundColor:"#ffc107",icon:{className:"notyf__icon--error",tagName:"i"}},{type:"danger",backgroundColor:"#dc3545",icon:{className:"notyf__icon--error",tagName:"i"}}]});window.dragula=Ae;window.jQuery=window.$=Le;const _l={de:nt},ve=Me({locale:"de",fallbackLocale:"en",messages:_l});ve.global.locale=document.documentElement.lang.substring(0,2);const yl=Ue(),Z=je({components:{WorkFlow:$n,ShowWorkFlow:Dn,PipelineStageRepeater:ti,TextArea:ri,MultiSelectList:hi,Notes:Vi,Activities:ul,OpenClicksChart:fl}});Z.config.globalProperties.emitter=yl;Z.use(ve);document.querySelector("#app")!==null&&Z.mount("#app");window.DataTable=Ve;
